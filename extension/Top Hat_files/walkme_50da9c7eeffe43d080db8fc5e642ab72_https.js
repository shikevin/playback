/*!
 * WalkMe
 * http://www.walkme.com/
 *
 * Copyright 2012, WalkMe ltd
 */
function WalkmeSnippet(){function e(){window._walkmeInternals=window._walkmeInternals||{},N=_walkmeInternals;var e="false";if(N.isSelfHosted="true"===e,d(),C=new g,C.cdnServerName.indexOf("###AUTO_DETECT###")>-1&&(F=A(C.cdnServerName.replace("###AUTO_DETECT###","")),C=m(C)),j=f(),C=h(C),1==window.walkme_load_in_iframe||top==window)if(S()){var t=window[l()],i=N.blocked;if(r(),!w()&&window.document.dontLoadTriangle)return window.walkme_snippet_blocked=!0,N.blocked=!0,void(N.continueLoad=n);if(t&&!i)try{console.log("WalkMe Snippet was loaded twice")}catch(o){}n()}else try{walkme_browser_not_supported()}catch(o){}}function r(){var e=l();window[e]=P}function n(){window.walkme_custom_settings_data?t(walkme_custom_settings_data):k(j,null,N.isSelfHosted,"fixedCallback",t)}function t(e){return!w()&&window.document.dontLoadTriangle?(N.blocked=!0,void(N.continueLoad=function(){i(e)})):void i(e)}function i(e){x=m(e);var r=window.walkme_settings_callback;r&&r(x);var n=I("walkme_is_enabled_override");if(void 0!==n){if("0"===n)return}else if(!e.IsEnabled)return;o(e.jQueryFile)}function o(e){if(window.walkme_custom_jquery)window.mtjQuery=walkme_custom_jquery,a();else{var r=_("walkmeCustomjQueryUrl");if(0!=r&&(e=r),N.localJQuery){var n=e.lastIndexOf("/"),t=e.substring(n+1);e="https://localhost/mt/resources/"+t}k(e,a)}}function a(){void 0!=window.mtjQuery&&(M||(M=!0,window.walkme_custom_jquery||mtjQuery.noConflict(),mtjQuery(document).ready(function(){try{u(x)}catch(e){}})))}function s(){var e;N.localLib&&(e="https://localhost/mt/lib/maketutorial_lib.js");var r=_("walkmeCustomeLibUrl");return 0!=r?r:e}function u(e){var r=_("wm-prelibjs");r&&(e.PreLibJsFile=r),e.PreLibJsFile&&""!=e.PreLibJsFile?(window.walkme_pre_lib_loaded=function(){c(e)},k(e.PreLibJsFile)):c(e)}function c(e){var r=s()||e.LibFile;k(r)}function l(){return w()?"wmPreviewSnippet":"wmSnippet"}function d(){var e="###IS_PREVIEW_MODE###";"true"===e&&(W=R.preview)}function w(){return W==R.preview}function g(){this.recorderServer="###RECORDER_SERVER_NAME###",this.cdnServerName="https://d3b3ehuo35wzeh.cloudfront.net",this.storage="cookie",this.userGuids=["50da9c7eeffe43d080db8fc5e642ab72"],window.walkme_custom_cdn_server&&(this.cdnServerName=walkme_custom_cdn_server),window.walkme_custom_app_server&&(this.recorderServer=walkme_custom_app_server),this.triangleUrl=window.walkme_custom_data_url?walkme_custom_data_url:this.cdnServerName+"###SPECIAL_TRIANGLE_FILE###",this.datafilesArray=window.walkme_custom_datafile_url?walkme_custom_datafile_url:"###SPECIAL_DATA_FILE###",this.widgetUrl=window.walkme_custom_widget_url?walkme_custom_widget_url:"###SPECIAL_WIDGET_FILE###"}function f(){var e="walkme_custom_user_settings_",r="https://s3.amazonaws.com/s3.maketutorial.com/users/50da9c7eeffe43d080db8fc5e642ab72/settings.txt",n=I(e+"url",!0),t=I(e+"guid",!0),i=I(e+"env",!0);return n&&(r=n),t&&(r=r.replace(/(users\/)([^\/]*)(\/)/,"$1"+t+"$3")),(i||""===i)&&(i&&(i+="/"),r=r.replace(/(users\/[^\/]*\/)(.*)(sett)/,"$1"+i+"$3")),m(r)}function m(e){return void 0==F?e:T(e,function(e){return e.replace("###AUTO_DETECT###",F)})}function v(e){var r,n,t,i=document.cookie.split(";");for(r=0;r<i.length;r++)if(n=i[r].substr(0,i[r].indexOf("=")),t=i[r].substr(i[r].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n==e)return t;return!1}function _(e){if(U){var r=U.getItem(e);if(null!=r)return r}return!1}function h(e){return e}function S(){var e=I("walkme_dont_check_browser");if("1"===e||w())return!0;var r=b(),n=p();return r&&n}function p(){var e=/android.+mobile|blackberry|iemobile|ip(hone|od)|phone|symbian|windows (ce|phone)/i.test(navigator.userAgent||navigator.vendor||window.opera),r=Math.max(screen.width,screen.height),n=Math.min(screen.width,screen.height),t=800>r||600>n;return!e&&!t}function b(){var e={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var r=0;r<e.length;r++){var n=e[r].string,t=e[r].prop;if(this.versionSearchString=e[r].versionSearch||e[r].identity,n){if(-1!=n.indexOf(e[r].subString))return e[r].identity}else if(t)return e[r].identity}},searchVersion:function(e){var r=e.indexOf(this.versionSearchString);if(-1!=r)return parseFloat(e.substring(r+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};if(e.init(),"Chrome"==e.browser||"Firefox"==e.browser||"Safari"==e.browser&&"Windows"!=e.OS)return!0;if("Explorer"==e.browser&&e.version>=7)return!0;try{console.log("WalkMe: Incompatible browser.")}catch(r){}return!1}function k(e,r,n,t,i){var o=document.createElement("script");o.async=!0,n&&(e+=(-1==e.indexOf("?")?"?":"&")+"_wmts="+O()),o.src=e,o.id="mt_script",r&&(o.onload=r,o.onreadystatechange=r),E(t,i),y().appendChild(o)}function y(){return L||(L=document.getElementsByTagName("head")[0]),L}function E(e,r){if(e&&r){var n=window[e];window[e]=function(t){window[e]=n,r(t)}}}function O(){return(new Date).getTime()}function A(e){for(var r=document.getElementsByTagName("script"),n=0;n<r.length;n++){var t=r[n],i=t.src;if(i&&i.indexOf("walkme_")>0){if(e){var n=i.indexOf(e);return i.substr(0,n)}var n=i.indexOf("walkme_");return i.substr(0,n-1)}}return""}function T(e,r){if("string"==typeof e)return r(e);if("[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<e.length;n++)e[n]=T(e[n],r);return e}if("object"==typeof e){for(var n in e)Object.hasOwnProperty.call(e,n)&&(e[n]=T(e[n],r));return e}return e}function I(e,r){var n=r?_(e):v(e);if(n!==!1)return n;var t=window[e];return void 0!=t?t:void 0}var L,x,C,j,F,N,P=this,M=!1,D="23",R={publish:0,preview:1},W=R.publish,U=window.localStorage;this.getSnippetVersion=function(){return D},this.getSettingsFile=function(){return x},this.getServerSettings=function(){return C},this.fixAutoDetectPaths=m,setTimeout(e,0)}new WalkmeSnippet;
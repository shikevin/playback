var _fs_hash="e29a1a63ed1aac529db74062e5f65ce3";
try{"undefined"===typeof WeakMap&&function(){var g=Object.defineProperty,B=Date.now()%1E9,a=function(){this.name="__st"+(1E9*Math.random()>>>0)+(B++ +"__")};a.prototype={set:function(a,f){var d=a[this.name];d&&d[0]===a?d[1]=f:g(a,this.name,{value:[a,f],writable:!0})},get:function(a){var f;return(f=a[this.name])&&f[0]===a?f[1]:void 0}};window.WeakMap=a}()}catch(e$$12){};try{(function(g){function B(){p=!1;var b=s;s=[];b.sort(function(a,b){return a.uid_-b.uid_});var c=!1;b.forEach(function(b){var l=b.takeRecords();a(b);l.length&&(b.callback_(l,b),c=!0)});c&&B()}function a(a){a.nodes_.forEach(function(b){(b=k.get(b))&&b.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function e(a,b){for(var c=a;c;c=c.parentNode){var l=k.get(c);if(l)for(var n=0;n<l.length;n++){var d=l[n],r=d.options;(c===a||r.subtree)&&(r=b(r))&&d.enqueue(r)}}}function f(a){this.callback_=
a;this.nodes_=[];this.records_=[];this.uid_=++q}function d(a,b){this.type=a;this.target=b;this.addedNodes=[];this.removedNodes=[];this.oldValue=this.attributeNamespace=this.attributeName=this.nextSibling=this.previousSibling=null}function c(a,b){return t=new d(a,b)}function b(a){if(u)return u;var b=t,c=new d(b.type,b.target);c.addedNodes=b.addedNodes.slice();c.removedNodes=b.removedNodes.slice();c.previousSibling=b.previousSibling;c.nextSibling=b.nextSibling;c.attributeName=b.attributeName;c.attributeNamespace=
b.attributeNamespace;c.oldValue=b.oldValue;u=c;u.oldValue=a;return u}function l(a,b,c){this.observer=a;this.target=b;this.options=c;this.transientObservedNodes=[]}var k=new WeakMap,n=window.msSetImmediate;if(!n){var r=[],h=String(Math.random());window.addEventListener("message",function(a){a.data===h&&(a=r,r=[],a.forEach(function(a){a()}))});n=function(a){r.push(a);window.postMessage(h,"*")}}var p=!1,s=[],q=0;f.prototype={observe:function(a,b){a=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||
a;if(!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;var c=k.get(a);c||k.set(a,c=[]);for(var n,d=0;d<c.length;d++)if(c[d].observer===this){n=c[d];n.removeListeners();n.options=b;break}n||(n=new l(this,a,b),c.push(n),this.nodes_.push(a));n.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){a=k.get(a);for(var b=0;b<a.length;b++){var c=
a[b];if(c.observer===this){c.removeListeners();a.splice(b,1);break}}},this);this.records_=[]},takeRecords:function(){var a=this.records_;this.records_=[];return a}};var t,u;l.prototype={enqueue:function(a){var b=this.observer.records_,c=b.length;if(0<b.length){var l=b[c-1];l=l===a?l:!u||l!==u&&l!==t?null:u;if(l){b[c-1]=l;return}}else s.push(this.observer),p||(p=!0,n(B));b[c]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",
this,!0);b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0);b.childList&&a.addEventListener("DOMNodeInserted",this,!0);(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0);b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0);b.childList&&a.removeEventListener("DOMNodeInserted",
this,!0);(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a);this.transientObservedNodes.push(a);var b=k.get(a);b||k.set(a,b=[]);b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[];a.forEach(function(a){this.removeListeners_(a);a=k.get(a);for(var b=0;b<a.length;b++)if(a[b]===this){a.splice(b,1);break}},this)},handleEvent:function(a){switch(a.type){case "DOMAttrModified":var l=
a.attrName,n=a.relatedNode.namespaceURI,k=a.target,d=new c("attributes",k);d.attributeName=l;d.attributeNamespace=n;var r=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;e(k,function(a){if(a.attributes&&(!a.attributeFilter||!a.attributeFilter.length||-1!==a.attributeFilter.indexOf(l)||-1!==a.attributeFilter.indexOf(n)))return a.attributeOldValue?b(r):d});break;case "DOMCharacterDataModified":k=a.target;d=c("characterData",k);r=a.prevValue;e(k,function(a){if(a.characterData)return a.characterDataOldValue?
b(r):d});break;case "DOMNodeRemoved":this.addTransientObserver(a.target);case "DOMNodeInserted":var k=a.relatedNode,h=a.target,p;"DOMNodeInserted"===a.type?(a=[h],p=[]):(a=[],p=[h]);var f=h.previousSibling,h=h.nextSibling,d=c("childList",k);d.addedNodes=a;d.removedNodes=p;d.previousSibling=f;d.nextSibling=h;e(k,function(a){if(a.childList)return d})}t=u=void 0}};g.JsMutationObserver=f;!g.MutationObserver&&g.WebKitMutationObserver&&(g.MutationObserver=g.WebKitMutationObserver);g.MutationObserver||(g.MutationObserver=
f)})(this)}catch(e$$15){};(function(){var g;(function(a){a.EVENT_MUT_INSERT=2;a.EVENT_MUT_REMOVE=3;a.EVENT_MUT_ATTR=4;a.EVENT_MUT_ATTR_CURVE=5;a.EVENT_MUT_TEXT=6;a.EVENT_MUT_SKIPIDS=7;a.EVENT_MOUSEMOVE=8;a.EVENT_MOUSEMOVE_CURVE=9;a.EVENT_SCROLL=10;a.EVENT_SCROLL_CURVE=11;a.EVENT_MOUSEDOWN=12;a.EVENT_MOUSEUP=13;a.EVENT_KEYDOWN=14;a.EVENT_KEYUP=15;a.EVENT_CLICK=16;a.EVENT_FOCUS=17;a.EVENT_VALUECHANGE=18;a.EVENT_RESIZE=19;a.EVENT_DOMLOADED=20;a.EVENT_LOAD=21;a.EVENT_PLACEHOLDER_SIZE=22;a.EVENT_UNLOAD=23;a.EVENT_BLUR=24;a.EVENT_SET_FRAME_BASE=
25;a.EVENT_TOUCHSTART=32;a.EVENT_TOUCHEND=33;a.EVENT_TOUCHCANCEL=34;a.EVENT_TOUCHMOVE=35;a.EVENT_TOUCHMOVE_CURVE=36;a.EVENT_NAVIGATE=37;a.EVENT_PLAY=38;a.EVENT_PAUSE=39;a.EVENT_INNERWIDTH=40;a.EVENT_INNERWIDTH_CURVE=41;a.EVENT_LOG=48;a.EVENT_ERROR=49;a.EVENT_SYS_SETMETA=8192;a.EVENT_SYS_SETVAR=8193;a.EVENT_COOKED_LOAD="load";a.EVENT_COOKED_UNLOAD="unload";a.EVENT_COOKED_NAVIGATE="navigate";a.EVENT_COOKED_CLICK="click";a.EVENT_COOKED_FOCUS="focus";a.EVENT_COOKED_CHANGE="change";a.isUserActionEvent=
function(e){switch(e){case a.EVENT_MOUSEDOWN:case a.EVENT_MOUSEMOVE:case a.EVENT_MOUSEMOVE_CURVE:case a.EVENT_MOUSEUP:case a.EVENT_KEYDOWN:case a.EVENT_KEYUP:case a.EVENT_TOUCHSTART:case a.EVENT_TOUCHEND:case a.EVENT_TOUCHMOVE:case a.EVENT_TOUCHMOVE_CURVE:case a.EVENT_TOUCHCANCEL:case a.EVENT_CLICK:case a.EVENT_SCROLL:case a.EVENT_SCROLL_CURVE:case a.EVENT_NAVIGATE:return!0}return!1}})(g||(g={}));(function(a){function e(a){var c={};if(!a)return c;if(a.classList)for(var k=0;k<a.classList.length;++k)c[a.classList[k]]=
!0;else if(a.className)for(a=(null!=a.className.animVal?a.className.animVal:a.className).split(" "),k=0;k<a.length;++k)c[a[k].trim()]=!0;return c}a.NYI_KIND="nyi";a.BLOCKED_KIND="blocked";a.HIDE_KIND="hide";var f=function(){function a(b,c){var n=this;this._parent=b;this._classes={};this._attrs={};for(var d=0,h=0,e=0,f=function(){if(0!=e-h)switch(d){case 0:n._tag=c.slice(h,e);break;case 1:n._id=c.slice(h+1,e);break;case 2:n._classes[c.slice(h+1,e)]=!0;break;case 3:var a=c.slice(h,e).slice(1).split("="),
b=a[0].trim(),a=a[1].trim();if("]"!=a[a.length-1])throw"Unsupported selector";a=a.slice(0,a.length-1);if("'"==a[0]||'"'==a[0]){if(a[a.length-1]!=a[0])throw"Unsupported selector";a=a.slice(1,a.length-1)}n._attrs[b]=a}},e=0;e<c.length;++e)switch(c[e]){case "#":f();d=1;h=e;break;case ".":f();d=2;h=e;break;case "[":f(),d=3,h=e}f()}a.prototype.parent=function(){return this._parent};a.prototype.serialize=function(){var a="";this._tag&&(a+=this._tag);this._id&&(a+="#"+this._id);for(var b in this._classes)a+=
"."+b;for(var c in this._attrs)a+="["+c+"="+this._attrs[c]+"]";return a};a.prototype.matches=function(a,b){if(!a||this._tag&&a.tagName.toLowerCase()!=this._tag||this._id&&a.id!=this._id)return!1;for(var c in this._classes)if(!(c in b))return!1;for(var d in this._attrs)if(a.getAttribute(d)!=this._attrs[d])return!1;return this._parent?this._parent.matches(a.parentElement,e(a.parentElement)):!0};return a}();a.BlockRuleElem=f;var d=function(){function a(b){this.kind=b.Kind;b=b.Selector.split(">");for(var c=
null,n=0;n<b.length;)var d=b[n++].trim(),c=new f(c,d);this.rules=c}a.prototype.serialize=function(){for(var a=null,b=this.rules;b;b=b.parent())a=a?b.serialize()+">"+a:b.serialize();return a};return a}();a.BlockRule=d;var c=function(){function a(){this._rules=[];this.rawRules=[]}a.prototype.isBlocked=function(a){for(var b=e(a),c=0;c<this._rules.length;++c)if(this._rules[c].rules.matches(a,b))return this._rules[c].kind;return null};a.prototype.addRule=function(a){this.rawRules.push(a);this._rules.push(new d(a))};
a.prototype.mungeBlockedStyle=function(a,b){var c=a.getBoundingClientRect(),d=Math.floor(c.width),c=Math.floor(c.height);if("object"==a.tagName.toLowerCase())for(var h=a.children,e=0;e<h.length;e++){var f=h[e];if("embed"==f.tagName.toLowerCase()){h=f.getBoundingClientRect();d=Math.max(d,Math.floor(h.width));c=Math.max(c,Math.floor(h.height));break}}h="";null!=b&&(h=b.trim());0<h.length&&";"!=h.charAt(h.length-1)&&(h+=";");e=a.style.getPropertyValue("display");"inline"==(e?e:window.getComputedStyle(a).getPropertyValue("display")).toLowerCase()&&
(h+="display: inline-block !important;");if(0!=d||0!=c)h+="width:"+d+"px;height:"+c+"px;";return h};return a}();a.Blocker=c})(g||(g={}));(function(a){a.Node_ELEMENT_NODE=1;a.Node_ATTRIBUTE_NODE=2;a.Node_TEXT_NODE=3;a.Node_CDATA_SECTION_NODE=4;a.Node_ENTITY_REFERENCE_NODE=5;a.Node_ENTITY_NODE=6;a.Node_PROCESSING_INSTRUCTION_NODE=7;a.Node_COMMENT_NODE=8;a.Node_DOCUMENT_NODE=9;a.Node_DOCUMENT_TYPE_NODE=10;a.Node_DOCUMENT_FRAGMENT_NODE=11;a.Node_NOTATION_NODE=12;a.XHR_UNSENT=0;a.XHR_OPENED=1;a.XHR_HEADERS_RECEIVED=
2;a.XHR_LOADING=3;a.XHR_DONE=4})(g||(g={}));(function(a){function e(a){return"_fsblocked"in a}function f(a,b){a._fsblocked=b}function d(a){return a?a._fs:null}function c(a){return(a=d(a))?a.id:0}function b(a,b){if(a.attributes&&0<a.attributes.length)for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c];b(d.name,d.value)}}a.isBlocked=e;a.blockKind=function(a){return a._fsblocked};a.setBlocked=f;a.mirrorFor=d;a.fsid=c;a.fsidIfNotBlocked=function(a){return e(a)?0:c(a)};var l=function(){function c(a,
b){this._ctx=a;this._blocker=b;this._curId=1}c.prototype.curId=function(){return this._curId};c.prototype.tokenizeNode=function(a,b,c,l){var k=this._curId;try{var e=[],f=this.tokeNode(c,e,l);if(f&&a){var g=d(a),x=d(b);f.parent=g;x==g.child&&(g.child=f);f.next=x;null==x?(f.prev=g.lastChild,g.lastChild=f):f.prev=x.prev;null!=f.prev&&(f.prev.next=f);null!=f.next&&(f.next.prev=f)}return e}catch(w){return this._curId=k,[]}};c.prototype.removeMirror=function(a){a.parent.child==a&&(a.parent.child=a.next);
a.parent.lastChild==a&&(a.parent.lastChild=a.prev);a.prev&&(a.prev.next=a.next);a.next&&(a.next.prev=a.prev);a.id=0;a.child&&this.clearIds(a.child)};c.prototype.clearIds=function(a){a.id=0;a.next&&this.clearIds(a.next);a.child&&this.clearIds(a.child)};c.prototype.tokeNode=function(c,d,l){if("SCRIPT"==c.nodeName||c.nodeType==a.Node_COMMENT_NODE)return null;var k={id:this._curId++,node:c};c._fs=k;var e=c.nodeName;"http://www.w3.org/2000/svg"==c.namespaceURI&&(e="svg:"+e);d.push("<"+e);try{if(this.processBlockedElem(c,
d))return k;l&&l(c);b(c,function(a,b){d.push(":"+a);d.push(b)});if(c.firstChild){d.push("[");for(var e=null,f=c.firstChild;f;f=f.nextSibling){var g=this.tokeNode(f,d,l);g&&(g.parent=k,e?(e.next=g,g.prev=e):k.child=g,e=k.lastChild=g)}d.push("]")}c.nodeType==a.Node_TEXT_NODE&&d.push(c.textContent)}catch(u){}return k};c.prototype.processBlockedElem=function(c,d){var l=this;if(c.nodeType==a.Node_ELEMENT_NODE&&this._blocker){var k=this._blocker.isBlocked(c);if(k){f(c,k);var e,g=!1;b(c,function(a,b){if("class"==
a)b+=" _fs_block_"+k,e=!0;else if("style"==a)b=l._blocker.mungeBlockedStyle(c,b),g=!0;else if("value"==a||"checked"==a||"src"==a)return;d.push(":"+a);d.push(b)});e||(d.push(":class"),d.push("_fs_block_"+k));g||(d.push(":style"),d.push(this._blocker.mungeBlockedStyle(c,"")));return!0}}return!1};return c}();a.NodeEncoder=l})(g||(g={}));(function(a){function e(a,b,d){var k=Object.getOwnPropertyDescriptor(a.prototype,b);Object.defineProperty(a.prototype,b,{set:function(a){var b=this;setTimeout(function(){d(b)},
0);return k.set.call(this,a)},get:function(){return k.get.call(this)}})}function f(a){switch(a.type){case "checkbox":case "radio":return""+a.checked;default:return a.value}}var d=function(){function a(b,c){this._onchange=b;this._checkElem=c;this._fallback=!1;this._elems={};this._values={}}a.prototype.hookEvents=function(){this.shimPrototypes()||(this._fallback=!0)};a.prototype.addInput=function(a,c){this._fallback&&(this._elems[a]=c,this._values[a]=f(c),this._values[a]&&this._onchange(c))};a.prototype.tick=
function(){if(this._fallback)for(var a in this._elems)if(this._checkElem(this._elems[a])){var c=this._elems[a],d=f(c);d!=this._values[a]&&(this._onchange(c),this._values[a]=d)}else delete this._elems[a],delete this._values[a]};a.prototype._usingFallback=function(){return this._fallback};a.prototype._trackingElem=function(a){return!!this._elems[a]};a.prototype.shimPrototypes=function(){var a=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");if(!a||!a.set)return!1;e(HTMLInputElement,
"value",this._onchange);e(HTMLInputElement,"checked",this._onchange);e(HTMLSelectElement,"value",this._onchange);e(HTMLTextAreaElement,"value",this._onchange);return!0};return a}();a.InputWatcher=d;a.valueOfInputishElem=f})(g||(g={}));(function(a){var e=function(){function a(){this.dict={idx:-1,map:{}};this.startIdx=0}a.prototype.encode=function(a){function c(){l?1<f.length?k.push([l.idx,f.length]):k.push(l.idx):k.push(f[0])}if(0==a.length)return[];var b,l=null,k=[],e,f=[a[0]];for(b=1;b<a.length;b++)if(e=
a[b],l&&l.map.hasOwnProperty(e))f.push(e),l=l.map[e];else{c();var h=this.startIdx+b-f.length;null==l&&(l={idx:h,map:{}},this.dict.map[f[f.length-1]]=l);l.map[e]={idx:h,map:{}};f=[e];l=this.dict.map.hasOwnProperty(e)?this.dict.map[e]:null}c();this.startIdx+=a.length;return k};return a}();a.LZJGWEncoder=e;e=function(){function a(){this._seq=[]}a.prototype.sequence=function(){return this._seq};a.prototype.decode=function(a){for(var c=this._seq.length,b=0;b<a.length;++b){var l=a[b];switch(typeof l){case "string":this._seq.push(l);
break;case "number":this._seq.push(this._seq[l]);break;case "object":for(var e=0;e<l[1];e++)this._seq.push(this._seq[l[0]+e])}}return c};return a}();a.LZJGWDecoder=e})(g||(g={}));(function(a){a.EVENT_PROCESSING_INTERVAL=250;a.UPLOAD_INTERVAL=5E3;a.USER_INACTIVITY_TIMEOUT=1E4;var e=function(){function a(c){this._interval=c;this._handle=-1}a.prototype.oneShot=function(a){setTimeout(a,this._interval)};a.prototype.start=function(a){-1==this._handle&&(this._handle=setInterval(a,this._interval))};a.prototype.stop=
function(){-1!=this._handle&&(clearInterval(this._handle),this._handle=-1)};return a}(),f=function(){function d(c,b,d,k,f,g){"undefined"===typeof k&&(k=function(){});"undefined"===typeof f&&(f=new e(a.EVENT_PROCESSING_INTERVAL));"undefined"===typeof g&&(g=new e(a.UPLOAD_INTERVAL));this._ctx=c;this._processor=b;this._mutProvider=d;this._beforeProcessEvents=k;this._processEventsTicker=f;this._uploadTicker=g;this._eventQueue=[];this._outgoingQueue=[];this._bundleQueue=[];this._recordingDisabled=!1;this._bundleSeq=
1;this._lastWhenTime=this._lastPostTime=0;this._lastWhen=-1;this._lastUserAction=0;this._lastBundleTime=c.wallTime()}d.prototype.rawQueue=function(){return this._eventQueue};d.prototype.startPipeline=function(){var a=this;this._recordingDisabled||this._pipelineStarted||(this.processEvents(),this._processEventsTicker.start(function(){a.processEvents()}),this._ctx.amInsideIFrame()||this._uploadTicker.start(function(){a.enqueueNextBundle()}),this._pipelineStarted=!0)};d.prototype.enqueue=function(a,
b){this.enqueueAt(this._ctx.now(),a,b)};d.prototype.enqueueAt=function(c,b,d){this._recordingDisabled||(c<=this._lastWhen&&(c=this._lastWhen+1),this._lastWhen=c,this._eventQueue.push({When:c,Kind:b,Args:d}),a.isUserActionEvent(b)&&(this._lastUserAction=c))};d.prototype.disableRecording=function(){this._recordingDisabled=!0;this.stopPipeline()};d.prototype.shutdown=function(){this.processEvents();this.maybeSendNextBundle();this.disableRecording()};d.prototype.prequeue=function(a,b){this._recordingDisabled||
this._eventQueue.unshift({When:0,Kind:a,Args:b})};d.prototype.appendToOutgoingQueue=function(a){this._outgoingQueue=this._outgoingQueue.concat(a)};d.prototype.lastSentEventTime=function(){return this._lastWhenTime};d.prototype.swanSong=function(){if(!this._recordingDisabled&&!this._ctx.amInsideIFrame()&&(this.processEvents(),this.enqueueNextBundle(),0<this._bundleQueue.length||this._pendingBundle)){var c=this._bundleQueue.concat();this._pendingBundle&&c.unshift(this._pendingBundle);a.log("Saving "+
c.length+" bundles in swan-song.");c={UserId:this._ctx.userId(),SessionId:this._ctx.sessionId(),PageId:this._ctx.pageId(),Bundles:c,PageStartTime:this._ctx.startTime(),LastBundleTime:this._lastBundleTime};try{localStorage.swanSong=a.stringify(c)}catch(b){}}};d.prototype.recoverSwanSong=function(){if(!this._ctx.amInsideIFrame())try{if("swanSong"in localStorage){var c=localStorage.swanSong;delete localStorage.swanSong;var b=JSON.parse(c);if(b.Bundles)if(b.Bundles&&b.UserId&&b.SessionId&&b.PageId)for(c=
0;c<b.Bundles.length;++c){var d=null;0==c&&(d=this._ctx.wallTime()-b.LastBundleTime);this.sendSwanSongBundle(b.UserId,b.SessionId,b.PageId,b.PageStartTime,b.Bundles[c],d)}else a.log("Malformed swan song found. Ignoring it.");else b.Bundle&&b.UserId&&b.SessionId&&b.PageId?this.sendSwanSongBundle(b.UserId,b.SessionId,b.PageId,b.PageStartTime||0,b.Bundle,b.LastBundleTime?this._ctx.wallTime()-b.LastBundleTime:null):a.log("Malformed swan song found. Ignoring it.")}}catch(e){a.log("Error recovering swan-song: "+
e)}};d.prototype.sendSwanSongBundle=function(c,b,d,e,f,g){c="/rec/bundle?OrgId="+this._ctx.orgId()+"&UserId="+c+"&SessionId="+b+"&PageId="+d+"&Seq="+f.Seq;0!=e&&(c+="&PageStartTime="+e);g&&(c+="&DeltaT="+g);this._ctx.post(c,f,function(b){a.log("Sent "+f.Evts.length+" trailing events from last session as Seq "+f.Seq)},function(){a.log("Failed to send events from last session")})};d.prototype.rebaseIframe=function(c){var b=this._ctx.baseUri();0<this._eventQueue.length?this._eventQueue.unshift({When:this._eventQueue[0].When,
Kind:a.EVENT_SET_FRAME_BASE,Args:[b]}):this.enqueue(a.EVENT_SET_FRAME_BASE,[b]);for(var b=0,d=this._eventQueue.length;b<d;b++){var e=this._eventQueue[b],f=e.When+this._ctx.startTime()-c;0>f&&(f=0);e.When=f}};d.prototype.processEvents=function(){this._beforeProcessEvents();if((this._eventQueue.length||this._mutProvider.hasMutations())&&!(this._ctx.now()-this._lastUserAction>a.USER_INACTIVITY_TIMEOUT)){var c=this._eventQueue;this._eventQueue=[];c=this._processor.processQueue(c).concat(this._mutProvider.processMutations());
this.ensureFrameIds(c);this._ctx.amInsideIFrame()?parent.postMessage(a.FS_IFRAME_EVENTS+a.FS_DELIMITER+a.stringify(c),"*"):void 0!==this._ctx.pageId()&&(this._outgoingQueue=this._outgoingQueue.concat(c))}};d.prototype.ensureFrameIds=function(a){var b=this._ctx.frameId();if(b)for(var d=0;d<a.length;++d)a[d].FId=b};d.prototype.enqueueNextBundle=function(){if(0==this._outgoingQueue.length)return this.maybeSendNextBundle(),null;var a={When:this._outgoingQueue[0].When,Seq:this._bundleSeq++,Evts:this._outgoingQueue};
this._outgoingQueue=[];this._bundleQueue.push(a);this.maybeSendNextBundle()};d.prototype.maybeSendNextBundle=function(){var c=this;if(this._ctx.pageId()&&!this._pendingBundle&&0!=this._bundleQueue.length){var b=this._pendingBundle=this._bundleQueue.shift(),d=this._ctx.wallTime(),e="/rec/bundle?OrgId="+this._ctx.orgId()+"&UserId="+this._ctx.userId()+"&SessionId="+this._ctx.sessionId()+"&PageId="+this._ctx.pageId()+"&Seq="+b.Seq+"&DeltaT="+(d-this._lastBundleTime);this._lastPostTime=this._lastBundleTime=
d;this._lastWhenTime=b.Evts[b.Evts.length-1].When;var f=function(){c._ctx.post(e,b,function(d){a.log("Sent bundle "+b.Seq+" with "+b.Evts.length+" events");c._pendingBundle=null;c._ctx.wallTime()-c._lastPostTime>a.UPLOAD_INTERVAL&&c.maybeSendNextBundle()},function(b){a.log("Failed to send events.");if(404!=b)c._uploadTicker.oneShot(f)})};f()}};d.prototype.stopPipeline=function(){this._pipelineStarted&&(this._processEventsTicker.stop(),this._uploadTicker.stop())};return d}();a.EventQueue=f})(g||(g=
{}));(function(a){var e=function(){function e(d,c,b){"undefined"===typeof b&&(b=function(a,b){});this._ctx=d;this._blocker=c;this._visitor=b;this._sentDomSnapshot=!1;this._records=[];this._lz=new a.LZJGWEncoder;this._encoder=new a.NodeEncoder(d,c)}e.prototype.hasMutations=function(){return!this._sentDomSnapshot||0<this._records.length};e.prototype.hookMutations=function(a){var c=this;"undefined"===typeof a&&(a=document.documentElement);this._root=a;this._sentDomSnapshot=!1;(new window.MutationObserver(function(a){c._records=
c._records.concat(a)})).observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0})};e.prototype.processMutations=function(){var d=this._ctx.now(),c=[];this._sentDomSnapshot||(this.genInsert(d,c,null,this._root,null),this._sentDomSnapshot=!0);if(0==this._records.length)return c;var b={},e={};this.processRecords(d,c,e,b);for(var k in e){var f=k.split(":");c.push({Kind:a.EVENT_MUT_ATTR,When:d,Args:[parseInt(f[0]),f[1],e[k]]})}for(k in b)c.push({Kind:a.EVENT_MUT_TEXT,
When:d,Args:[parseInt(k),b[k]]});this._records=[];return c};e.prototype.processRecords=function(d,c,b,e){for(var k={},f={},g=0;g<this._records.length;++g)try{var h=this._records[g],p=a.fsid(h.target);if(p)switch(k[p]=h.target,h.type){case "childList":if(0<h.removedNodes.length)for(var s=0;s<h.removedNodes.length;++s){var q=a.mirrorFor(h.removedNodes[s]);q&&q.id&&q.parent==a.mirrorFor(h.target)&&q.next==a.mirrorFor(h.nextSibling)&&this.genRemove(d,c,q)}p&&(f[p]=h.target);break;case "characterData":var t=
h.target.textContent;h.oldValue!=t&&(a.isBlocked(h.target)||(e[p]=t));break;case "attributes":var u=h.attributeName;h.target.hasAttribute(u)?(t=h.target.getAttribute(u),h.oldValue!=t&&(t=this.rewriteAttr(h.target,u,t),null!==t&&(b[p+":"+u]=t))):b[p+":"+u]=null}}catch(x){}for(var w in f)b=f[w],(e=a.mirrorFor(b))&&e.id&&this.diff(d,c,b,e.child,b.firstChild);for(w in k)b=k[w],this.maybeAddPlaceholderResize(d,c,b)};e.prototype.diff=function(d,c,b,e,f){for(;e&&f;){var g=a.mirrorFor(f);a.fsid(f)?e.id==
g.id?(e=e.next,f=f.nextSibling):(this.genRemove(d,c,e),e=e.next):(this.genInsert(d,c,b,f,e.node),f=f.nextSibling)}for(;e;e=e.next)this.genRemove(d,c,e);for(;f;f=f.nextSibling)this.genInsert(d,c,b,f,null)};e.prototype.maybeAddPlaceholderResize=function(d,c,b){try{for(;b&&!a.fsid(b);)b=b.parentNode;if(b&&a.isBlocked(b)){var e=b.getBoundingClientRect(),f=Math.floor(e.width),g=Math.floor(e.height);c.push({When:d,Kind:a.EVENT_PLACEHOLDER_SIZE,Args:[a.fsid(b),f,g]})}}catch(r){}};e.prototype.genInsert=function(d,
c,b,e,f){var g=this;if(b&&a.isBlocked(b))return null;e=this._encoder.tokenizeNode(b,f,e,function(a){g._visitor(d,a)});0<e.length&&c.push({When:d,Kind:a.EVENT_MUT_INSERT,Args:[a.fsid(b)||-1,a.fsid(f)||-1,this._lz.encode(e)]})};e.prototype.genRemove=function(e,c,b){var f=b.id;this._encoder.removeMirror(b);if(0<c.length&&(b=c[c.length-1],b.Kind==a.EVENT_MUT_REMOVE)){b.Args.push(f);return}c.push({When:e,Kind:a.EVENT_MUT_REMOVE,Args:[f]})};e.prototype.rewriteAttr=function(e,c,b){switch(c){case "style":a.isBlocked(e)&&
(b=this._blocker.mungeBlockedStyle(e,b));break;case "class":a.isBlocked(e)&&0>b.indexOf("_fs_block_")&&(e=a.blockKind(e),b+=" _fs_block_"+e);break;case "value":a.isBlocked(e)&&(b=null)}return b};return e}();a.MutationHandler=e})(g||(g={}));(function(a){var e=function(){function a(c,b,e){this._ctx=c;this._q=b;this._valueIndices=e;this._evts=[]}a.prototype.add=function(a){0==this._evts.length&&this._q.push(a);this._evts.push(a)};a.prototype.finish=function(a,b){var e=this._evts.length;if(1>=e)return!1;
for(var d=this._evts[0].When,f=this._evts[e-1].When,g=0;g<this._valueIndices.length;++g){var h=this._valueIndices[g],p=this._evts[0].Args[h],s=(this._evts[1].When-d)/(f-d),q=(this._evts[1].Args[h]-p)/s,t=this._evts[e-1].Args[h],s=(f-this._evts[e-2].When)/(f-d);b.push(p,t,q,(t-this._evts[e-2].Args[h])/s)}this._evts[0].Kind=a;this._evts[0].Args=b;return!0};a.prototype.evts=function(){return this._evts};return a}(),f=function(){function d(a,b){this._ctx=a;this._blocker=b;this._gotInitialScroll=!1}d.prototype.processQueue=
function(c){if(0==c.length)return c;this.maybeAddInitialScroll();for(var b=this._ctx.now(),d=[],f=new e(this._ctx,d,[0,1]),g={},r={},h,p=0;p<c.length;++p){var s=c[p];switch(s.Kind){case a.EVENT_MOUSEMOVE:f.add(s);break;case a.EVENT_TOUCHMOVE:var q=s.Args[0];q in g||(g[q]=new e(this._ctx,d,[1,2]));g[q].add(s);break;case a.EVENT_SCROLL:q=s.Args[0];q in r||(r[q]=new e(this._ctx,d,[1,2]));r[q].add(s);break;case a.EVENT_INNERWIDTH:h||(h=new e(this._ctx,d,[0]));h.add(s);break;default:d.push(s)}}f.finish(a.EVENT_MOUSEMOVE_CURVE,
[b])&&(c=f.evts(),f=c[c.length-1].Args,2<f.length&&f[2]&&c[0].Args.push(f[2]));for(q in r)c=parseInt(q),r[c].finish(a.EVENT_SCROLL_CURVE,[b,c]);for(q in g)c=parseInt(q),g[c].finish(a.EVENT_TOUCHMOVE_CURVE,[b,c]);h&&h.finish(a.EVENT_INNERWIDTH_CURVE,[b]);return d};d.prototype.maybeAddInitialScroll=function(){!this._gotInitialScroll&&(document.body&&a.fsid(document.body))&&(this._ctx.addWindowScroll(),this._gotInitialScroll=!0)};return d}();a.EventProcessor=f})(g||(g={}));(function(a){function e(a){F&&
window.console&&console.log(a)}function f(a){var b=Array.prototype.toJSON,c=String.prototype.toJSON;b&&delete Array.prototype.toJSON;c&&delete String.prototype.toJSON;a=JSON.stringify(a);b&&(Array.prototype.toJSON=b);c&&(String.prototype.toJSON=c);return a}function d(){return(new Date).getTime()}function c(){return window!=top&&!$}function b(b,c,d,g){"undefined"===typeof g&&(g=null);b="//"+y+b;var h=null;null!=c&&(h=f(c),L+=h.length,e("total bytes written: "+L));var k=new XMLHttpRequest;if("withCredentials"in
k)k.onreadystatechange=function(){k.readyState==a.XHR_DONE&&(200==k.status?d(k.responseText):g(k.status))},k.open("POST","https:"+b,!0),k.withCredentials=!0,k.setRequestHeader("Content-Type","text/plain"),k.send(h);else{var l=new XDomainRequest;l.onload=function(){d(l.responseText)};l.onerror=function(){g("Not Found"==l.responseText?404:500)};l.onprogress=function(){};l.open("POST",b);l.send(h)}}function g(){if("baseURI"in document)return document.baseURI;var a=document.getElementsByTagName("base")[0];
return a&&a.href?a.href:location.href}function k(a){(a=a.target.tagName)&&(a=a.toLowerCase());return a}function n(a,b){return a.tagName&&a.tagName.toLowerCase()in b?!0:a.parentNode?n(a.parentNode,b):!1}function r(a,b){for(var c=0;c<a.changedTouches.length;++c){var e=a.changedTouches[c];m.enqueue(b,[e.identifier,e.clientX,e.clientY])}}function h(){var b=document.activeElement;if(b&&"value"in b){var c=a.fsidIfNotBlocked(b);c&&m.enqueue(a.EVENT_VALUECHANGE,[c,b.value])}}function p(){var b=a.fsid(document.body);
if(b){var c,e;"pageXOffset"in window?(c=window.pageXOffset,e=window.pageYOffset):(c=document.body.scrollLeft,e=document.body.scrollTop);if(c!=aa||e!=ba)m.enqueue(a.EVENT_SCROLL,[b,c,e]),aa=c,ba=e}s()}function s(){var b=window.innerWidth;b!=ca&&(m.enqueue(a.EVENT_INNERWIDTH,[b]),ca=b)}function q(){m.enqueue(a.EVENT_RESIZE,[document.documentElement.clientWidth,document.documentElement.clientHeight])}function t(){var b=location.href;M!=b&&(M=b,m.enqueue(a.EVENT_NAVIGATE,[location.href,document.title]))}
function u(b){var c=a.fsidIfNotBlocked(b);c&&m.enqueue(a.EVENT_VALUECHANGE,[c,a.valueOfInputishElem(b)])}function x(){da||(da=!0,m.enqueue(a.EVENT_UNLOAD,[]),m.swanSong())}function w(b,c){for(var e=[b],d=0;d<c.length;++d){try{var g=f(c[d])}catch(h){g=f(c[d].toString())}e.push(g)}m.enqueue(a.EVENT_LOG,e)}function B(){for(var a={},b=document.cookie.split(";"),c=0;c<b.length;c++){var e=b[c].replace(/^\s+|\s+$/g,"").split("=");a[e[0]]=e[1]}if(b=a.fs_uid){b=b.split("`");if(3!=b.length)return a.fs_uid;
if(b[0]==y&&b[1]==z)return b[2]}return""}function V(a){A=a.UserIntId;H=a.SessionIntId;N=a.PageIntId;ea=a.CookieDomain;fa=a.EmbedToken;document.cookie="fs_uid="+y+"`"+z+"`"+A+"; domain=."+encodeURIComponent(ea)+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";e("/User,"+A+"/Session,"+H+"/Page,"+N)}function W(a){if(a.IntegrationScripts)for(var b=0;b<a.IntegrationScripts.length;b++){var c=a.IntegrationScripts[b],e=document.createElement("script");e.src="//"+y+c;e.async=!0;document.head.appendChild(e)}}
function X(){var a=document.doctype;if(!a)return null;var b;b="<!DOCTYPE "+a.name;a.publicId&&(b+=' PUBLIC "'+a.publicId+'"');a.systemId&&(b+=' "'+a.systemId+'"');return b+">"}function pa(){(A=B())||(A="");var c=document.documentElement,d=window._fs_hash,G=window._fs_replay_flags;M=location.href;if(I)c={OrgId:z,UserId:A,Url:location.href,Base:g(),ScreenWidth:window.screen.width,ScreenHeight:window.screen.height,Width:c.clientWidth,Height:c.clientHeight,Referrer:document.referrer,Doctype:X(),Hash:d},
G&&(c.ReplayFlags=G),b("/rec/page",c,function(b){try{var c=JSON.parse(b)}catch(e){Z();return}b=c;V(b);W(b);m.prequeue(a.EVENT_SYS_SETVAR,["user",f(c.InitSetUserVars),!0]);window._fs_ready&&window._fs_ready();for(b=0;b<c.Blocks.length;++b)v.addRule(c.Blocks[b]);m.startPipeline()},function(a){Z()});else{e("Unable to record playback stream.");var h=document.createElement("script");window.__fs_startResponse=function(a){V(a);W(a);document.body.removeChild(h)};h.src="//"+y+"/rec/page?OrgId="+z+"&UserId="+
A+"&Url="+encodeURIComponent(location.href)+"&Base="+encodeURIComponent(g())+"&ScreenWidth="+window.screen.width+"&ScreenHeight="+window.screen.height+"&Width="+c.clientWidth+"&Height="+c.clientHeight+"&Referrer="+encodeURIComponent(document.referrer)+"&Doctype="+encodeURIComponent(X())+"&Fallback=true"+(G?"&ReplayFlags="+G:"")+(d?"&Hash="+d:"");document.body.appendChild(h)}}function Z(){m.disableRecording();ga();e("Disabling FS.");window._fs_ready&&window._fs_ready(!0)}function qa(){ha.hookMutations();
document.documentElement.addEventListener("scroll",function(b){b=b.target;var c=a.fsid(b);c&&m.enqueue(a.EVENT_SCROLL,[c,b.scrollLeft,b.scrollTop])},!0);window.addEventListener("mousemove",function(b){b=a.fsid(b.target)?[b.clientX,b.clientY,a.fsid(b.target)]:[b.clientX,b.clientY];m.enqueue(a.EVENT_MOUSEMOVE,b)},!0);window.addEventListener("mousedown",function(b){m.enqueue(a.EVENT_MOUSEDOWN,[b.clientX,b.clientY]);!n(b.target,{button:!0,a:!0,input:!0})||"input"==k(b)&&"submit"!=b.target.type||m.swanSong()},
!0);window.addEventListener("mouseup",function(b){m.enqueue(a.EVENT_MOUSEUP,[b.clientX,b.clientY])},!0);window.addEventListener("keydown",function(b){h();var c=document.activeElement;c&&!a.fsidIfNotBlocked(c)||m.enqueue(a.EVENT_KEYDOWN,[b.keyCode]);switch(k(b)){case "button":13!=b.keyCode&&32!=b.keyCode||m.swanSong();break;case "a":13==b.keyCode&&m.swanSong();break;case "input":"submit"==b.target.type&&13==b.keyCode&&m.swanSong()}},!0);window.addEventListener("keyup",function(b){h();var c=document.activeElement;
c&&!a.fsidIfNotBlocked(c)||m.enqueue(a.EVENT_KEYUP,[b.keyCode])},!0);window.addEventListener("scroll",function(a){p()});window.addEventListener("resize",function(a){q()});document.body.addEventListener("click",function(b){(b=a.fsid(b.target))&&m.enqueue(a.EVENT_CLICK,[b])},!0);document.body.addEventListener("focus",function(b){(b=a.fsid(b.target))&&m.enqueue(a.EVENT_FOCUS,[b])},!0);document.body.addEventListener("blur",function(b){(b=a.fsid(b.target))&&m.enqueue(a.EVENT_BLUR,[b])},!0);document.body.addEventListener("change",
function(a){u(a.target)},!0);window.addEventListener("touchstart",function(b){r(b,a.EVENT_TOUCHSTART);p()},!0);window.addEventListener("touchend",function(b){r(b,a.EVENT_TOUCHEND);p()},!0);window.addEventListener("touchmove",function(b){r(b,a.EVENT_TOUCHMOVE);p()},!0);window.addEventListener("touchcancel",function(b){r(b,a.EVENT_TOUCHCANCEL)},!0);window.addEventListener("play",function(b){var c=a.EVENT_PLAY;(b=a.fsid(b.target))&&m.enqueue(c,[b])},!0);window.addEventListener("pause",function(b){var c=
a.EVENT_PAUSE;(b=a.fsid(b.target))&&m.enqueue(c,[b])},!0);O.hookEvents();if(history.pushState){window.addEventListener("popstate",function(){t()});var b=history.pushState;history.pushState=function(a,c,e){b.call(this,a,c,e);t()};var c=history.replaceState;history.replaceState=function(a,b,e){c.call(this,a,b,e);t()}}Y()}function Y(){J||(J=!0,window.console&&console.log.apply?(ia=!0,P=console.log,Q=console.info,R=console.warn,S=console.error,console.log=function(){w("log",arguments);return P.apply(this,
arguments)},console.info=function(){w("info",arguments);return Q.apply(this,arguments)},console.warn=function(){w("warn",arguments);return R.apply(this,arguments)},console.error=function(){w("error",arguments);return S.apply(this,arguments)}):w("log",["NOTE: Log messages cannot be captured on IE9"]),K=window.onerror,window.onerror=function(b,c,e){m.enqueue(a.EVENT_ERROR,[b,c,e]);if(K)return K.apply(this,arguments)})}function ra(){var b=!1,e=function(){b||(b=!0,m.enqueue(a.EVENT_DOMLOADED,[]),qa(),
q())},d=!1,f=function(){d||(d=!0,m.enqueue(a.EVENT_LOAD,[]))};switch(document.readyState){case "interactive":document.attachEvent||e();break;case "complete":e(),f()}b||document.addEventListener("DOMContentLoaded",function(a){e()});d||window.addEventListener("load",function(a){e();f()});c()||(window.addEventListener("beforeunload",function(a){x()}),window.addEventListener("unload",function(a){x()}))}function ja(b,c){var d={},g;for(g in c)if(c.hasOwnProperty(g)){var h=c[g];e("set-var("+b+'): "'+g+'" = '+
f(h));"user"!=b&&e('invalid scope "'+b+'"; only "user" is supported at present');var k,l;if(g in ka)k=g,l=ka[g];else{l=g.split("_");if(2!=l.length){e('variables must be of the form "name_type", where "type" is one of [str, bool, int, real, date]');continue}-1!=g.indexOf(" ")?(k=g.replace(/ /g,""),e("Warning: variable '"+g+"' has spaces in it, which is not recommended. Converted name to '"+k+"'.")):k=g;l=l[1]}l in la?la[l](h)?("date"==l&&(h=(h.constructor===Date?h:new Date(h)).toISOString()),d[k]=
h):e("illegal value "+f(h)+" for type "+l):e('invalid type "'+l+'"')}m.enqueue(a.EVENT_SYS_SETVAR,[b,f(d)])}function ma(){return A+":"+H}function sa(){window.addEventListener("message",function(b){if("string"==typeof b.data&&0==b.data.indexOf(a.FS_MESSAGE_PREFIX)){var c=b.data.split(a.FS_DELIMITER);if(c[0]==a.FS_SET_FRAME_ID_CMD)try{var d=parseInt(c[1]),f=parseInt(c[2]);var g=JSON.parse(c[3]);if(d){e("iframe recording. FrameId: "+d);E=d;for(c=0;c<g.length;++c)v.addRule(g[c]);m.rebaseIframe(f);C=f;
m.startPipeline()}else e("Outer page gave us a bogus frame Id! Iframe: "+location.href)}catch(h){e("Failed to parse frameId from message"+b.data)}else c[0]==a.FS_DISABLE_RECORDING?(m.disableRecording(),ga()):e("Invalid _fs postmessage command"+c[0])}});E||(0==E?e("For some reason the outer window attempted to request a frameId"):parent.postMessage(a.FS_REQUEST_FRAME_ID+a.FS_DELIMITER,"*"))}function ga(){for(var b=0;b<D.length;b++){var c=D[b];c.contentWindow&&c.contentWindow.postMessage&&c.contentWindow.postMessage(a.FS_DISABLE_RECORDING,
"*")}}function ta(){window.addEventListener("message",function(b){if("string"==typeof b.data&&0==b.data.indexOf(a.FS_MESSAGE_PREFIX)){var c=b.data.split(a.FS_DELIMITER);if(c[0]==a.FS_IFRAME_EVENTS){if(b=JSON.parse(c[1]),0<b.length){var c=m.lastSentEventTime(),d=na[b[0].FId];c<d&&(c=d);if(b[0].When<c)for(var c=c-b[0].When,d=0,g=b.length;d<g;d++)b[d].When+=c;m.appendToOutgoingQueue(b)}}else if(c[0]==a.FS_REQUEST_FRAME_ID){a:{c=b.source;for(d=0;d<D.length;d++)if(D[d].contentWindow==c){c=a.fsid(D[d]);
break a}e("Unable to locate frame for window");c=NaN}c?(d=f(v.rawRules),b.source.postMessage(a.FS_SET_FRAME_ID_CMD+a.FS_DELIMITER+c+a.FS_DELIMITER+C+a.FS_DELIMITER+d,"*")):e("No FrameId found. Hoping to send one later.")}else e("Invalid _fs postmessage command"+c[0])}})}function T(a){try{var b=a.contentDocument;"_fs"in a.contentDocument&&e("FS already defined in iframe. Aborting injection.");a.contentDocument._fs=!0;a="var _fs_org='"+z+"', _fs_host='"+y+"', _fs_run_in_iframe=true, _fs_debug="+F+"; (function(w,a,t){a=w.createElement('script');a.async=1;a.src='https://'+_fs_host+'/s/fs.js';w.head.appendChild(a)})(document);";
var c=b.createElement("script");c.textContent=a;b.head.appendChild(c)}catch(d){e("iFrame no injecty. Probably not same origin.")}}function ua(b,c){D.push(c);if(c.hasAttribute("src")&&("about:blank"!=c.src&&0!=c.src.indexOf("javascript:")&&0!=c.src.indexOf(va)||"FS"in c.contentWindow))e("Frame Doesn't need injecting ["+c.src+"]");else if(e("Attempting to setup Frame ["+c.src+"]"),T(c),c.onload&&"function"==typeof c.onload){var d=c.onload;c.onload=function(a){d.call(this,a);T(c)}}else c.onload=function(){T(c)};
if(c.contentWindow.postMessage){var g=f(v.rawRules);c.contentWindow.postMessage(a.FS_SET_FRAME_ID_CMD+a.FS_DELIMITER+b+a.FS_DELIMITER+C+a.FS_DELIMITER+g,"*")}}var F=!1,L=0,z,A,H,N,E,y,ea,va=window.location.protocol+"//"+window.location.host,$,I,C=d(),M,na={},oa,aa=-1,ba=-1,ca=0,fa,U={startTime:function(){return C},now:function(){return d()-C},wallTime:d,orgId:function(){return z},userId:function(){return A},sessionId:function(){return H},pageId:function(){return N},baseUri:g,amInsideIFrame:c,frameId:function(){return E},
post:b,addWindowScroll:p},v=new a.Blocker,O=new a.InputWatcher(function(a){u(a)},function(b){return!!a.fsid(b)}),ha=new a.MutationHandler(U,v,function(b,c){switch(c.nodeName){case "INPUT":case "TEXTAREA":case "SELECT":O.addInput(a.fsid(c),c);break;case "FRAME":case "IFRAME":var d=a.fsid(c);if(!d){e("fsid missing or invalid for iFrame."+c.src);break}oa||(ta(),oa=!0);na[d]=b;ua(d,c);break;case "VIDEO":case "AUDIO":c.paused||(d=a.fsid(c),m.enqueue(a.EVENT_PLAY,[d]))}}),wa=new a.EventProcessor(U,v),m=
new a.EventQueue(U,wa,ha,function(){O.tick();s()});window._fs_shutdown=function(a){x();m.shutdown();a&&(a=document.getElementById(a))&&a.setAttribute("_fs_embed_token",fa)};a.log=e;a.stringify=f;var da=!1,J=!1,ia=!1,P,Q,R,S,K;a.enableConsole=Y;a.disableConsole=function(){J&&(J=!1,ia&&(console.log=P,console.info=Q,console.warn=R,console.error=S),window.onerror=K)};a._init=function(){if("_fs_host"in window||"_fs_ext_host"in window)if("_fs_org"in window||"_fs_ext_org"in window)if("_fs_ext_debug"in window?
F=!!window._fs_ext_debug:"_fs_debug"in window&&(F=!!window._fs_debug),y=window._fs_ext_host||window._fs_host,z=window._fs_ext_org||window._fs_org,$=!!window._fs_is_outer_script,E=c()?null:0,e("host: "+y),e("orgid: "+z),I=!!window.MutationEvent,c())window._fs_run_in_iframe?parent.postMessage?sa():(I=!1,e("postMessage not supported")):e("Fullstory recording for this page is NOT allowed within an iFrame.");else{v.addRule({Selector:"object",Kind:a.NYI_KIND});v.addRule({Selector:"embed",Kind:a.NYI_KIND});
v.addRule({Selector:"canvas",Kind:a.NYI_KIND});v.addRule({Selector:"noscript",Kind:a.BLOCKED_KIND});v.addRule({Selector:".fs-hide",Kind:a.HIDE_KIND});var b=window.FS.q;if(b){for(var d=0;d<b.length;d++)ja(b[d][0],b[d][1]);delete window.FS.q}pa()}else e("Missing global _fs_org. Recording disabled.");else e("Missing global _fs_host. Recording disabled.")};a._record=function(){I&&(m.recoverSwanSong(),C=d(),ra())};var ka={uid:"str",displayName:"str",email:"str"},la={str:function(a){return"string"==typeof a},
bool:function(a){return"boolean"==typeof a},"int":function(a){return"number"==typeof a&&0==a-Math.floor(a)},real:function(a){return"number"==typeof a},date:function(a){return!isNaN(a.constructor===Date?a:new Date(a))}};a._api=ja;a.setUid=function(b,c,d){b&&"string"==typeof b?c&&"string"!=typeof c?e("setUid(): second argument (display name) must be a string"):(c||(c=b),d&&"object"!=typeof d?e('setUid(): third argument (metadata) must be of the form {name0: "value0", name1: "value1", ...}'):(d=d?f(d):
"",e("setting uid: "+b+", meta: "+d),m.enqueue(a.EVENT_SYS_SETMETA,[b,c,d]))):e("setUid(): first argument (user id) is required and must be a string")};a.getCurrentSessionURL=function(){return"https://"+y+"/ui/"+z+"/segments/everyone/session/"+ma()};a.getCurrentSession=ma;a.FS_MESSAGE_PREFIX="_fs";a.FS_DELIMITER="\u2603";a.FS_REQUEST_FRAME_ID=a.FS_MESSAGE_PREFIX+"RequestFrameId";a.FS_SET_FRAME_ID_CMD=a.FS_MESSAGE_PREFIX+"SetFrameId";a.FS_IFRAME_EVENTS=a.FS_MESSAGE_PREFIX+"EvtBundle";a.FS_DISABLE_RECORDING=
a.FS_MESSAGE_PREFIX+"DisableRecording";var D=[]})(g||(g={}));try{"FS"in window||(window.FS={}),window.FS.setUid=g.setUid,window.FS.getCurrentSessionURL=g.getCurrentSessionURL,window.FS.getCurrentSession=g.getCurrentSession,window.FS.enableConsole=g.enableConsole,window.FS.disableConsole=g.disableConsole,window.FS._api=g._api,g._init(),g._record()}catch(B){window.console&&console.log&&console.log("Failed to initialize FullStory.")}})();

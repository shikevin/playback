/*!
 * WalkMe
 * http://www.walkme.com/
 *
 * Copyright 2012, WalkMe LTD
 */
function ClassMakeTutorial(){function e(e,t,n,r,a,s,u,l){function c(){F=window.localStorage,G=s.addScript,d(),(!l||l.isSelfHosted)&&(ot=!1)}function d(){window.wmPlaySnippet?(U=window.wmPlaySnippet,rt=!0,tt=!0):window.wmPreviewSnippet?(U=window.wmPreviewSnippet,nt=!0,tt=!0):window.wmSnippet&&(U=window.wmSnippet,tt=!0)}function f(e){Y&&Y(e)}function p(t){var n=e.Logger.timer("init data files and widget");q=0;var r=!(nt||rt);if(void 0!=window.wm_walkmeLibLoaded)_makeTutorial=e,wm_walkmeLibLoaded(e);else{if(k())return;window.document.dontLoadTriangle&&r?(window._walkmeInternals.blocked=!0,window._walkmeInternals.continueLoad=function(){g(t)}):g(t)}n.stop()}function g(t){if(D())void 0==t&&(t=P),N(mt_get_user_settings_url,t);else{var n=u.getSettingsFile();if(n){if(!E(n))return void e.removeWalkMe("walkmeDisabled");e.setPetaServerName(n.PetaServer),e.setRecorderServer(n.PlayerServer),e.setCdnServer(n.CdnServerName),e.setAuditSource(n.Environment),n.IsInRecorder&&e.setInRecorder(!0),al=n.UserGuids[0],W=n.PlayerServer,rt?n.data&&(e.setSurveysForRecorder("[]"),e.setSiteConfig(n.data.siteConfig),e.setTutorialsForEditor(n.data.tutorials,n.UserGuids[0]),setTimeout(function(){e.dataFinishedLoading(!0)},1)):m(n,function(e){v(n,e)})}}}function m(t,r){function o(t){var o=t.EndUserSettings;Qu.setEndUserSettings(o);var i=h(t.ActivationRules),a=t.Permutations,s=t.DefaultPermutation;n.initGetPermutation(a,s,i,function(o){var i=n.getPermutationById(a,o);return 0===i.LoadWalkMe?(ea("WalkMe ABTesting - WalkMe Loading canceled. Stopping execution"),void e.removeWalkMe("AbTesting - LoadWalkMe is false")):(e.appendWalkMeConfigData(t),void r(o))})}var i=t.WalkMeConfigFile;return i?void w(i,"WalkMeConfigCallback",o,void 0,!0):void r()}function h(e){for(var t=0;t<e.length;t++){var n=e[t],r=a.evaluate(n.Settings.conditionTree);if(r===!0){var o=n.PermutationIds[0];return o}}return null}function v(e,t){for(var n=e.DataFiles,r=0;r<n.length;r++)if(n[r].metaData)return void y(e,n[r]);b(e.DataFiles,e.WidgetFile,t)}function w(e,t,n,r,o){r=r||function(){},mtjQuery.ajax(e,{cache:!!o,dataType:"jsonp",jsonpCallback:t,success:n,error:r})}function y(e,t){function n(t){var n=[];t=U.fixAutoDetectPaths(t);for(var r=0;r<e.DataFiles.length;r++)1==e.DataFiles[r].metaData?n=n.concat(t.DataFiles):n.push(e.DataFiles[r]);b(n,e.WidgetFile)}w(t.url,"fixedCallback",n,void 0,!1)}function b(e,t,n){X=i(o(e)),S(t),T(e,n)}function k(){return!tt&&!D()}function S(e){Q=e}function T(e,t){J=I(i(o(e))),void 0!==t&&t>-1&&(J=x(J,t)),B()}function I(e){for(var t=0;t<e.length;t++)e[t].url=A(e[t]);return e}function x(e,t){for(var n=0;n<e.length;n++)e[n].url=C(e[n],t);return e}function C(e,t){var n=e.url,r=".js";return n.substring(0,n.length-r.length)+"_"+t+r}function D(){return void 0!=window.mt_recorder_server_name&&void 0!=window.mt_get_user_settings_url?!0:!1}function E(e){var n="walkme_is_enabled_override",r=!1,o=void 0,i=t.getData(n,void 0);return o=void 0!==i?i:window[n],r=void 0!==o?o:e.IsEnabled}function P(e){if(!$&&($=!0,e.IsEnabled))if(W=e.PlayerServer,void 0!=e.TriangleFile&&""!=e.TriangleFile){var t=j(e.TriangleFile);G(t)}else b(e.DataFiles,e.WidgetFile)}function N(e,t){var n=function(){ea("Error: Failed to get Settings from "+e)};w(e,"fixedCallback",t,n,ot)}function j(t){if(window.walkme_custom_data_url)return walkme_custom_data_url;var n;return-1!=t.indexOf("SPECIAL_TRIANGLE_FILE")?void e.Logger.error("mt_makeTutorialLibLoaded - no triangleUrl"):(n=t,n=A(n))}function A(e){var n="string"==typeof e,r=O.getCurrentLanguage(),o=n?e:e.url;return r&&(n||_(r,e)?(o=o.substring(0,o.length-3),o=o+"_"+r+".js"):Z||t.removeData(V)),o}function _(e,t){for(var n=0;n<t.languages.length;n++)if(t.languages[n].shortName==e)return!0;return!1}function R(e){G(e)}function L(e){G(e)}function B(){try{var t=J[q].url;K=void 0!=J[q].isHidden?J[q].isHidden:!1,R(t)}catch(n){e.Logger.error("faild to load data file: "+n)}}function M(e){var t={};t=u.getSettingsFile();var n;F&&(n=F.getItem(H)),n&&(t.PostLibJsFile=n),t.PostLibJsFile&&""!=t.PostLibJsFile?(window.walkme_post_lib_loaded=function(){e()},G(t.PostLibJsFile)):e()}var O=this;this.LocalSVNRevision="$Rev: 4006 $";var F,G,Q,W,U,V="wm-lang",H="wm-postlibjs",z="_default_",$=!1,q=null,X=[],J=[],Y=null,K=!1,Z=!1,et=!1,tt=!1,nt=!1,rt=!1,ot=!0;this.isNextDataPackageIsHidden=function(){return K},this.getPlayerServer=function(){return W},this.changeLanguage=function(r,o){Y=o,e.stopTutorial();var i=zu.getData(V);if(i==r)return void f(!1);for(var a=!1,s=0;s<X.length;s++)_(r,X[s])&&(a=!0);if(!a)return void f(!1);""===r&&(r=z),t.saveData(V,r,31536e3),q=0,Z=!0,et=!0;var u=n.getPermutation();T(X,u)},this.isNewLanguage=function(){return et},this.getCurrentLanguage=function(){var e=null;if(e=t.getData(V),e==z&&(e=""),!e&&""!==e)try{e=walkme_get_language()}catch(n){}return e?e:""},this.getSupportedLanguages=function(){for(var e=[],t=0;t<J.length;t++)for(var n=0;n<J[t].languages.length;n++)J[t].languages[n].showInPlayer&&e.push(J[t].languages[n]);return e},this.startInitializer=function(e){M(function(){p(e)})},this.dataFileLoadedWrapper=function(){if(K=!1,q++,et=!1,q==J.length){if(!e.dataFinishedLoading())return;Z?(Z=!1,f(!0)):L(Q)}else B()},c.apply(null,arguments)}function t(){function e(e){u=e,u.__wmoop__=s,s.Virtual=new r(s),s.Prop=new n(s)}function t(){for(var e in m){if(!c.IsVirtual(e))throw"Cannot override non-virtual method ["+e+"]. of class : "+c;c.DoOverride(e,m[e])}}function o(){var e={},t={},t=c.GetOriginalFunctions();for(var n in t){var r=t[n];e[n]=r}return e}function i(){var e=c.GetPublics();for(var t in e){var n=e[t];s.Public(t,n)}}function a(e,t,n){function r(){return g[e](arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19])}return n?(g[e]=t,r):t}var s=this;s.LocalSVNRevision="$Rev: 3461 $";var u,l=null,c=null,d={},f={},p={},g={},m={},h={};s.Extends=function(e,n,r,a,u,d,f){l=new e(n,r,a,u,d,f),c=l.__wmoop__,i(),t();var p=o();s._base=p},s.Override=function(e,t){return m[e]=t,t},s.DoOverride=function(e,t){g[e]=t},s.IsVirtual=function(e){return void 0!==g[e]},s.GetOriginalFunctions=function(){return p},s.Public=function(e,t,n){var r=a(e,t,n);return p[e]=t,u[e]=r,d[e]=r,r},s.Protected=function(e,t,n){var r=a(e,t,n);return p[e]=t,f[e]=r,r},s.GetProperties=function(){return h},s.GetPublics=function(){return d},s.GetProtecteds=function(){return f},e.apply(null,arguments)}function n(){function e(e){n=e}function t(e,t){function r(t){return void 0===t?n.GetProperties()[e]:void(n.GetProperties()[e]=t)}return n.GetProperties()[e]=t,r}var n,r=this;r.Public=function(e,r){var o=t(e,r);return n.Public(e,o),o},r.Protected=function(e,r){var o=t(e,r);return n.Protected(e,o),o},r.Private=function(e,n){var r=t(e,n);return r},e.apply(null,arguments)}function r(){function e(e){n=e}function t(e){function t(){throw"["+e+"] is pure virtual and must be overriden"}return t}var n;this.Public=function(e,r){return r=r?r:t(e),n.Public(e,r,!0)},this.Protected=function(e,r){return r=r?r:t(e),n.Protected(e,r,!0)},e.apply(null,arguments)}function o(e){if(null!==e&&a(e,function(e){try{e.toJSON&&(e.toJSON=null)}catch(t){}}),"object"==typeof JSON&&JSON.stringify&&s(JSON.stringify))return JSON.stringify(e);if(null===e)return"null";var t=typeof e;if("undefined"===t)return void 0;if("number"===t||"boolean"===t)return""+e;if("string"===t)return w(e);if("object"===t){if("function"==typeof e.toJSON)return o(e.toJSON());if(e.constructor===Date){var n=e.getUTCMonth()+1,r=e.getUTCDate(),i=e.getUTCFullYear(),u=e.getUTCHours(),l=e.getUTCMinutes(),c=e.getUTCSeconds(),d=e.getUTCMilliseconds();return 10>n&&(n="0"+n),10>r&&(r="0"+r),10>u&&(u="0"+u),10>l&&(l="0"+l),10>c&&(c="0"+c),100>d&&(d="0"+d),10>d&&(d="0"+d),'"'+i+"-"+n+"-"+r+"T"+u+":"+l+":"+c+"."+d+'Z"'}if(e.constructor===Array){for(var f=[],p=0;p<e.length;p++)f.push(o(e[p])||"null");return"["+f.join(",")+"]"}var g,m,h=[];for(var v in e){if(t=typeof v,"number"===t)g='"'+v+'"';else{if("string"!==t)continue;g=w(v)}t=typeof e[v],"function"!==t&&"undefined"!==t&&(m=o(e[v]),h.push(g+":"+m))}return"{"+h.join(",")+"}"}}function i(e){if("object"==typeof JSON&&JSON.parse&&s(JSON.parse))return JSON.parse(e);var t=e.toString().replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(t))return _makeTutorialEv.Ev("("+e+")");throw new SyntaxError("Error parsing JSON, source is not valid.")}function a(e,t){if(void 0!=e&&"object"==typeof e)for(var n in e)if(Object.hasOwnProperty.call(e,n)){var r=e[n];null!==r&&void 0!==r&&a(r,t)}null!==e&&void 0!==e&&t(e)}function s(e){return e.toString().indexOf("[native code]")>-1}function u(e){return i(o(e))}function l(){for(var e=arguments[0],t=1;t<arguments.length;t++){var n=new RegExp("\\{"+(t-1)+"\\}","gm");e=e.replace(n,arguments[t])}return e}function c(e){if(!e)return{};var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];n=f(n)?parseInt(n):n,t[r]=n}return t}function d(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}function f(e){return!isNaN(e)}function p(){var e=new Date,t=60*e.getTimezoneOffset()*1e3;return e.getTime()-t}function g(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function m(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function h(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function v(e,t){for(var n=e.length-1;n>=0;n--){for(var r=!1,o=t.length-1;o>=0&&!r;o--)t[o]==e[n]&&(r=!0);r||t.push(e[n])}return t}function w(e){return e.match(ks)?'"'+e.replace(ks,function(e){var t=Ss[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'}function y(e){function t(){p=new d(e)}function n(){for(var e=w.length-1;e>=0;e--)s(w[e]);w.length=0}function r(){var e=new Date;return"["+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()+"] "}function a(e,t,n){var r=!0;return e?r=-1!=mtjQuery.inArray(n,e):t&&(r=-1==mtjQuery.inArray(n,t)),r}function s(e){if(window.console)console.log(e);else try{var t=c(),n=new Date,r=u(e);t.find("#walkme-console-messages").prepend('<li style="padding: 2px 5px; border-bottom: 1px solid #afafaf"><span style="float: left; color: #afafaf; margin-right: 5px;">'+l(n.getHours())+":"+l(n.getMinutes())+":"+l(n.getSeconds())+" </span>"+r.substring(1,r.length-1)+"</li>")}catch(o){}}function u(e){return e instanceof wmjQuery?"-jQuery object: selector - "+e.selector+", value - "+e.val()+", domElement - "+o(e[0]):o(e)}function l(e){return 10>e?"0"+e:e}function c(){var e=mtjQuery("#walkme-console-box");if(0===e.length){var t=_a();e=mtjQuery('<div id="walkme-console-box"></div>');var n=mtjQuery('<div style="display: none;">Walkme Console: [ </div>'),r=mtjQuery('<button type="button" title="Toggle the walkme debug console">Walkme Console</button>'),o=mtjQuery('<ul id="walkme-console-messages"></ul>'),i=mtjQuery('<a href="#">clear</a>');n.append(i),n.append(" ]"),n.append(o),e.append(n),e.append(r),t.append(e),r.click(function(){n.slideToggle("fast",function(){var e=mtjQuery(this).is(":visible")?"Close Console":"Walkme Console";r.text(e)})}),i.click(function(){o.empty()}),n.css({margin:"15px 60px 5px 15px",padding:"5px",border:"1px solid red","background-color":"#FFC",color:"#000"}),r.css({border:"1px solid red","background-color":"#FFFFCC","margin-left":"15px",width:"120px"}),e.css({position:"fixed","z-index":uu,"font-family":"Arial",bottom:"10px",left:"10px",width:"100%","text-align":"left"}),o.css({"background-color":"white",border:"1px solid black",height:"260px","list-style-type":"none",padding:"0","overflow-y":"auto",margin:"5px 0 0"})}return e}function d(){function e(e){u=e,s=i(u.getCookie(g))}function t(){s||(s={})}function n(e,t){return s?s[e]:t}function r(e){return nd(e)?"string"==typeof e?(e=e.replace(/\s/g,""),e.split(",")):e.length>0?e:void 0:[]}function a(){u.setCookie(g,o(s),m)}var s,u,l=this,c=1;l.enable=function(e){return t(),s.l=e||c,a(),l},l.disable=function(){return s&&(s.l=0,a()),l},l.reset=function(){return s={l:c},a(),l},l.level=function d(d){return void 0===d?n("l",null):(t(),s.l=d,a(),l)},l.track=function(e){if(void 0===e)return n("f",[]);t();var o=r(e);return delete s.u,s.f=s.f?v(o,s.f):o,a(),l},l.untrack=function(e){if(void 0===e)return n("u",[]);t();var o=r(e);return delete s.f,s.u=s.u?v(o,s.u):o,a(),l},l.timer=function(e){return t(),e?s.m=1:s.m&&delete s.m,a(),l},e.apply(null,arguments)}var f=this;f.LocalSVNRevision="$Rev: 4006 $";var p,g="walkmeCustomerLogs",m=86400;f.ready=function(){var e="DI";Xa.logger=f.wrapCustomerLog(e)},f.wrapCustomerLog=function(e){return function(t,n,r){f.customerLog(t,n,r||e)}},f.customerLog=function(t,n,u){n=br(n,1);var l=i(e.getCookie(g));if(l){var c=parseInt(l.l),d=l.f,f=l.u;if(c>=n&&a(d,f,u))try{s(l.m?r()+o(t):t)}catch(p){}}};var h=0,w=[];f.timer=function(t){h++;var o=(new Date).getTime();return{stop:function(){var a=i(e.getCookie(g));if(a&&a.m){var u=(new Date).getTime(),l=u-o,c=Array(h).join("->	"),d=r()+c+t+": "+l+"ms";1==h?(s(d),n()):w.push(d),h--}}}},f.enableCustomerLogs=function(e){return p.enable(e)},f.error=function(e,t){try{var n,r=arguments.callee.caller,o=r?r.name:"N/A";if(e&&e.message){var i=t?t+"\n":"";n=i+"File : "+e.fileName+"\n - Function : "+o+"\n - Line : "+e.lineNumber+"\n - Msg : "+e.message}else n="Function : "+o+"\n - "+t;e&&e.stack&&(n+="\n - Stack: "+e.stack),Ps?alert("Dev mode alert: "+n):fa(n,1),ea("Error: "+n)}catch(a){}},f.getAPI=function(){return p},t.apply(null,arguments)}function b(e){function t(){i={start:{run:function(e){W=Ja.get("CommonUtils"),Ja.get("FramesetsUtils").waitForFramesHeadsAndBodies(e)},next:"pageReady"},pageReady:{run:function(t){e.setCdnServer(Ja.get("SettingsFile").getCdnServerName()||""),s.libCtorTimer=e.Logger.timer("lib constructor"),t()},next:"loadStorage"},loadStorage:{run:function(t){var n=Ja.get("StorageManager");if(n){if(n.init(t,e)===!1)return lib.removeWalkMe("storageManagerInitFailed"),lib.initFailed=!0,!1;try{window.walkme_lib_in_dev&&La()}catch(r){}s.libCtorTimer.stop()}},next:"afterStorageLoaded"},afterStorageLoaded:{run:function(){Ja.get("loadClasses");var t=Ja.get("StorageManager"),n="wm-lang",r="wm-ABPer";t.convertOldCookieStorage(n),t.convertOldCookieStorage(r),-1==document.cookie.indexOf("walkmeDontInitLib")&&setTimeout(function(){e.Init()},0)}}},a="start"}function n(){}function r(e,t){e&&(e.run?e.run(function(){o(e,t)}):o(e,t))}function o(e,t){if(e){var n=i[e.next];a=e.next,n?r(n,t):t&&t()}}var i,a,s=this;Ja.register("loadClasses").asFunction(n).dependencies("CookiesManager,Logger,FramesetsUtils,SettingsFile,AutoStartHelper,JQueryElementFinder,ConditionFunctions,ConditionTreeEvaluator,BBCodeParser,ResourceManager,StorageManagerFactory,StorageManager,EndUsersManager,AbPermutationManager,LibInitializer,WmAjax,SiteConfigManager,EndUserLoggerManager,UiDataProvider,AnalyticsManager,ClickAuditManager,RecorderServerManager,ServerDataSenderManager,AuditStepsManager,GoalsManager,WalkMeGoalsManager,DebuggerManager,WmInternals,PlayManager,FeaturesManager"),s.start=function(e){r(i[a],e)},s.get=function(e){return Ja.get(e)},t.apply(null,arguments)}function k(e){function t(){b=wmjQuery.expr.filters.mt_hidden}function n(e){return e.parentWindow||e.defaultView}function r(e){var t=0,n=0,r=mtjQuery(e).offset();if(t=r.top,n=r.left,e.ownerDocument){var i=o(e.ownerDocument.body),a=o(e.ownerDocument.documentElement);t-=i.top==a.top?i.top:i.top+a.top,n-=i.left==a.left?i.left:i.left+a.left}var s={left:n,top:t};return s}function o(e){return e?{top:e.scrollTop||0,left:e.scrollLeft||0}:{top:0,left:0}}function i(e){var t=0,n=0;do"FRAME"==Ua(e)?(t+=mtjQuery(e).offset().top,n+=mtjQuery(e).offset().left):(t+=e.offsetTop||0,n+=e.offsetLeft||0),e=e.offsetParent;while(e);var r={left:n,top:t};return r}function a(e,t){var n={};return e.left>t.right||t.left>e.right?null:e.bottom<t.top||t.bottom<e.top?null:(n.left=Math.max(e.left,t.left),n.right=Math.min(e.right,t.right),n.top=Math.max(e.top,t.top),n.bottom=Math.min(e.bottom,t.bottom),n.height=n.bottom-n.top,n.width=n.right-n.left,n)}function s(e,t){var n=t.left,r=t.top;e.left+=n,e.right+=n,e.top+=r,e.bottom+=r}function u(e,t){var n=Fc(t);e.left+=n.Left,e.right+=n.Left,e.top+=n.Top,e.bottom+=n.Top}function c(e){var t=Hc(e);return t.height=t.height(),t.width=t.width(),t.top=t.top(),t.left=t.left(),t}function d(e,t,n){t.top=n.top,t.left=n.left,t.height=e.outerHeight(),t.width=e.outerWidth(),t.bottom=t.top+t.height,t.right=t.left+t.width}function f(t,n,r,o){y.removeScrollAndResizeEvents(o);var i=p(o);mtjQuery(t).bind(i,function(){n.stop(!1,!0),e.centerElementInPage(n,!0,r)})}function p(e){return e=e?e:"walkme",l("scroll.{0}, resize.{0}",e)}function g(e){if(m(e))return!0;var t=!1;return e.parents().each(function(){return m(wmjQuery(this))?(t=!0,!1):void 0}),t}function m(e){if(0==e.css("opacity"))return!0;var t=e[0].filters;return t&&t.alpha&&0===t.alpha.opacity}function h(e){var t=wmjQuery.expr.filters.mt_hidden;wmjQuery.expr.filters.mt_hidden=function(n){return t(n)||e(wmjQuery(n))}}function v(e){for(var t=e.parents().add(e),n=t.length-1;n>0;n--)if(w(wmjQuery(t[n]),wmjQuery(t[n-1])))return!1;return!0}function w(e,t){var n=t.css("overflow");if("hidden"!=n)return!1;var r=On(t,"border-top"),o=On(t,"padding-top"),i=t.offset().top,a=r+o+i,s=t.height(),u=a+s,l=t.offset().left,c=l+t.width(),d=On(e,"border-top"),f=On(e,"padding-top"),p=e.offset().top,g=d+f+p,m=e.height(),h=g+m,v=e.offset().left,w=v+e.width(),y=a>=h,b=g>=u,k=l>=w,S=v>=c;return y||b||k||S}var y=this;y.LocalSVNRevision="$Rev: 4006 $";var b;this.getPosRelativeToWindow=function(e,t,o){var a,s,u,l,c=0,d=0;for(t=t||top,o&&!window.opera&&e&&e.tagName&&"input"==e.tagName.toLowerCase()&&(c+=e.scrollLeft,d+=e.scrollTop);e&&(s=e.ownerDocument,u=n(s),o&&u==t&&(c+=s.documentElement.scrollLeft||s.body.scrollLeft,d+=s.documentElement.scrollTop||s.body.scrollTop),l=!u||u==t,a=o?r(e):i(e),c+=a.left,d+=a.top,!l);)e=u.frameElement;var f={left:c,top:d};return f},this.getRectRelativeToWindow=function(e,t){var r,o,i=!1,l=e.getBoundingClientRect(),c={left:0,top:0};for(t=t||top;!i;){r=e.ownerDocument,o=n(r);var d=r.documentElement.getBoundingClientRect();if(l=a(l,d),!l)return l;i=!o||o==t,i||(c=o.frameElement.getBoundingClientRect(),s(l,c),e=o.frameElement)}return u(l,r),l},this.getDrawingArea=function(e,t){var n=new Object;if(Fi(e))n=c(t?mtjQuery("body"):e);else{var r=mtjQuery(document);n.top=0,n.left=0,n.height=r.height(),n.width=r.width()}return n},this.isElementScrolledOut=function(e,t,n){var r=Aa(t),o=e.offset().top,i=e.offset().left,a=e.outerHeight(),s=e.outerWidth(),u=parseInt(n);return u==iu.Bottom&&(o+=a),u==iu.Right&&(i+=s),r.scrollTop()>o||t.height()+r.scrollTop()<o?!0:r.scrollLeft()>i||t.width()+r.scrollLeft()<i?!0:!1},y.getCenterPositionByBounds=function(e){var t=e.left+e.width/2,n=e.top+e.height/2;return{left:t,top:n}},y.getEmbedInElementPosition=function(e,t){var n={},r=parseInt(ja(t,"leftOffset",0)),o=parseInt(ja(t,"topOffset",0));return d(e,n,{top:o,left:r}),n},this.getElementBounds=function(e,t,n,r){var o={},i=e[0];if(t){var a=i.getBoundingClientRect(),s=Gc(e),u=Mc(i,s,n);o=Ri(a,u)}else{var l=y.getPosRelativeToWindow(i,n,!0);d(e,o,l)}return o=Oc(o,r)},this.isElementVisible=function(e){var t=!0;try{e[0].tagName}catch(n){t=!1,ea("elementDisplayTimeoutFunction: element destroyed. Garbage collecting",5),elementDataGarbageCollect()}return t&&(mtjQuery(e).is(":mt_visible")||(t=!1)),t},y.registerResizeAndScrollEvents=function(t){var n=t.element,r=t.offset,o=t.eventNameSuffix,i=e.shouldHandlePageAsFramesets()?e.getBiggestFrame().contentWindow:window;f(i,n,r,o)},y.getWindowSize=function(){var t=wmjQuery(e.shouldHandlePageAsFramesets()?e.getBiggestFrame().contentWindow:window),n={height:t.height(),width:t.width()};return n},y.removeScrollAndResizeEvents=function(t){var n=window;if(e.shouldHandlePageAsFramesets()){var r=e.getBiggestFrame();null!=r&&(n=r.contentWindow)}var o=p(t);mtjQuery(n).unbind(o)},y.centerElementInParent=function(e,t){var n=t.outerHeight()/2-e.outerHeight()/2,r=t.outerWidth()/2-e.outerWidth()/2;e.css("top",n+"px"),e.css("left",r+"px")},y.extendMtHidden=function(){wmjQuery.expr.filters.mt_hidden=b,mc("strongMtVisible")&&h(function(e){return!v(e)}),mc("nonVisibleIframe")&&h(function(e){var t=e.data("iframe");return!(!t||!t.is(":mt_hidden"))}),mc("visibleOpacity")&&h(g)},t.apply(null,arguments)}function S(){function e(){}function t(e){return e.replace(/,/g,"%2C")}function n(e){return e.replace(/%2C/g,",")}this.LocalSVNRevision="$Rev: 4006 $";var r=this;this.setCookie=function(e,n,r,o){try{"string"!=typeof n&&(n=n.toString()),n.indexOf(";")>-1&&n.replace(";",""),n=t(n);var i="";o&&o.length>0&&(i="; domain="+o);var a="";if(0!=r){var s=new Date;s.setTime(s.getTime()+1e3*r),a="; expires="+s.toUTCString()}var u=n+a+"; path=/"+i;document.cookie=e+"="+u}catch(l){_makeTutorial.Logger.error(l)}},this.getCookie=function(e){var t,r,o,i=document.cookie.split(";");for(t=0;t<i.length;t++)if(r=i[t].substr(0,i[t].indexOf("=")),o=i[t].substr(i[t].indexOf("=")+1),r=r.replace(/^\s+|\s+$/g,""),r==e){var a=n(o);return a}return!1},this.getCurrentDomain=function(){var e=r.getCookie(Ds);if(e)return e;var t=window.location.hostname,n="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$";if(new RegExp(n).test(t))return r.setCookie(Ds,t,gu,t),t;if(-1==t.indexOf("."))return null;for(var o=t.split("."),i="",a=o.length-1;a>=0;a--)if(""!=i&&(i="."+i),i=o[a]+i,r.setCookie(Ds,i,gu,i),r.getCookie(Ds)==i)return i;r.setCookie("wm-test","wm-test",gu);var s=r.getCookie("wm-test");if("wm-test"!=s)try{console.log("WalkMe requires the browser to accept cookies - please enable cookies in your browser.")}catch(u){}else _makeTutorial.Logger.error(new Error("Cannot get domain from: "+t));return void 0},e.apply(null,arguments)}function T(){function e(){}this.LocalSVNRevision="$Rev: 4044 $";var t=this,n="#!@DeL@!#";this.saveData=function(e,n,r){void 0==t.currentDomain&&(t.currentDomain=t.cookiesManager.getCurrentDomain()),t.cookiesManager.setCookie(e,n,r,t.currentDomain)},this.getData=function(e){var r=t.cookiesManager.getCookie(e);return r===n||r===!1?void 0:r},this.removeData=function(e){var r=t.getData(e);void 0!==r&&t.saveData(e,n,-1)},this.removeAllData=function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++)if(0===e[t].trim().toLowerCase().indexOf("wm-")){var n=e[t].split("=")[0].trim();document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}},this.getAll=function(){for(var e=document.cookie.split(";"),t={},n=0;n<e.length;n++)if(0===e[n].trim().toLowerCase().indexOf("wm-")){var r=e[n].split("=")[0].trim();r!==Ds&&(t[r]=this.getData(r))}return t},e.apply(null,arguments)}function I(){function e(){t=Ja.get("CookiesStorageManager")}this.LocalSVNRevision="$Rev: 4006 $";var t,n=this,r="wm-SELS-";this.saveData=function(e,n,o,i){t.saveData(r+e,n,o,i)},this.getData=function(e,n){return t.getData(r+e,n)},this.removeData=function(e,n){t.removeData(r+e,n)},this.getAll=function(e){var o=t.getAll(e),i={},a=r.length;return wmjQuery.safeEach(o,function(e){e.indexOf(r)>-1&&(e=e.substr(a),i[e]=n.getData(e))}),i},e.apply(null,arguments)}function x(){function e(){try{t()}catch(e){}}function t(){if(s.isEnabled()){var e=i(u.getItem("wm-storage"));if(e){var t=e.__jstorage_meta||{},n=t.TTL||{};for(var o in e)if(e.hasOwnProperty(o)){var a=e[o],l=n[o],c=r();l>c&&s.saveData(o,a,(l-c)/1e3)}u.removeItem("wm-storage")}}}function n(e){return r()+e}function r(){return(new Date).getTime()}this.LocalSVNRevision="$Rev: 4044 $";var a=new I,s=this,u=window.localStorage,l="walkMe_";this.init=function(e){return s.isEnabled()?void e():!1},this.saveData=function(e,t,r){if(r=br(r,0),s.removeData(e),0==r)a.saveData(e,t,r);else{var i={val:t,exp:n(1e3*r)};u.setItem(l+e,o(i))}},this.getData=function(e){var t=a.getData(e);if(void 0===t){var n=u.getItem(l+e);if(n){var o=i(n);if(!(o.exp<r()))return o.val;s.removeData(e)}}return t},this.removeData=function(e){a.removeData(e),u.removeItem(l+e)},this.removeAllData=function(){Object.keys(localStorage).forEach(function(e){0===e.indexOf(l)&&localStorage.removeItem(e)})},this.getAll=function(){function e(e,t,n){e=e.substr(n),e.toLowerCase().indexOf("wm-")>-1&&(t[e]=s.getData(e))}for(var t=a.getAll(),n=t,r=l.length,o=0;o<u.length;o++){var i=u.key(o);e(i,n,r)}return n},this.isEnabled=function(){return!!u},this.refreshGetData=function(e,t){t&&t()},e.apply(null,arguments)}function C(e,t,n){function r(){u=e.getAllUserGuids,l=n.isFeatureEnabled,c=e.setAuditStepCookieSeconds}function o(e,t,n,r){var o,l=u(),c=l[0];return o=t||n?i(l,t,c,r):e?s(c):a(c)}function i(e,t,n,r){if(!d){c(86400);var o=new nt(e,t,r);d=new ot(ru.HiddenIframe,o,n)}return f=p=null,d}function a(e){if(!p){var t=Ja.get("CookiesStorageManager");p=new ot(ru.Cookie,t,e)}return d=f=null,p}function s(e){if(!f){var t=new x;f=new ot(ru.JStorage,t,e)}return d=p=null,f}this.LocalSVNRevision="$Rev: 4175 $";var u,l,c,d,f,p,g=this;g.bySettingsFile=function(){return g.byType(t.getStorageType())},g.byType=function(e){var t,n=!1,r=!1,i=!1;switch(e){case ru.JStorage:n=!0;break;case ru.CrossDomainCookies:t=gs.Cookies,r=!0;break;case ru.CrossDomainLocalStorage:t=gs.LocalStorage;case ru.CrossDomain:r=!0;break;case ru.HiddenIframe:i=!0;break;case ru.Cookie:}return o(n,r,i,t)},g.byFeature=function(){var e=l("jstorage"),t=l("crossdomain"),n=l("hiddeniframestorage"),r=l("cd_localStorage")?gs.LocalStorage:null;return o(e,t,n,r)},r.apply(null,arguments)}function D(){function e(){n=t()||window.wmPreviewSnippet||window.wmSnippet}function t(){if(window.wmPlaySnippetData){var e=JSON.parse(window.wmPlaySnippetData);return window.wmPlaySnippet={getSettingsFile:function(){return e}},window.wmPlaySnippet}return null}this.LocalSVNRevision="$Rev: 4029 $";var n,r=this;r.getSettingsFile=function(){return n?n.getSettingsFile()||{}:{}},r.getCdnServerName=function(){return r.getSettingsFile().CdnServerName||window.mt_cdn_server_name},r.getStorageType=function(){return r.getSettingsFile().Storage},r.getAllUserGuids=function(){return r.getSettingsFile().UserGuids},e.apply(null,arguments)}function E(){function e(e,t,n){a=e,r=t,s=n}function t(e,t){for(var n=[],r=Math.ceil(e.length/t),o=0;r>o;o++){var i=t>e.length?e.length:t,a=e.slice(0,i);e=e.substring(i),n.push(a)}return n}function n(){return a.getFromStorage(c)}this.LocalSVNRevision="$Rev: 3999 $";var r,a,s,u=4096,l="wm-dt",c="wm-ne",d=this;d.saveData=function(e){d.removeData();for(var n=o(e),i=t(n,u),s=0;s<i.length;s++){var f=i[s];a.saveToStorage(l+s,f,r)}a.saveToStorage(c,i.length,r)},d.getData=function(){var e,t=n();if(void 0!=t){e="";for(var r=0;t>r;r++)e+=a.getFromStorage(l+r)}var o;if(e)try{o=i(e),o=o?o:void 0}catch(u){s(u,"Storage data is malformed, discarding it."),d.removeData()}return o},d.removeData=function(){var e=n();if(void 0!=e)for(var t=0;e>t;t++)a.saveToStorage(l+t,null,r);a.saveToStorage(c,0,r)},e.apply(null,arguments)}function P(){function e(e){a=e}function t(e){function t(e,t,n){n[e]||(n[e]={});var o=n[e],i=t[e];return o[i]||(o[i]=r,r++),t[e]=o[i],o}for(var n={},r=1,o=0;o<e.length;o++)for(var i=e[o],a=m(i),s=0;s<a.length;s++){var u=a[s];t(u,i,n)}return n}function n(e){function t(e,t){for(var n=m(e),o=0;o<n.length;o++){var i=n[o];t[i]||(t[i]=r,r++),e[t[i]]=e[i],delete e[i]}}for(var n={},r=1,o=e.length-1;o>=0;o--)t(e[o],n);return n}function r(e,t){t=c(t);for(var n=0;n<e.length;n++)for(var r=e[n],o=m(r),i=0;i<o.length;i++){var a=o[i],s=t[a];r[s]=r[a],delete r[a]}return e}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&i(e,n,t[n]);return e}function i(e,t,n){n=c(n);for(var r=e.length-1;r>=0;r--){var o=e[r];o[t]&&(o[t]=n[o[t]])}}this.LocalSVNRevision="$Rev: 4193 $";var a,s=this;s.minifyData=function(e){if(!e||0==e.length)return void a.removeData();var r=u(e),o=t(r),i=n(r),s={d:r,vm:o,km:i};a.saveData(s)},s.deminifyData=function(){var e=a.getData();if(e){var t=e.d,n=e.km,i=e.vm;return r(t,n),o(t,i),t}},e.apply(null,arguments)}function N(){function e(e){r=e.serverDataSenderManager,u=e.actionUrl,s=e.beforeSendingManipulationFunc,c=e.technicalSuccessHandler,d=e.sendingThreshold,f=e.dataType,p=e.dateSenderLogFeature,m=e.requestParamsFunc,v=e.logError,g=e.logger.wrapCustomerLog(p),w=e.dataIdFieldName||"iN",b=e.defaultDataStorageLifeSeconds,y=new it(e.stateManager,e.twoLettersDataType),o=new E(y,b,v),a=new P(o),n()}function t(){var e=y.getFromStorage(S,0),t=e;return e++,y.saveToStorage(S,e,b),t}function n(){i=a.deminifyData(),i=i?i:[]}this.LocalSVNRevision="$Rev: 4056 $";var r,o,i,a,s,u,c,d,f,p,g,m,h,v,w,y,b,k=this,S="wm-nx";k.sendData=function(e){if("object"!=typeof e){var o=l("TypedDataSender - got object with value {0} of type {1} instead of object ({2}).",e,typeof e,f);return void g(o,1)}y.refreshGetData(null,function(){if(h)return void g("Not accepting anymore data",3);if(r.isServerSick()){var o=l("TypedDataSender - Server is sick, ignoring new data of type {0} for now",f);return void g(o,3)}n(),s&&s(i,e),e[w]=t(),i.push(e),a.minifyData(i),r.sendData()})},k.persistData=function(){a.minifyData(i),i&&0!=i.length||y.removeFromStorage(S)},k.data=function(){return n(),i},k.actionUrl=function(){return u},k.sendingThreshold=function(){return d},k.dataType=function(){return f},k.truncateData=function(){n(),i.splice(1,i.length-1),k.persistData()},k.clearAndStopSavingData=function(){h=!0,i.length=0,o.removeData()},k.technicalSuccessHandler=function(){return c},k.requestParamsFunc=function(){return m},k.getDataIdFieldName=function(){return w},e.apply(null,arguments)}function j(e,t,n,r,i){function a(){_=r.defaultDataStorageLifeSeconds,R=r.dateSenderLogFeature,L=t.wrapCustomerLog(R)}function s(){var e=c();if(e){var t=e.dataSender,n=e.data;L(l("Got {0} {1}s to send, starting now",n.length,t.dataType()),3),w(n,t)}}function c(){if(P)return void L("There's already a pending request to server",3);var e=d();return e?e:void L("serverDataSenderManager - no data to send",3)}function d(){for(var e=f(),t=e.length-1;t>=0;t--){var n=e[t],r=n.data();if(r.length>0)return{dataSender:n,data:r}}}function f(){return g(V)}function p(){if(j)return void L("Already waiting for server's health",5);j=!0;var e=i.getData(M);if(e=e?++e:1,e>F){var t=l("Server wasn't healthy for more than {0} attempts, restarting sick mode",e);L(t,0),i.removeData(O),i.removeData(M),j=!1,p()}else{var n=m(e),r=l("Sick attempts: {0}, time before next retry: {1} second(s)",e,n/1e3);L(r,3),Ui(function(){i.refreshGetData(null,function(){i.removeData(O),i.saveData(M,e,ec),j=!1,s()})},n)}}function m(e){var t=i.getData(O);if(!t){var n=h(e);t=(new Date).getTime()+n,i.saveData(O,t,ec)}var r=t-(new Date).getTime();return r}function h(e){return W[e]}function v(){i.removeData(B),i.removeData(M),i.removeData(O),j=!1}function w(e,t){if(0==n.get().length)return void L(l("RecorderServerName is {0}, can't send data of type {1}",n.get(),t.dataType()),2);if(0==e.length)return void L("dataArray's length is 0, no data to send",3);P=!0;var r=t.sendingThreshold(),o=u(e);o.length>r&&(o=o.splice(0,r));var i=t.requestParamsFunc()(o),a=wl.execute({url:n.get()+t.actionUrl(),dataType:"jsonp",data:i,timeout:Q});mc("bypassAuditServer")?b(o,a,t):k(o,a,t);var s=l("Sent {0} data of type {1} to server at {2}",o.length,t.dataType(),(new Date).toString());L(s,3)}function y(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r],i=o[t];i&&i>n&&(n=i)}return n}function b(e,t,n){t.error(function(t,r,i){if(200==t.status&&"parsererror"==r)T(e,n);else{var a=l("Server technical (AJAX) error (2) jqXHR:{0}, textStatus:{1}, errorThrown:{2}",o(t),r,i);L(a,3),D(t,r,i)}}),t.success(function(){var e="Got success while in bypass player server mode";L(e,3),_makeTutorial.Logger.error(null,e)})}function k(e,t,n){t.success(function(t){L("Sending data ajax success",3),S(t,e,n)}),t.error(function(t,r,o){200==t.status&&"parsererror"==r?C(e,n):D(t,r,o)
})}function S(e,t,n){n.technicalSuccessHandler()(e,function(){C(t,n)},D,function(){T(t,n)})}function T(e,t){L("The technical success was also logical success",3),I(e,t),v(),P=!1,s()}function I(e,t){x(e,t)}function x(e,t){for(var n=t.getDataIdFieldName(),r=y(e,n),o=t.data(),i=o.length-1;i>=0;i--){var a=o[i];a[n]<=r&&o.splice(i,1)}t.persistData()}function C(e,t){L(l("Logical error happened, discarding {0} {1}",e.length,t.dataType()),3),x(e,t),v(),P=!1,s()}function D(){i.saveData(B,1,ec),L("Truncating data due to sick server",3),E(),P=!1,p()}function E(){for(var e=f(),t=e.length-1;t>=0;t--)e[t].truncateData()}this.LocalSVNRevision="$Rev: 4462 $";var P,j,A,_,R,L,B="wm-sk",M="wm-sat",O="wm-sst",F=2,G=3e3,Q=6e4,W={1:Kl,2:4*Kl},U=this,V={};U.register=function(n,r){var o=new N({beforeSendingManipulationFunc:r.beforeSendingManipulationFunc,actionUrl:r.actionUrl,technicalSuccessHandler:r.technicalSuccessHandler,dataType:r.dataType,twoLettersDataType:n,serverDataSenderManager:U,sendingThreshold:r.sendingThreshold,stateManager:i,dateSenderLogFeature:R,requestParamsFunc:r.requestParamsFunc,dataIdFieldName:r.dataIdFieldName,defaultDataStorageLifeSeconds:void 0!=r.dataStorageLifetimeSeconds?r.dataStorageLifetimeSeconds:_,logError:e.Logger.error,logger:t});return V[n]=o,o},U.start=function(){U.sendData()},U.sendData=function(){var e=c();if(e){var t=e.dataSender,n=e.data;if(U.isServerSick())return L("Waiting for server's health in sendData",3),void p();if(n.length>=t.sendingThreshold())L(l("sendData - Got {0} {1}s to send, starting now",n.length,t.dataType()),3),null!=A&&(A.clear(),A=null),w(n,t);else if(null==A||A.cleared){var r=l("Got {0} {1}s to send, waiting {2}",n.length,t.dataType(),G);L(r,3),A=Ui(function(){A=null,i.refreshGetData(null,function(){var e=c();if(e){var t=e.dataSender,n=e.data;w(n,t)}})},G)}else L("sendData - timeout already exists",5)}},U.isServerSick=function(){return i.getData(B)},U.removeAllData=function(){for(var e=f(),t=e.length-1;t>=0;t--)e[t].clearAndStopSavingData()},a.apply(null,arguments)}function A(e,t,n,r){function o(){var e=n.checkInterval;void 0==e&&(e=g),w=e,d=r.wrapCustomerLog(es)}function i(e,t,n,r,o,i){k[e]={relatedObjectId:o,identifier:t,goalType:r,goalCompletedFunc:n,evaluator:i}}function a(e,t,n){var r=y[e.Id];if(r){if(e.IsLinkedGoal){var o=l("Skipping goal watch - Goal is already watched : {0}, type: {1}",e.Name,e.GoalType);return d(o,3),null}v.removeGoalWatch(e.Id)}var a={evaluationPollingIntervalMs:w,jqueryPollingIntervalMs:m,featureName:es,elementName:"Goal: "+e.Name},s=new xs(a);y[e.Id]=e,b++,i(e.Id,t,n,e.GoalType,e.RelatedObjectId,s);var c=t?l(", PlayGuid of : {0}",t):"",o=l("Start watching Goal : {0}, type: {1} {2}",e.Name,e.GoalType,c);return d(o,3),s.onValueChanged(function(t){t&&u(e)}),s.onPreEvaluation(function(t,n){n||(T?T=!1:0===S&&(f=0,d("============================ CHECKING GOALS ==============================================================",2)),e.goalStart=(new Date).getTime()),To("CheckingGoal",{GoalId:e.Id,GoalName:e.Name});var r=l("Goal: {0} - Checking Goal , id : {1}, type: {2}, RelatedObjectId: {3}",e.Name,e.Id,e.GoalType,e.RelatedObjectId);d(r,3)}),s.onEvaluated(function(t,n){var r=(new Date).getTime(),i=r-e.goalStart;o=l("Goal: {0} - checking finished, id : {1}, took {2} ms",e.Name,e.Id,i),d(o,4),bo("GoalConditionEvaluated",e),n||(S++,f+=i,S>=b&&(d("Done checking "+S+" Goals. took: "+f+" ms",2),d("============================ DONE CHECKING GOALS =========================================================",2),S=0),f>p&&(d("Goals tracking time until now is "+f+" ms. It broke the time limit of "+p+" ms. Stopped tracking current goals."),zu.getData(I)||(o=l("Goals tracking broke limit and was stopped - user id: {0}, end user id: {1}, time: {2}, browser: {3}, url: {4}",al,_makeTutorial.getEndUserId(),f,la(),window.location.href),_makeTutorial.Logger.error({},o),zu.saveData(I,!0,x)),v.removeAllGoalsWatch()))}),e}function s(e){return k[e].evaluator}function u(e){d('Goal "'+e.Name+'" Reached! ',1);try{c(e)}catch(n){t.Logger.error(!1,n)}v.removeGoalWatch(e.Id),bo("GoalCompleted",e),yo("GoalCompleted",{GoalId:e.Id,GoalName:e.Name}),To("GoalCompleted",{GoalId:e.Id,GoalName:e.Name})}function c(e){var t=e.Id,n=k[t];if(n.goalCompletedFunc){var r=v.createGoalCompletedParams(e,n.identifier,n.goalType,n.relatedObjectId);n.goalCompletedFunc(r)}}this.LocalSVNRevision="$Rev: 4162 $";var d,f,p=500,g=5e3,m=500,h="Conditions",v=this,w=null,y={},b=0,k={},S=0,T=!1,I="wm-gb",x=86400;this.addGoalsWatch=function(e,t,n){for(var r=e.length-1;r>=0;r--)for(var o=e[r],i=e.length-1;i>r;i--){var u=e[i];o.Id==u.Id&&e.splice(i,1)}for(var l=[],r=0;r<e.length;r++){var c=a(e[r],t,n);c&&l.push(c)}for(var r=0;r<l.length;r++){var d=l[r],f=s(d.Id);f.evaluateAsync(d.Settings[h]),f.isPollingEvaluationNeeded()||--b}},this.cleanResources=function(){for(var e in y){var t=s(e);t.cleanResources()}},this.removeGoalWatch=function(e){if(y[e]){var t=s(e);t.isPollingEvaluationNeeded()&&(--S,--b,0==S&&b>0&&(T=!0)),t&&t.cleanResources(),delete y[e],delete k[e]}},this.removeAllGoalsWatch=function(){v.cleanResources(),y={},k={},b=0,S=0},this.completeGoalById=function(e){var t=y[e];return t?void u(t):void d("Could not complete goal with id "+e+" - it was already completed or does not exist.",3)},v.createGoalCompletedParams=function(e,t,n,r){var o={Id:e.Id,GoalType:n,RelatedObjectId:r,Name:e.Name,identifier:t};return o},o.apply(null,arguments)}function _(e,t,n,r,o,i,a){function s(){P=r.getPermutation,N=n.getEndUserGuid,S=a.wrapCustomerLog(es),T=i.register("go",{actionUrl:"/Statistics/AddCompletedGoal",technicalSuccessHandler:u,defaultDataStorageLifeSeconds:I,prefixForStorage:"go",sendingThreshold:1,dataType:"deployable goal",requestParamsFunc:function(e){var t=e[0],n=t.GoalType==nu.AbExperiment;return{goalId:t.Id,playGuid:t.identifier,permutationId:P(),endUserGuid:N(),source:o(),localTime:p(),url:sa(),isAbTesting:n}}})}function u(e,t,n,r){"true"==e?r(parseInt(e)):"error"==e?(S("Completed goal - Internal Error",3),n()):(S("Completed goal - Unknown Error",3),t())}function c(e){var t=e.Goals;return t||(t=[]),t.slice()}function d(t,n,r){var o=g(t,r);e.addToDictionary(b(n),f(t),o,I)}function f(e){return e.Id?e.Id:e.TutorialId}function g(e,t){var n=new Object;return n[C]=f(e),n[D]=t,n[E]=[],n}function m(e,n){var r=e[C],o=_.getDeployableGoalsByIdAndType(r,n);if(o.length>0){var i=e[D],a=e[E];k(o,a),t.addGoalsWatch(o,i,R)}}function h(e){return ra()?!0:(S("Sending completed Goal info to server ("+e.Name+", "+e.identifier+")",3),T.sendData({Id:e.Id,GoalType:e.GoalType,identifier:e.identifier}),void v(e))}function v(e){var t=_.getWatchedDeployablesOfType(e.GoalType),n=t[e.RelatedObjectId];if(n&&e.identifier==n[D]){n[E].push(e.Id);var r=n[E].length,o=_.getDeployableGoalsByIdAndType(e.RelatedObjectId,e.GoalType).length;o==r&&delete t[e.RelatedObjectId],w(e.GoalType,t)}for(var i=0;i<A.length;i++)A[i](e)}function w(t,n){var r=b(t);e.saveData(r,n,I)}function y(t){var n=b(t);e.removeData(n)}function b(e){var t=l("{0}-{1}",x,e);if(j){var n=N();n&&(t+="-"+n)}return t}function k(e,t){for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<e.length;o++){var i=e[o].Id;if(i==r){e.splice(o,1);break}}}this.LocalSVNRevision="$Rev: 4011 $";var S,T,I=3600,x="wm-wtchd",C="tID",D="plgd",E="fnsh",P=null,N=null,j=!1,A=[],_=this;this.onGoalCompleted=function(e){A.push(e)},this.enableMultiUserStorage=function(){j=!0},this.startWatchingDeployable=function(e,n){var r=c(e);if(r.length>0){var o=r[0].GoalType;d(e,o,n),t.addGoalsWatch(r,n,R);var i=In(o),a=l("Started watching {0} : {1}",i,e.Name);S(a,2)}},this.stopWatchingDeployables=function(e){y(e)},this.init=function(){var e=0;mtjQuery.each(nu,function(t,n){var r=_.getWatchedDeployablesOfType(n);for(var o in r)if(void 0!=r[o]&&void 0!=r[o][C]){var i=r[o];m(i,n),e++}}),S("Restoring watched Goals... "+e+" Walk-Thrus are watched.",2)},this.getCompletedGoals=function(e,t){if(void 0!=e&&t){var n=_.getWatchedDeployablesOfType(e);if(n){var r=n[t];if(r){var o=r[D],i=r[E];return{playGuid:o,finishedGoals:i}}}}},this.getDeployableGoalsByIdAndType=function(e,t){var r=n.getDeployablesManager(t),o=r.getById(e);return o?c(o):[]};var R=function(e){var t=_.getWatchedDeployablesOfType(e.GoalType);if(t[e.RelatedObjectId])h(e);else{var r=l("Goal wasn't found in dictionary - abnormal scenario (Name: {0}, Identifier: {1}, deployableType: {2})",e.Name,e.identifier,e.GoalType);n.Logger.error(void 0,r)}};_.getWatchedDeployablesOfType=function(t){var n=b(t),r=e.getData(n,{});return r},s.apply(null,arguments)}function R(){function e(e){h=e.lib,c=e.drawableType,d=e.drawableId,p=e.defaultSettings,g=e.cssKeysValues,w(e.element),k(e.settings),l=h.Logger.wrapCustomerLog(ls)}function n(e){return C()+"-"+c+"-"+e+"-"+d}function r(){var e=x(),t="walkme-custom-"+e+" walkme-to-remove ";if(g)for(var n=0;n<g.length;n++)t+=" walkme-custom-"+e+"-"+g[n].name+"-"+g[n].id;return t}function o(e,t){var n=D(e,t),r=ja(e,S());return!t&&r&&(i(n,r),n.color=r.color||n.color),n}function i(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=f(t[n])?parseFloat(t[n]):t[n])}function a(){for(var e=0;4>e;e++)b().push(u(e))}function s(e){if(e)try{e.remove()}catch(t){l("[highlighter] error removing div",3)}}function u(e){var t=T(n(e));return t.addClass(m),t}this.LocalSVNRevision="$Rev: 3920 $";{var l,c,d,p,g,m,h,v=new t(this),w=v.Prop.Protected("element",null),y=v.Prop.Protected("settings",null),b=v.Prop.Protected("highlighterDivs",[]),k=v.Prop.Protected("balloonSettings",{}),S=v.Prop.Protected("balloonSettingsKey"),T=(v.Virtual.Public("shouldShow"),v.Virtual.Protected("createDiv")),I=v.Virtual.Protected("applyStyle"),x=v.Virtual.Protected("getInstanceName"),C=v.Virtual.Protected("getClassName"),D=v.Virtual.Protected("getSettings",function(){return{left:0,top:0,width:0,height:0}});v.Protected("init",function(e){y(o(e,p)),m=r()})}v.Virtual.Public("highlight",function(){try{E(),a(),I(b())}catch(e){h.Logger.error(e)}});var E=v.Virtual.Public("unhighlightElement",function(){for(var e=0;e<b().length;e++)s(b()[e]);b().length=0});e.apply(null,arguments)}function L(){function e(e){h.Extends(R,e),u=e.element,g=e.lib,l=h._base.settings,c=e.monitor,p=n(u),m=g.Logger.wrapCustomerLog(ls),h._base.balloonSettingsKey(v),h._base.init(e.settings)}function n(e){var t=e.parents("body");return 0==t.length&&(t=e.parents("frameset").first()),mc("jsp")&&(t=Ra(e,t)),t}function r(e,t,n,r,o,i,a){var s=e[t];if(s)return Wc(s,l().zindex),s.css("top",n+"px").css("left",r+"px").css("width",o+"px").css("height",i+"px").css("background-color",l().color),a&&s.css("font-size",l().thickness+"px"),s}function o(e){for(var t=0;t<b.length;t++){var n=b[t];n.monitor(e.pageX,e.pageY)}}function i(e){try{var t=Gc(e);t&&mtjQuery(t).unbind("mousemove",o)}catch(n){}}function a(e){for(var t=-1,n=0;n<b.length;n++)if(b[n].getHash()==e.getHash()){t=n;break}t>=0&&b.splice(t,1),0==b.length&&i(e.getElement())}function s(){function e(e){n=e.element,r=Zc(),o=!0}function t(e,t,n){return e>=t&&n>=e}var n,r,o,i=this;this.monitor=function(e,r){try{n[0].tagName}catch(o){return m("HighlighterRect.monitor: element destroyed. Garbage collecting",5),void elementDataGarbageCollect()}var i=2,a=f.y-i,s=f.x-i,u=f.h+2*i,l=f.w+2*i,c=t(e,s,s+l)&&t(r,a,a+u);this.setVisibilty(!c)},this.show=function(){i.setVisibilty(!0)},this.hide=function(){i.setVisibilty(!1)},this.setVisibilty=function(e){if(o!=e){for(var t=e?"block":"none",n=0;n<d.length;n++)d[n].css("display",t);o=e}},this.getHash=function(){return r},this.getElement=function(){return n},e.apply(null,arguments)}this.LocalSVNRevision="$Rev: 4006 $";var u,l,c,u,d,f,p,g,m,h=new t(this),v="stepHlObj",w="2147483630",y="#55aaff",b=[],k=[];h.Override("shouldShow",function(){var e=ja(Pu.get().Settings,"hlType","none");return"rect"==ja(h._base.balloonSettings(),"hlType",e)}),h.Override("getSettings",function(e,t){var n=h._base.getSettings();return t?(n.color=y,n.thickness=1):(n.color=Pu.get().BalloonSettings.HighlighterColor||y,n.thickness=Pu.get().BalloonSettings.HighlighterThickness||1),n.zindex=ja(e,"z-index",w),n}),h.Override("highlight",function(e){h._base.highlight(e);var t=new s({element:u});if(k.push(t),c){var n=Gc(u);mtjQuery(n).unbind("mousemove",o),mtjQuery(n).bind("mousemove",o),b.push(t)}}),h.Override("applyStyle",function(e){var t=u[0],n=t.getBoundingClientRect(),o=Gc(u),i=Mc(t,o,window),a=l().thickness,s=n.left+i.left+l().left-l().width/2-a,c=n.top+i.top+l().top-l().height/2-a,g=s,m=c;mc("jsp")&&p.hasClass("jspPane")&&(s-=p.offset().left,c-=p.offset().top);var h=n.right-n.left+l().width+a,v=n.bottom-n.top+l().height+a,w=r(e,0,c,s,h+a,a,!0),y=r(e,1,c,s+h,a,v+a,!1),b=r(e,2,c+v,s,h+a,a,!0),k=r(e,3,c,s,a,v+a,!1);d=[w,y,b,k],f={x:g,y:m,w:h+a,h:v+a}}),h.Override("unhighlightElement",function(){try{if(k)for(var e=0;e<k.length;e++)a(k[e]);k.length=0,h._base.unhighlightElement()}catch(t){}}),h.Override("createDiv",function(e){var t=mtjQuery(p[0].ownerDocument.createElement("div"));return t[0].id=e,p.append(t),t}),h.Override("getInstanceName",function(){return"highlighter"}),h.Override("getClassName",function(){return"highlightDiv"}),e.apply(null,arguments)}function B(){function e(e){u.Extends(R,e),a=u._base.settings,i=e.element,o=e.lib,s=o.Logger.wrapCustomerLog(ls),u._base.balloonSettingsKey(l),u._base.init(e.settings)}function n(){var e=mtjQuery(document),t=document.documentElement.clientWidth,n=e.height();return{height:n,width:t}}function r(e,t,n,r,o){e&&(Wc(e,a().zindex),e.css("top",t+"px").css("left",n+"px").css("width",r+"px").css("height",o+"px").css("background-color",a().color).css("opacity",a().opacity))}this.LocalSVNRevision="$Rev: 4006 $";var o,i,a,s,u=new t(this),l="stepIoObj",c="2147483629",d="#000000";u.Override("shouldShow",function(){var e=ja(Pu.get().Settings,"ioEnabled","0");return"1"==ja(u._base.balloonSettings(),"ioEnabled",e)&&!o.isQuirksMode(i[0])}),u.Override("getSettings",function(e){var t=u._base.getSettings();return t.color=d,t.opacity=.5,t.zindex=ja(e,"z-index",c),t}),u.Override("applyStyle",function(e){var t,o=n(),s=i[0],u={top:0,left:0},l=Gc(i);if(i.data("iframe")){var c=k.getRectRelativeToWindow(s,window);if(!c)return;t=c}else t=s.getBoundingClientRect(),u=Mc(s,l,window);var d=Ii(),f=t.left+u.left+a().left-a().width/2,p=t.top+u.top+a().top-a().height/2,g=t.right-t.left+a().width,m=t.bottom-t.top+a().height;r(e[0],0-d.top,0,o.width-.5,p+d.top),r(e[1],p,f+g,Math.floor(o.width-g-(t.left+a().left-a().width/2)),m),r(e[2],p+m,0,o.width-.5,o.height-(p+m)),r(e[3],p,0,t.left+a().left-a().width/2-.5,m)}),u.Override("createDiv",function(e){var t=wmjQuery("<div id="+e+" />");return mtjQuery(document).find("body").append(t),t}),u.Override("getInstanceName",function(){return"insideouter"}),u.Override("getClassName",function(){return"insideoutDiv"}),e.apply(null,arguments)}function M(){function e(e,t){h();var n=e?e:ht;U=o(n.InitCSS),V=o(n.Properties),H=o(n.Options),E(n.MetaData),Z=t}function t(){return!0}function n(e,t){e.removeAttr("id").find("div").removeAttr("id"),e.fadeOut(st,function(){Li(e,t)})}function r(e,t){Li(e,t)}function o(e){return mtjQuery.extend({},e)}function i(e){return{filter:e.css("filter")}}function a(){J&&nt?w(S):rt.push(T)}function s(){X&&(P(),w(N))}function u(){if(d()){var e=j(tt,l());W.postAnimation(function(){A(e)})}}function l(){return q?O:et?M:void 0}function c(){tt.css({display:"block",visibility:"hidden",filter:""})}function d(){return q||et}function f(){for(var e=0;e<rt.length;e++)"function"==typeof rt[e]&&rt[e].apply(null,arguments);rt.length=0}function p(){var e=H.duration*at;setTimeout(y,e)}function g(){mtjQuery(tt).css({display:mt,visibility:""}).css(ot)}function m(){tt&&tt.css(ot)}function h(){it=mtjQuery({})}function v(){it.clearQueue(ut)}function w(e){it.queue(ut,e)}function y(){it.dequeue(ut)}function b(){var e={},t={};x()?(e.size="height",e.osize="width"):(e.size="width",e.osize="height"),!q&&V.size&&(Y==iu.Top&&"height"==e.size||Y==iu.Left&&"width"==e.size)&&(et=!0),t.marginTop=Y==iu.Bottom?-1:1,t.marginLeft=Y==iu.Right?-1:1,e.margin="margin"+gt[Y],V=k(V,e,t),U=k(U,e,t)}function k(e,t,n){if(e){var r={};for(var o in e)if(e.hasOwnProperty(o)){var i=nd(t[o])?t[o]:o;if(r[i]=e[o],nd(n[i])){var a=r[i].toString().replace("px","");r[i]=n[i]*a+"px"}}return r}}function S(){I(nt),setTimeout(function(){y()},ct)}function T(){mtjQuery(nt).each(function(){this.show()}),y()}function I(e){var t,n,r=x(),o=r?"marginTop":"marginLeft",i=C(),a=i?1:-1,s=e.length-1;Y==iu.Top&&(t="border-top-width",n="borderTopWidth"),Y==iu.Bottom&&(t="border-bottom-width",n="borderBottomWidth"),Y==iu.Right&&(t="border-right-width",n="borderRightWidth"),Y==iu.Left&&(t="border-left-width",n="borderLeftWidth"),mtjQuery(e).each(function(e){this.css("visibility","hidden").css("display","block");var r=(parseInt(this.css(t),10)+2)*a,u=this.css(t),l=this[0].style.zIndex,c={};c[n]=u,c.opacity=1,i&&(c[o]=1);var d={};d.duration=ct,d.complete=function(e,t){return function(){e.css(o,""),e.css("zIndex",t)}}(this,l),e==s&&this.css("zIndex",l-1),this.css("visibility",""),i&&this.css(o,r),this.css(t,"0px"),this.animate(c,d)})}function x(){return Y==iu.Bottom||Y==iu.Top?!0:!1}function C(){return Y==iu.Bottom||Y==iu.Right?!0:!1}function D(e){!Y&&U.margin&&(U.margin=0),mtjQuery(e).css({display:"none",visibility:""}).css(ot).css(U)}function E(e){e&&(q=br(e.center,!1),X=br(e.hwa,!1),J=br(e.are,!1),at=br(e.delay,1))}function P(){tt.children(":visible").addClass("walkme-balloon-hidden-content").css("display","none")}function N(){tt.children(".walkme-balloon-hidden-content").removeClass("walkme-balloon-hidden-content").fadeIn(250,function(){mtjQuery(this).css("direction",mtjQuery(this).css("direction"))})}function j(e,t){var n={position:"absolute",top:e.css("top"),left:e.css("left"),height:e.height(),width:e.width(),zIndex:e[0].style.zIndex},r=mtjQuery("<div />").css(n);return e.css({top:0,left:0}).wrap(r),t(r,e),n}function A(e){et&&(tt.css("bottom",""),tt.css("right","")),tt.unwrap().css(e)}function _(){tt.bind("click.wm_animation",function(){if(!K&&(K=!0,L(tt,dt,lt),nt))for(var e=0;e<nt.length;e++)L(nt[e],dt,lt)}),R(tt)}function R(e){e.find("button,a,.walkme-custom-balloon-close-button").bind("click.wm_animation",function(e){e.stopPropagation()})}function L(e,t,n){if(0>=t)return e.css(n,""),void(K=!1);var r=[];r[n]=B(t),e.animate(r,pt,function(){L(e,t-1,n)})}function B(e){var t=e%2*2-1,n=e*ft;return n*t}function M(e,t){var n=parseInt(t.css("border-top-width"),10)+parseInt(t.css("border-bottom-width"),10),r=parseInt(t.css("border-left-width"),10)+parseInt(t.css("border-right-width"),10);t.css("top",""),t.css("left",""),t.css("bottom","-"+n+"px"),t.css("right","-"+r+"px")}function O(e,t){F(e,t),H.step=function(){F(e,t)}}function F(e,t){var n=e.height()/2-t.height()/2,r=e.width()/2-t.width()/2;t.css("top",n),t.css("left",r)}function G(){return!z&&t()&&$?!0:!1}function Q(){return Z?!0:!1}this.LocalSVNRevision="$Rev: 3794 $";var W=this,U=null,V=null,H=null,z=!1,$=!0,q=!1,X=!1,J=!1,Y=null,K=!1,Z=!1,et=!1,tt=null,nt=null,rt=[],ot=null,it=null,at=1,st=150,ut="animations",lt="marginLeft",ct=250,dt=10,ft=.3,pt=50,gt={0:"Top",1:"Left",2:"Top",3:"Left"},mt="inline",ht={InitCSS:{display:mt},Properties:{},Options:{}};this.disableAnimation=function(){$=!1},this.setPosition=function(e){Y=e,b()},this.postAnimation=function(e){e&&rt.push(e)},this.prepare=function(e,t){tt=e,nt=t,ot=i(tt),v(),c(),G()?(a(),s(),u(),W.postAnimation(m),H.complete=f):W.postAnimation(T),Q()&&W.postAnimation(_)},this.animate=function(e){return tt?(this.postAnimation(e),void(G()?(z=!0,D(tt),tt.animate(V,H),p()):(g(),f()))):void(e&&e())},this.destroy=function(e){var t=tt;if(nt)for(var o=0;o<nt.length;o++)t=t.add(nt[o]);G()?n(t,e):r(t,e)},e.apply(null,arguments)}function O(){function e(){}var t=this,n={0:G,1:Q};t.create=function(e){var t=e.config.Settings.AG&&e.config.Settings.AG.type||0,r=n[t];return new r(e)},e.apply(null,arguments)}function F(){function e(e){c(e.config),d(e.utils),s(d().getCommonUtils()),u(e.player),p(!1);var t=s().getSettingsValue(c().Settings,"AG",!1);t&&f(t.settings)}function n(e){var t=_a();g(wmjQuery(m(e)));var n=wmjQuery("<div id='walkme-attengrab' class='walkme-to-destroy' style='display: none;'/>");n.append(g()),t.append(n),l(mtjQuery("#walkme-attengrab",t)),d().getUiUtils().setLangAttribute(l()),s().libSetTimeout(function(){h(e),r(e)},100)}function r(e){parseFloat(e.timeout)>0&&s().libSetTimeout(function(){y(),p(!0)},1e3*parseFloat(e.timeout))}var o,i=new t(this),a="wm-ag-rep",s=i.Prop.Protected("commonUtils"),u=i.Prop.Protected("player"),l=i.Prop.Protected("attengrab"),c=i.Prop.Protected("config"),d=i.Prop.Protected("utils"),f=i.Prop.Protected("settings"),p=i.Prop.Protected("stopAnimation"),g=i.Prop.Protected("innerHtml"),m=i.Virtual.Protected("createInnerHtml",function(){}),h=i.Virtual.Protected("postDrawing",function(){}),v=i.Virtual.Protected("innerSetup",function(){}),w=i.Virtual.Protected("isSupportedByBrowser",function(){return!0}),y=(i.Virtual.Public("setupAttenGrab",function(){if(w()){var e=s().getSettingsValue(c().Settings,"AG",!1);if(e&&v(e)!==!1){var t=d().checkRepeatCookie(a,e.repeat);t.shouldStart&&(t.store(),o=s().libSetTimeout(function(){n(e)},1e3*parseFloat(e.delay)))}}}),i.Virtual.Public("hide",function(){l()&&l().hide(),o&&o.clear()}),i.Virtual.Public("remove",function(){l()&&l().remove(),o&&o.clear()}));e.apply(null,arguments)}function G(){function e(e){d.Extends(F,e),u=d._base,l=u.player(),c=u.config()}function n(e){function t(){var e=s(),t="1"==l.attr("data-inanimation");return e||t}if(t(l)){if(p++,p>10)return;u.commonUtils().libSetTimeout(function(){n(e)},500)}else r(e)}function r(e){var t="0px",n="0px",r="0px",s="0px",d="auto",p="auto",g="auto",m="auto",h=parseInt(e.hOffset),v=parseInt(e.vOffset),w=u.attengrab(),y=(l.width()-w.width())/2,b=(l.height()-w.height())/2;g=i(g,"bottom",b,v),d=i(d,"top",b,v),p=i(p,"right",y,h),m=i(m,"left",y,h),c[f].indexOf("center")>-1&&(m="50%",s=a(s,"margin-left",y,h),s=o("width",s)),c[f].indexOf("middle")>-1&&(d="50%",t=a(t,"margin-top",b,v),t=o("height",t)),w.css({position:"fixed",top:d,right:p,bottom:g,left:m,"margin-top":t,"margin-right":n,"margin-bottom":r,"margin-left":s}),w.show()}function o(e,t){return l.hasClass("walkme-dynamic-size")&&(t=parseFloat(t.replace("px",""))+l.css(e).replace("px","")/2*-1),t}function i(e,t,n,r){return c[f].indexOf(t)>-1&&(e=a(e,t,n,r)),e}function a(e,t,n,r){return e=parseFloat(l.css(t).replace("px","")),e+=n,e+=r,e+="px"}function s(){var e=u.attengrab();return 0==l.width()||28==l.width()||0==e.width()||28==e.width()||24==e.width()&&24==e.width()}var u,l,c,d=new t(this),f="TrianglePosition",p=(d.Override("createInnerHtml",function(e){return"<img src='"+e.filename+"' />"}),d.Override("postDrawing",function(e){n(e)}),d.Override("innerSetup",function(e){return e.filename&&(e.filename=u.utils().ResourceManager.getResourcePath(e.filename)),-1==parseInt(e.id)?!1:void 0}),0);e.apply(null,arguments)}function Q(){function e(e,t,r,o){function i(){var t={};t[a]=u,e.animate(t,o),setTimeout(function(){var t={};t[a]=r+"px",e.animate(t,o)},1e3),s.stopAnimation()||setTimeout(i,4e3)}var a=n()?"right":"top";e.css(a,r+"px");var u=1.3*parseFloat(t)+"px";i()}function n(){return"hoz"==u}function r(e){return l[e]||f[e]}function o(e){return"background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjkxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background: -moz-linear-gradient(left,  rgba(255,255,255,0) 0%, rgba(255,255,255,"+e+") 50%, rgba(255,255,255,0) 100%);background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(255,255,255,0)), color-stop(50%,rgba(255,255,255,"+e+")), color-stop(100%,rgba(255,255,255,0)));background: -webkit-linear-gradient(left,  rgba(255,255,255,0) 0%,rgba(255,255,255,"+e+") 50%,rgba(255,255,255,0) 100%);background: -o-linear-gradient(left,  rgba(255,255,255,0) 0%,rgba(255,255,255,"+e+") 50%,rgba(255,255,255,0) 100%);background: -ms-linear-gradient(left,  rgba(255,255,255,0) 0%,rgba(255,255,255,"+e+") 50%,rgba(255,255,255,0) 100%);background: linear-gradient(to right,  rgba(255,255,255,0) 0%,rgba(255,255,255,"+e+") 50%,rgba(255,255,255,0) 100%);"}function i(e){return"transform: rotate("+e+"deg); -moz-transform:rotate("+e+"deg); -webkit-transform:rotate("+e+"deg); -o-transform:rotate("+e+"deg);  -ms-transform:rotate("+e+"deg);"}function a(e){d.Extends(F,e),s=d._base,l=s.settings(),u=l.dir,c=s.player()}{var s,u,l,c,d=new t(this),f={animationDuration:700};d.Override("isSupportedByBrowser",function(){return!s.commonUtils().isIeAndBelowVersion(9)}),d.Override("createInnerHtml",function(){var e,t;n()?(e=l.width+"px",t="130%"):(t=l.width+"px",e="130%");var r=l.opacity,a=l.deg;return"<div class='wm-ag-swoosh' style='width: "+e+"; height:"+t+"; position: absolute; top:-6px; right: -6px; background-color: transparent !important; "+i(a)+o(r)+"'/>"}),d.Override("postDrawing",function(){var t=l.right,o=s.attengrab();o.detach().appendTo(c);var i=n()?"width":"height",a=c.css(i);o.css({position:"absolute",overflow:"hidden",width:"100%",height:"100%","z-index":c.css("z-index"),right:"0",bootom:"auto",top:"0"}).important("background","none"),o.show();var u=s.innerHtml(),d=r("animationDuration");e(u,a,t,d)})}a.apply(null,arguments)}function W(){function e(){}function t(e){var t=e&&18==e.code,n=e&&e.message&&e.message.indexOf("denied")>=0;return t||n}function n(e,t){window.detachEvent?window.detachEvent("on"+e,t):window.removeEventListener&&window.removeEventListener(e,t,!1)}function r(e,t){if(e==t)return{frameIndex:0};for(var n=0,o=0;o<e.frames.length;o++){n++;var i=e.frames[o],a=r(i,t);if(void 0!==a.frameIndex)return a.frameIndex+=n,a;n+=a.totalFrames}return{totalFrames:n}}this.LocalSVNRevision="$Rev: 4089 $";var o=this;o.isNumber=function(e){return!isNaN(e)},o.formatString=function(){return l.apply(null,arguments)},o.sendMenuEvent=function(e,t,n){try{var r={Type:e};t&&(r.WalkthruId=t),n&&window.mtjQuery.extend(r,n),walkme_player_event(r)}catch(o){}},o.isIe7or8=function(){return this.isIeAndBelowVersion(8)},o.isIeAndBelowVersion=function(e){return window.wmjQuery.browser.msie&&o.isBelowIeVersion(e)},o.isBelowIeVersion=function(e){return document.documentMode<=e||window.wmjQuery.browser.version<=e},o.getSettingsValue=function(e,t,n){return ja(e,t,n)},o.libSetTimeout=function(e,t){return Ui(e,t)},o.elementLastKeeper=new Nt,o.attentionGrabberFactory=O,o.attentionGrabberClass=G,o.isValidMailTo=function(e){return e&&0==e.indexOf("mailto:")},o.isValidUrl=function(e){return e&&0!=e.indexOf("http")&&0!=e.indexOf("/")?!1:!0},o.setDefault=function(e,t,n){void 0===e[t]&&(e[t]=n)},o.filter=function(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},o.isUiObjectActivatable=function(e){return"category"!=e.type()&&"tab"!=e.type()},o.isTrue=function(e,t,n){var r=ja(e,t,n);return o.isValueTrue(r)},o.isValueTrue=function(e){return e&&(1==e||"True"==e||"1"==e)},o.isLike=function(e,t){t=t.replace(/[-[\]{}()+?,\\^$|#\s]/g,"\\$&"),t=t.replace(new RegExp("[.]","g"),"\\."),t=t.replace(new RegExp("[*]","g"),".*"),e=e.toString().toLowerCase(),t=t.toLowerCase();try{return e.match(t)[0]==e}catch(n){return!1}},o.addTabIndex=function(e,t){mc("accessibility")&&(t=br(t,0),e.attr("tabIndex",t),e.keyup(function(t){13!=t.keyCode||t.shiftKey||e.click(),t.stopPropagation()}))},o.isGradientUsingFilter=function(e){var t=wmjQuery("<div style='"+e+"' />"),n=-1==t.css("background-image").indexOf("gradient");return n},o.handleCrossDomainError=function(e){if(!t(e))throw e},o.encloseCall=function(e){var t=function(){var t=arguments;return function(){return e.apply(null,t)}},n=_o(arguments,0),r=t.apply(null,n);return r},o.registerEventHandler=function(e,t){return window.attachEvent?window.attachEvent("on"+e,t):window.addEventListener&&window.addEventListener(e,t,!1),function(){n(e,t)}},o.postMessageToAllFramesChain=function(e,t){var n=0;if(e)try{e.postMessage(t,"*"),n++,e!=e.parent&&(n+=o.postMessageToAllFramesChain(e.parent,t))}catch(r){ea("Error in postMessage to frames chain "+r,4)}return n},o.postMessageDescendantFrames=function(e,t){function n(e,t){for(var o=e.frames,i=0;i<o.length;i++){var a=o[i];r(a,t),n(a,t)}}function r(e,t){try{e!=window&&e.postMessage(t,"*")}catch(n){}}n(e,t)},o.getFrameIndex=function(e){var t=r(top,e||window).frameIndex;return t},o.doForFramesChain=function(e,t){if(e){try{t(e)}catch(n){}e!=e.parent&&o.doForFramesChain(e.parent,t)}},o.addScript=function(e,t,n){if(e){var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.async=!0,o.src=e,o.id="mt_script",t&&(o.onload=t,o.onreadystatechange=t),n&&(o.onerror=n),r.appendChild(o)}},o.checkElementText=function(e){return e.is("input")||e.is("textarea")?e.val():e.is("select")?e.find("option:selected").text():e.text()},e.apply(null,arguments)}function U(){function e(e){i=e}this.LocalSVNRevision="$Rev: 3582 $";var t,n="walkme-ie-",r="walkme-ie-bm-",o=this,i=null,a=!1;o.canDisplayOverlay=function s(){var s=!(i.isQuirksMode()||i.shouldHandlePageAsFramesets());return s},this.removeOverlay=function(e){t&&t.exist()&&(e?t.fadeOut(DUR,function(){wmjQuery(this).remove()}):t.remove(),t=null)},o.displayOverlay=function(e,n,r){void 0==r&&(r="walkme-popup-background");var i=_a();return i.append(l('<div id="{0}" class="mt-to-destroy"></div>',r)),t=mtjQuery("#"+r,i),t.css({opacity:"0.7",display:"none",position:"fixed",height:"100%",width:"100%",top:"0",left:"0",background:"#000000","z-index":e-1}),o.addBrowserSpecificClasses(t),n?t.fadeIn("slow"):t.css("display",""),t},o.getStyle=function(e,t){try{return t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle}catch(n){return null}},o.getAnimationDimentionSize=function(e,t){var n;return n="top"==t||"bottom"==t?"height":"width",e.css(n)},o.addBrowserSpecificClasses=function(e){if(window.mtjQuery.browser.msie){var t=document.documentMode||Number(wmjQuery.browser.version),o=window.mtjQuery.browser.version.slice(0,window.mtjQuery.browser.version.indexOf(".")),i=n+t,a=r+o;e.addClass(i),e.addClass(a)}},o.addWalkmeClasses=function(e){e.addClass("walkme-to-destroy");var t="walkme-override walkme-css-reset";e.addClass(t);var n=e.find("*");n.addClass(t)},o.setLangAttribute=function(e){var t=i.getCurrentLanguage();t&&e.attr("lang",t)},o.bindFocusAndBlur=function(e,t){e.focus(function(){e.val()==t&&e.val("")}),e.blur(function(){""==e.val()&&e.val(t)})},o.fixFlash=function(){function e(){n().append("<param name='wmode' value='transparent'>").wrap("<div></div>").unwrap(),mtjQuery("embed[wmode!='opaque'][wmode!='transparent']").attr("wmode","transparent").wrap("<div></div>").unwrap()}function t(){var e=n();mtjQuery("param[name='wmode']",e).remove(),e.append("<param name='wmode' value='transparent'>");var t=mtjQuery("embed[wmode!='opaque'][wmode!='transparent']");t.attr("wmode","transparent"),r(t),r(e)}function n(){return mtjQuery("object:has('param[name='wmode'][value!='transparent'][value!='opaque']')")}function r(e){for(var t=0;t<e.length;t++){var n=e[t].parentNode,r=e[t].outerHTML;e[t].insertAdjacentHTML("beforeBegin",r),n.removeChild(e[t])}}if(!a&&mc("flashTransparent")){var o=i.getBrowser();-1!=o.indexOf("Firefox")?e():-1!=o.indexOf("IE")&&t(),a=!0}},o.hexToRgba=function(e,t){var n=e.replace("#",""),r=parseInt(n,16),o=r>>16&255,i=r>>8&255,a=255&r;return"("+o+","+i+","+a+","+t+")"},e.apply(null,arguments)}function V(){function e(e){d(e.lib),f(e.balloonData.title),p(e.balloonData.content),g(e.balloonData.customHtml),m(e.balloonData.stepIndexText),h(e.balloonSettings),v(e.balloonSettings.direction),w(e.userGuid),y(e.stepType),s=e.settings,u=e.end
}function n(e,t){var n={};if(n.nextButton=n.doneButton=n.backButton=n.submitButton=!1,n.buttonsArr=[],e)for(var i=ja(s,"popupStepButtons",[]),a=0;a<i.length;a++){var u=i[a];if(0==u.action){var l=r(!1,t.next,t.done,!1);n.nextButton=l.nextButton,n.doneButton=l.doneButton,l.buttonsArr.length>0&&n.buttonsArr.push(l.buttonsArr[0])}else if(2==u.action){var c=r(t.back,!1,!1,!1);n.backButton=c.backButton,c.buttonsArr.length>0&&n.buttonsArr.push(c.buttonsArr[0])}else n.buttonsArr.push(o(u))}else n=r(t.back,t.next,t.done,t.submit);return n}function r(e,t,n,r){var o={},i=Pu.get();return o.backButton=o.nextButton=o.doneButton=o.submitButton=!1,o.buttonsArr=[],e&&(o.backButton={order:2,weak:!0,classes:T("back","weak"),buttonText:i.BackButtonText},o.buttonsArr.push(o.backButton)),t&&(o.nextButton={order:3,normal:!0,classes:T("next","normal"),buttonText:i.NextButtonText},a()&&(o.nextButton.buttonText=i.DoneButtonText),o.buttonsArr.push(o.nextButton)),n&&(o.doneButton={order:3,normal:!0,classes:T("done","normal"),buttonText:i.DoneButtonText},o.buttonsArr.push(o.doneButton)),r&&(o.submitButton={order:4,normal:!0,classes:T("submit","normal"),buttonText:i.SubmitButtonText},o.buttonsArr.push(o.submitButton)),o}function o(e){var t=e.action||-1,n=e.name||"",r=Pu.get();switch(parseInt(t)){case 1:return{order:4,normal:!0,classes:i("start","normal"),buttonText:r.WelcomeStepButtonStartText};case 3:return{order:1,weak:!0,classes:i("cancel","weak"),buttonText:r.WelcomeStepButtonCancelText};case 4:return{order:4,normal:!0,classes:T("submit","normal"),buttonText:r.SubmitButtonText};case 5:return{order:4,normal:!0,classes:i("redirect","normal"),buttonText:e.name};case 6:return{order:2,weak:!0,classes:i("stay","weak"),buttonText:e.name};case 7:return{order:4,normal:!0,classes:i("ok","normal"),buttonText:e.name}}return{order:2,normal:!0,classes:"walkme-custom-balloon-button walkme-custom-balloon-normal-button",buttonText:n}}function i(e,t){return"walkme-custom-balloon-button walkme-custom-balloon-"+t+"-button walkme-custom-balloon-"+e+"-button walkme-action-"+e}function a(){var e=ja(s,"isNextToDone","0");return"1"==e}this.LocalSVNRevision="$Rev: 4006 $";{var s,u,l=new t(this),c="display: block; padding: 0; margin: 0;	vertical-align: baseline; border-collapse: inherit; background: none; border-spacing: 1px 1px; line-height: normal; border: none none; height: auto; text-indent: inherit; letter-spacing: normal; text-transform: none; outline: invert none medium; width: auto; box-shadow:none; text-shadow:none; border-top: none; border-right: none; border-bottom: none; border-left: none; position: static; top: auto; left: auto; transition: none;",d=l.Prop.Protected("lib"),f=l.Prop.Protected("title"),p=l.Prop.Protected("content"),g=l.Prop.Protected("customHtml"),m=l.Prop.Protected("stepIndexText"),h=l.Prop.Protected("balloonSettings"),v=l.Prop.Protected("direction"),w=l.Prop.Protected("userGuid"),y=(l.Prop.Protected("contentDiv"),l.Prop.Protected("fixedWidth"),l.Prop.Protected("fixedHeight"),l.Prop.Protected("stepType")),b=l.Prop.Protected("buttons"),k=(l.Virtual.Public("generateHtml",function(){var e=k(),t=S(),n=bs.to_html(e,t);return n}),l.Virtual.Protected("createHtmlTemplate")),S=l.Virtual.Protected("createTemplateData",function(){var e=1==ja(s,"displayX",!0)||"True"==ja(s,"displayX","True")||1==ja(s,"displayX",1),t={data:{title:f(),content:p(),customHtml:g(),stepIndexText:m()},font:h().Font,cssReset:c,displayX:e,colors:{mainBg:h().Color,minorBg:h().BalloonColor2,border:h().BorderColor,header:h().HeaderColor,content:h().ContentColor,footerText:h().FooterTextColor,buttonBg:h().ButtonBgColor,buttonBg2:h().ButtonBgColor2,buttonBorder:h().ButtonBorderColor,buttonText:h().ButtonTextColor},radiuses:{balloon:h().BalloonRadius+"px",button:h().BalloonButtonRadius+"px"},direction:{basic:v(),side:"rtl"==v()?"right":"left",oppositeSide:"rtl"==v()?"left":"right"},poweredBy:{showText:"txt"==h().showPoweredByFormat,link:h().showPoweredBy?"http://www.walkme.com/?u="+w():""},buttons:b().buttonsArr,border:{size:h().BalloonBorderWidth+"px"}};return t}),T=(l.Virtual.Public("manipulationsForInlineCss",function(){}),l.Protected("getCustomDivHtml",function(e){return"<div class='walkme-custom-balloon-custom-div-"+e+"' style='display:none;' ></div>"}),l.Virtual.Protected("generateNormalButtonClasses",function(e,t){return i(e,t)}));l.Public("initButtons",function(e){var t={back:e.backButton,next:e.nextButton,done:e.doneButton,submit:e.submitButton};b(n(y()==vs.Popup,t))})}e.apply(null,arguments)}function H(){function e(e){a.Extends(V,e),o=a._base,i=e.balloonSettings}function n(e,t,n){return t="direction:"+t+";",r(e,t,n)}function r(e,t,n){if(e.indexOf(hu)>-1&&e.indexOf(vu)>-1&&e.indexOf(wu)>-1&&e.indexOf(yu)>-1){n="float:"+n+";";var r="<span style='"+n+"'>&nbsp;</span>";e="<div class='walkme-custom-balloon-current-step-text' style='"+t+n+"'>"+e,e=e.replace(hu,"</div>"+r+"<div class='walkme-custom-balloon-current-step-number' style='"+n+"'>"),e=e.replace(vu,"</div>"+r+"<div class='walkme-custom-balloon-total-steps-text' style='"+t+n+"'>"),e=e.replace(wu,"</div>"+r+"<div class='walkme-custom-balloon-total-steps-number' style='"+n+"'>"),e=e.replace(yu,"</div>"),e+="<div style='clear:both;'></div>"}return e}this.LocalSVNRevision="$Rev: 3380 $";{var o,i,a=new t(this);a.Override("generateHtml",function(){return o.customHtml()&&o.customHtml().inner||o.generateHtml()}),a.Override("generateNormalButtonClasses",function(e,t){return o.generateNormalButtonClasses(e,t)+" mt-custom-balloon-"+e+"-button CUSTOM-STEP-ID"}),a.Override("createTemplateData",function(){var e=o.createTemplateData();e.outerDiv=o.getCustomDivHtml("outer-div"),e.title=o.getCustomDivHtml("title"),e.content=o.getCustomDivHtml("content"),e.poweredBy.showImage="img"==o.balloonSettings().showPoweredByFormat,e.buttonShadowWidth=o.balloonSettings().ButtonShadowWidth,e.serverName=Ou;var t="rtl"==o.direction()?"right":"left";e.data.stepIndexText=n(o.stepIndexText(),o.direction(),t),e.ie7LayoutFix="overflow: auto;zoom: 1;",e.buttonsExist=o.buttons().buttonsArr.length>0,e.showBottomDiv=!("no"==o.balloonSettings().showPoweredByFormat&&0==o.stepIndexText().length),di(i,"ButtonBgColor"),di(i,"ButtonBgColor2");var r=i.ButtonBgColor,a=i.ButtonBgColor2;return r==a?e.BackgroundCSS=" background-color: "+r+"; ":(e.BackgroundCSS="background:-moz-linear-gradient(top, "+r+" , "+a+" ); background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+r+"), color-stop(100%,"+a+")); background:-webkit-linear-gradient(top, "+r+" 0%,"+a+" 100%); background:-o-linear-gradient(top, "+r+" 0%,"+a+" 100%); background:-ms-linear-gradient(top, "+r+" 0%,"+a+" 100%); background:linear-gradient(to bottom, "+r+" 0%,"+a+' 100%); filter:progid:DXImageTransform.Microsoft.gradient( startColorstr="'+r+'", endColorstr="'+a+'",GradientType=0 ); ',Ha()||(e.radiuses.button="0"),W.isGradientUsingFilter(e.BackgroundCSS)&&(e.BackgroundCSS+="background: url("+Ou+"/player/resources/images/spacer.gif) repeat;")),e}),a.Override("createHtmlTemplate",function(){var e=function(e,t,n){var r=this;return r.b(n=n||""),r.b(r.t(r.f("outerDiv",e,t,0))),r.b("<div class='walkme-custom-balloon-top-div mt-custom-balloon-top-div CUSTOM-STEP-ID' style='text-align: "),r.b(r.v(r.d("direction.side",e,t,0))),r.b(";padding-top:5px; padding-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(": 3px; padding-bottom: 1px; padding-"),r.b(r.v(r.d("direction.side",e,t,0))),r.b(": 7px;margin:3px 3px 0 3px;direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b(";'><div class='walkme-custom-balloon-content-wrapper' style='min-height: "),r.s(r.f("buttonsExist",e,t,1),e,t,0,388,390,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("30")}),e.pop()),r.s(r.f("buttonsExist",e,t,1),e,t,1,0,0,"")||r.b("0"),r.b("px;'>"),r.s(r.f("displayX",e,t,1),e,t,0,460,804,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-close-button walkme-action-close mt-custom-balloon-close-button CUSTOM-STEP-ID walkme-action-close' style='opacity:0.7; font-size: 16px; position: absolute; top: 2px; "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 8px; cursor: pointer;color:"),n.b(n.v(n.d("colors.content",e,t,0))),n.b(";font-weight:normal;font-family:;' title='Stop Walk-thru'>&#215;</div>")}),e.pop()),r.b("<div class='walkme-custom-balloon-title mt-custom-balloon-title CUSTOM-STEP-ID' style='text-align: "),r.b(r.v(r.d("direction.side",e,t,0))),r.b(";font-weight:bold;margin-top:2px;margin-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(":14px;font-size:15px;color:"),r.b(r.v(r.d("colors.header",e,t,0))),r.b(";font-family:"),r.b(r.t(r.f("font",e,t,0))),r.b(";'>"),r.b(r.t(r.f("title",e,t,0))),r.b(r.t(r.d("data.title",e,t,0))),r.b("</div>"),r.s(r.d("data.content",e,t,1),e,t,0,1120,1415,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-content mt-custom-balloon-content CUSTOM-STEP-ID' style='text-align: "),n.b(n.v(n.d("direction.side",e,t,0))),n.b(";margin-top: 4px; margin-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 6px; font-family:"),n.b(n.v(n.f("font",e,t,0))),n.b(";font-size:14px;color:"),n.b(n.v(n.d("colors.content",e,t,0))),n.b(";"),n.b(n.v(n.f("ie7LayoutFix",e,t,0))),n.b("'>"),n.b(n.t(n.f("content",e,t,0))),n.b(n.t(n.d("data.content",e,t,0))),n.b("</div>")}),e.pop()),r.b("</div><div class='walkme-custom-balloon-top-div-bottom mt-custom-balloon-top-div-bottom CUSTOM-STEP-ID' style='clear: both;'>"),r.s(r.f("buttonsExist",e,t,1),e,t,1,0,0,"")||r.b("<div class='walkme-custom-balloon-no-buttons-div' style='height: 10px'></div>"),r.s(r.f("buttonsExist",e,t,1),e,t,0,1685,2688,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-buttons-div mt-custom-balloon-buttons-div CUSTOM-STEP-ID' style='clear:both;padding:5px;text-align:"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(";direction:"),n.b(n.v(n.d("direction.basic",e,t,0))),n.b("'>"),n.s(n.f("buttons",e,t,1),e,t,0,1888,2670,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<button class='"),n.b(n.v(n.f("classes",e,t,0))),n.b("' type='button' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(";-moz-border-radius:"),n.b(n.v(n.d("radiuses.button",e,t,0))),n.b("; -webkit-border-radius:"),n.b(n.v(n.d("radiuses.button",e,t,0))),n.b("; border-radius:"),n.b(n.v(n.d("radiuses.button",e,t,0))),n.b("; direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b(";"),n.b(n.v(n.f("BackgroundCSS",e,t,0))),n.b("-moz-box-shadow: 0 0 "),n.b(n.v(n.f("buttonShadowWidth",e,t,0))),n.b("px rgba(0, 0, 0, 0.4); -webkit-box-shadow: 0 0 "),n.b(n.v(n.f("buttonShadowWidth",e,t,0))),n.b("px rgba(0, 0, 0, 0.4); box-shadow: 0 0 "),n.b(n.v(n.f("buttonShadowWidth",e,t,0))),n.b("px rgba(0, 0, 0, 0.4); border: 1px solid "),n.b(n.v(n.d("colors.buttonBorder",e,t,0))),n.b("; color: "),n.b(n.v(n.d("colors.buttonText",e,t,0))),n.b("; cursor: pointer; display: inline-block; float: none; font-size: 14px; font-weight: normal; font-family: Arial; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 6px; padding: 2px 14px; text-align: center; text-decoration: none; position: static; overflow: visible;' "),n.b(n.v(n.f("wtIdAttribute",e,t,0))),n.b(">"),n.b(n.t(n.f("buttonText",e,t,0))),n.b("</button>")}),e.pop()),n.b("</div>")}),e.pop()),r.b("</div></div>"),r.s(r.f("showBottomDiv",e,t,1),e,t,0,2735,4315,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-separator' style='display: block; margin: 0 10px; height: 1px; opacity: 0.2; filter: alpha(opacity=20); background-color: "),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; line-height: 0px;'>&#160;</div><div class='walkme-custom-balloon-bottom-div' style='position: relative; height: 23px; display: block;'><div class='walkme-custom-balloon-subtext mt-custom-balloon-subtext CUSTOM-STEP-ID' style='text-align: "),n.b(n.v(n.d("direction.side",e,t,0))),n.b("; position: absolute; "),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 10px; display:inline-block;font-family: "),n.b(n.t(n.f("font",e,t,0))),n.b(";font-size:10px;margin-top:3px;margin-bottom:0px;color: "),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("'>"),n.b(n.t(n.d("data.stepIndexText",e,t,0))),n.b("</div><div class='walkme-custom-balloon-powered-by-div mt-custom-balloon-powered-by-div CUSTOM-STEP-ID' style='display:inline-block;position: absolute; "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 10px; top: 3px;text-decoration:none;font-family:"),n.b(n.t(n.f("font",e,t,0))),n.b(";font-size:10px;opacity: 0.9; width:100px; color:"),n.b(n.v(n.d("color.content",e,t,0))),n.b(";text-align: "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(" '>"),n.s(n.d("poweredBy.link",e,t,1),e,t,0,3730,3979,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<a class='walkme-custom-balloon-powered-by-link mt-custom-balloon-powered-by-link CUSTOM-STEP-ID' href='"),n.b(n.v(n.d("poweredBy.link",e,t,0))),n.b("' target='_blank' style='text-decoration:none;font-family:"),n.b(n.t(n.f("font",e,t,0))),n.b(";font-size:10px;opacity: 0.9; color:"),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("'>")}),e.pop()),n.s(n.d("poweredBy.showText",e,t,1),e,t,0,4021,4034,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("By WalkMe.com")}),e.pop()),n.s(n.d("poweredBy.showImage",e,t,1),e,t,0,4081,4237,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<div title='WalkMe.com' style='border: none; background-image: url("),n.b(n.v(n.f("serverName",e,t,0))),n.b("/player/resources/images/by-walkme.png); width: 49px; height: 18px;'></div>")}),e.pop()),n.s(n.d("poweredBy.link",e,t,1),e,t,0,4280,4284,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("</a>")}),e.pop()),n.b("</div></div>")}),e.pop()),r.fl()};return e})}e.apply(null,arguments)}function z(){function e(e){a.Extends(V,e),i=a._base}function n(){i.buttons().buttonsArr.sort(function(e,t){return e.order-t.order})}function r(e){var t=function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("buttons",e,t,1),e,t,0,12,906,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<button class='"),n.b(n.v(n.f("classes",e,t,0))),n.b(" walkme-click-and-hover' type='button' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" zoom: 1; border: none; margin-top: 6px; margin-bottom: 6px; height: 21px; font-family: inherit; cursor: pointer; display: inline-block; direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b(";"),n.s(n.f("normal",e,t,1),e,t,0,277,513,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("text-align:center; background-color: "),n.b(n.v(n.d("colors.buttonBg",e,t,0))),n.b("; color: "),n.b(n.v(n.d("colors.buttonText",e,t,0))),n.b("; border-radius:"),n.b(n.v(n.d("radiuses.button",e,t,0))),n.b("; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 7px; "),n.s(n.f("isNotIe7",e,t,1),e,t,0,445,461,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("min-width: 42px;")}),e.pop()),n.b(" padding-left: 5px; padding-right: 5px;")}),e.pop()),n.s(n.f("weak",e,t,1),e,t,0,533,690,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("text-align:"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b("; background:none; color: "),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": 3px; margin-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 2px;")}),e.pop()),n.b("'><span class='walkme-custom-balloon-button-text' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b("; text-align:center; font-size: 10px; position:relative; color:inherit;'>"),n.b(n.t(n.f("buttonText",e,t,0))),n.b("</span></button>")}),e.pop()),r.s(r.f("buttons",e,t,1),e,t,1,0,0,"")||(r.b("<div class='walkme-custom-balloon-no-buttons-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b("'></div>"),r.s(r.d("poweredBy.link",e,t,1),e,t,0,1028,1546,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.d("poweredBy.showText",e,t,1),e,t,0,1051,1523,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-powered-by-div' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" cursor: pointer; margin-top:6px; margin-bottom:6px; color:"),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; font-size:9px; display: inline-block; text-align: "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b("'><a draggable='false' class='walkme-custom-powered-by walkme-click-and-hover' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" text-decoration:none; font-size: inherit; color:"),n.b(n.v(n.d("colors.footerText",e,t,0))),n.b("; display: inline;' href='"),n.b(n.v(n.d("poweredBy.link",e,t,0))),n.b("' target='_blank'>By WalkMe</a></div>")}),e.pop())}),e.pop())),r.fl()},n=bs.to_html(t,e);return n}function o(e,t,n){if(e==u.Shadow)switch(t){case 0:return"1px 1px 3px 0px rgba(0, 0, 0, 0.2)";case 1:return"0px 0px 13px 0px rgba(0, 0, 0, 0.2)";case 2:return"0px 0px 13px 5px rgba(0, 0, 0, 0.2)"}else if(e==u.Glow){var r=i.lib().getUiUtils().hexToRgba(n,.6);switch(t){case 0:return"0px 0px 7px 0px rgba"+r;case 1:return"0px 0px 14px 0px rgba"+r;case 2:return"0px 0px 26px 5px rgba"+r}}}this.LocalSVNRevision="$Rev: 3380 $";{var i,a=new t(this),s=8,u={None:0,Shadow:1,Glow:2},l=a.Prop.Public("contentMargin",15);a.Override("manipulationsForInlineCss",function(e){if(!i.lib().getCommonUtils().isIe7or8()){var t=i.balloonSettings(),n=new J;n.addClickAndHover({regularColor:t.ButtonBgColor,hoverColor:t.ButtonBgHoverColor,clickColor:t.ButtonBgClickColor,cssProperty:"background-color",elemSelector:".walkme-custom-balloon-normal-button",balloonDiv:e}),n.addClickAndHover({regularColor:t.FooterTextColor,hoverColor:t.FooterTextHoverColor,clickColor:t.FooterTextClickColor,cssProperty:"color",elemSelector:".walkme-custom-powered-by",balloonDiv:e}),n.addClickAndHover({regularColor:t.XButtonColor,hoverColor:t.XButtonHoverColor,clickColor:t.XButtonClickColor,cssProperty:"color",elemSelector:".walkme-custom-balloon-close-button",balloonDiv:e}),n.addClickAndHover({regularColor:t.FooterTextColor,hoverColor:t.FooterTextHoverColor,clickColor:t.FooterTextClickColor,cssProperty:"color",elemSelector:".walkme-custom-balloon-weak-button",balloonDiv:e})}}),a.Override("createTemplateData",function(){var e=i.createTemplateData();e.outerDiv=i.getCustomDivHtml("inner-div"),e.title=i.getCustomDivHtml("title"),e.colors.xBtn=i.balloonSettings().XButtonColor,e.colors.stepInfo=i.balloonSettings().StepInfoColor,e.colors.separator=i.balloonSettings().SeparatorColor,e.stepIndexHeight=46,e.top={minHeight:57,textAlign:e.direction.side,title:{paddingTop:12},content:{sideMargin:l(),oppositeSideMargin:l()-2}},e.data.title&&!e.data.content&&(e.top.minHeight=43),e.bottom={},e.bottom.stepIndexMarginTop=10,nd(e.buttons)&&0!=e.buttons.length||(e.stepIndexHeight-=s,e.bottom.stepIndexMarginTop-=s/2),e.stepIndexHeight+="px",e.bottom.poweredByHeight+="px",e.xBtn={marginTop:i.balloonSettings().BalloonBorderWidth+"px",marginHorizental:parseInt(i.balloonSettings().BalloonBorderWidth)+4+"px"};var t=i.balloonSettings().BalloonBorderWidth-4;return 0>t&&(t=0),e.border.side={size:t+"px"},e.shadow=o(i.balloonSettings().ShadowType,i.balloonSettings().ShadowLevel,i.balloonSettings().ShadowColor),e.isNotIe7="IE 7"!=la(),n(),e.buttonsHtml=r(e),e}),a.Override("createHtmlTemplate",function(){var e=function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='walkme-custom-balloon-outer-div walkme-custom-balloon-v3' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" width: auto; min-width: 190px; position: absolute; direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b(";'><div class='walkme-custom-balloon-mid-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; position: relative; "),r.s(r.f("shadow",e,t,1),e,t,0,304,388,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("-webkit-box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b("; -moz-box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b("; box-shadow: "),n.b(n.v(n.f("shadow",e,t,0))),n.b(";")}),e.pop()),r.b(" font-family: "),r.b(r.t(r.f("font",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b("; overflow: hidden;'><div class='walkme-custom-balloon-inner-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",e,t,0))),r.b("; border:"),r.b(r.v(r.d("border.size",e,t,0))),r.b(" solid "),r.b(r.v(r.d("colors.border",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b("; border-"),r.b(r.v(r.d("position.side",e,t,0))),r.b(": none; overflow: hidden;'>"),r.s(r.d("data.customHtml.inner",e,t,1),e,t,0,776,803,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("data.customHtml.inner",e,t,0)))}),e.pop()),r.s(r.d("data.customHtml.inner",e,t,1),e,t,1,0,0,"")||(r.b(r.t(r.f("outerDiv",e,t,0))),r.b("<div class='walkme-custom-balloon-top-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",e,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",e,t,0))),r.b(";'><div class='walkme-custom-balloon-content-wrapper' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; min-height: "),r.b(r.v(r.d("top.minHeight",e,t,0))),r.b("px;'>"),r.s(r.f("displayX",e,t,1),e,t,0,1191,1575,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-click-and-hover walkme-custom-balloon-close-button walkme-action-close' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" font-size: 12px; color: "),n.b(n.v(n.d("colors.xBtn",e,t,0))),n.b("; position: absolute; "),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": 0px; top: 0px; padding-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": "),n.b(n.v(n.d("xBtn.marginHorizental",e,t,0))),n.b("; margin-top: "),n.b(n.v(n.d("xBtn.marginTop",e,t,0))),n.b("; cursor: pointer;font-weight:normal;' title='Stop Walk-thru'>&#215;</div>")}),e.pop()),r.b("<div class='walkme-custom-balloon-title' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; padding-top:"),r.b(r.v(r.d("top.title.paddingTop",e,t,0))),r.b("px; padding-"),r.b(r.v(r.d("direction.side",e,t,0))),r.b(": 15px; padding-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(": 13px; text-align: "),r.b(r.v(r.d("top.textAlign",e,t,0))),r.b("; font-size:14px; color:"),r.b(r.v(r.d("colors.header",e,t,0))),r.b(";'>"),r.b(r.t(r.d("data.title",e,t,0))),r.b(r.t(r.f("title",e,t,0))),r.b("</div>"),r.s(r.d("data.content",e,t,1),e,t,0,1922,2306,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<div class='walkme-custom-balloon-content' style='"),n.b(n.t(n.f("cssReset",e,t,0))),n.b(" direction: "),n.b(n.v(n.d("direction.basic",e,t,0))),n.b("; text-align: "),n.b(n.v(n.d("top.textAlign",e,t,0))),n.b("; margin-top: 2px; margin-"),n.b(n.v(n.d("direction.side",e,t,0))),n.b(": "),n.b(n.v(n.d("top.content.sideMargin",e,t,0))),n.b("px; margin-"),n.b(n.v(n.d("direction.oppositeSide",e,t,0))),n.b(": "),n.b(n.v(n.d("top.content.oppositeSideMargin",e,t,0))),n.b("px; line-height: 18px; font-size:12px; color:"),n.b(n.v(n.d("colors.content",e,t,0))),n.b(";overflow: auto;zoom: 1;'>"),n.b(n.t(n.d("data.content",e,t,0))),n.b("</div>")}),e.pop()),r.b("</div></div><div class='walkme-custom-balloon-separator' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" background-color:"),r.b(r.v(r.d("colors.separator",e,t,0))),r.b(";  height:1px; margin-top:10px;  font-family: Arial; font-size: 1px;'></div><div class='walkme-custom-balloon-bottom-div' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" background-color:"),r.b(r.v(r.d("colors.minorBg",e,t,0))),r.b(";'><div class='walkme-custom-balloon-subtext' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" color: "),r.b(r.v(r.d("colors.stepInfo",e,t,0))),r.b("; font-size: 9px; margin-top: "),r.b(r.v(r.d("bottom.stepIndexMarginTop",e,t,0))),r.b("px; margin-"),r.b(r.v(r.d("direction.side",e,t,0))),r.b(": 10px; float: "),r.b(r.v(r.d("direction.side",e,t,0))),r.b(";'>"),r.b(r.v(r.d("data.stepIndexText",e,t,0))),r.b("</div><div class='walkme-custom-balloon-top-div-bottom' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" text-align: "),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b("; direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b(";'><div class='walkme-custom-balloon-buttons-wrapper' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" text-align: "),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b("; direction: "),r.b(r.v(r.d("direction.basic",e,t,0))),r.b("; margin-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(": 6px;'>"),r.b(r.t(r.f("buttonsHtml",e,t,0))),r.b("</div></div><div class='walkme-custom-balloon-bottom-clear' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" clear: both'></div></div>")),r.b("</div><div class='walkme-custom-side-border' style='"),r.b(r.t(r.f("cssReset",e,t,0))),r.b(" background-color:"),r.b(r.v(r.d("colors.buttonBg",e,t,0))),r.b("; width: 4px; height: 100%;  top:0px; "),r.b(r.v(r.d("direction.side",e,t,0))),r.b(":0px; border:"),r.b(r.v(r.d("border.side.size",e,t,0))),r.b(" solid "),r.b(r.v(r.d("colors.buttonBg",e,t,0))),r.b("; border-"),r.b(r.v(r.d("direction.oppositeSide",e,t,0))),r.b(": none; border-top: none; border-bottom: none; position: absolute;'></div></div>"),r.s(r.d("data.customHtml.outter",e,t,1),e,t,0,3705,3733,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("data.customHtml.outter",e,t,0)))}),e.pop()),r.b("</div>"),r.fl()};return e})}e.apply(null,arguments)}function $(){function e(e){l(e.lib),p(e.resourceManager),g(e.logger),h(400),y(!0),N(e.balloonSettings)}function n(e){var t=mtjQuery(".walkme-custom-balloon-title",e).text(),n=0,r=0,o=0,i=mtjQuery(".walkme-custom-balloon-content",e);if(i.length>0){for(var a=i.html().replace(/<br*">/g,"< >").split("< >"),s=0;s<a.length;s++){var u=a[s].replace(/(<([^>]+)>)/gi,"").length;u>o&&(o=u)}var l=mtjQuery(".walkme-custom-balloon-content span",e);r=parseInt(l.length>0?l.css("font-size").replace(/px/,""):i.css("font-size").replace(/px/,""))}var c=mtjQuery(".walkme-custom-balloon-title span",e);n=parseInt(c.length>0?c.css("font-size").replace(/px/,""):mtjQuery(".walkme-custom-balloon-title",e).css("font-size").replace(/px/,""));var d=0;d=t.length*n>o*r?t.length*n:o*r;var f=parseFloat(ja(Pu.get().Settings,"quirksModeFactor",.5));return d*=f}function r(e,t){var n=.5;return e==su.Start?n=1:e==su.End&&(n=0),(2==t||3==t)&&(n=1-n),n}function o(e,t,n,o,i,a){var s=new Ea(i,a);s.color=o;var u=e.top,l=e.left;t.positionType==iu.Bottom,t.positionType==iu.Right,s.point_direction=t.positionType,s.angle=r(t.positionOffset,s.point_direction);var c=s.Generate(n[0].ownerDocument);return c.css("top",u+"px"),c.css("left",l+"px"),c.css("display","none"),mtjQuery(n.append(c)),c}function i(e,t,n,r){var o,i;if(e.positionType==iu.Top||e.positionType==iu.Bottom){var s=e.left+t.width;o=a(e.left,s,w(),e.positionOffset,n.width,n.left),i=e.positionType==iu.Top?e.top+t.height:e.top-v()}else if(e.positionType==iu.Left||e.positionType==iu.Right){var u=e.top+t.height;i=a(e.top,u,w(),e.positionOffset,n.height,n.top),e.positionType==iu.Left?(o=e.left+t.width,za.isQuirksMode(r[0])&&(o-=2)):o=e.left-v()}return{top:i,left:o}}function a(e,t,n,r,o,i){var a;return r==su.Center?a=(t+e-n)/2:r==su.Start?a=i+(o-n)/2:r==su.End?a=i+(o-n)/2:g().error(null),a}function s(e,t){var n=t.balloonData;n.title||e.addClass("walkme-custom-no-title"),n.content||n.customHtml&&(n.customHtml.inner||n.customHtml.outter)||e.addClass("walkme-custom-no-content"),t.nextButton||t.backButton||t.doneButton||t.submitButton||e.addClass("walkme-custom-no-buttons")}this.LocalSVNRevision="$Rev: 4006 $";var u=new t(this),l=u.Prop.Protected("lib"),c=u.Prop.Protected("balloon"),d=u.Prop.Protected("balloonClass"),f=u.Prop.Protected("balloonSettings"),p=u.Prop.Protected("resourceManager"),g=u.Prop.Protected("logger"),m=u.Prop.Protected("minWidth"),h=u.Prop.Protected("maxWidth"),v=(u.Prop.Public("minPopupWidth"),u.Prop.Public("arrowHeight")),w=u.Prop.Public("arrowBaseWidth"),y=u.Prop.Public("hasBorder"),b=u.Virtual.Protected("addBalloonDiv"),k=u.Virtual.Public("loadResources",function(e,t){t&&t()}),S=u.Virtual.Protected("getArrowsColors"),T=(u.Virtual.Public("fixSize",function(e,t,n,r,o){T(e,t,n,r),I(e,o);var i={width:e.width(),height:e.height()};return i}),u.Virtual.Protected("fixWidth",function(e,t,r,o){var i=0;i=l().isQuirksMode(t[0])?n(e):e.width();var a=0;a=!o||0>=o?400:o;var s=190;if(s>i&&(i=s),i>a&&(i=a),e.css("width",i+"px"),!o||0>=o){var u=0;mtjQuery.each(mtjQuery("[width], [style*=width], [style*=WIDTH]",e),function(e,t){mtjQuery(t).width()>u&&(u=mtjQuery(t).width())}),u>i&&x(u,e)}})),I=u.Virtual.Protected("fixHeight",function(e,t){var n=e.height();t&&t>0&&(n=t),e.css("height",n+"px")}),x=u.Virtual.Protected("handleWiderElement",function(e,t){var n=mtjQuery(".walkme-custom-balloon-content",t);n.css("width",e+"px"),t.css("width","auto")}),C=u.Public("generateHtml",function(e){var t={lib:l(),balloonSettings:f(),balloonData:e.balloonData,userGuid:e.userGuid,settings:e.settings,end:e.end,stepType:e.stepType,contentDiv:e.contentDiv},n={nextButton:e.nextButton,doneButton:e.doneButton,backButton:e.backButton,submitButton:e.submitButton};return c(new(d())(t)),c().initButtons(n),c().generateHtml()}),D=(u.Public("manipulationsForInlineCss",function(e){return c().manipulationsForInlineCss(e)}),u.Public("generateBalloonDiv",function(e,t,n,r,o,i){var a=b(C(i),e,t);return D(a,n,r,o,i),a}),u.Virtual.Protected("addIdentifiers",function(e,t,n,r,o){e.attr("id","walkme-balloon-"+n),e.addClass("walkme-custom-walkthru-"+t),e.addClass("walkme-custom-step-"+n);var i=r==vs.Popup?"popup":"simple";e.addClass("walkme-custom-"+i+"-step");var a=l().getCurrentLanguage()||"default";e.addClass("walkme-custom-language-"+a),U.addBrowserSpecificClasses(e),s(e,o)})),E=u.Virtual.Protected("addArrowClasses",function(e,t,n,r){e.addClass("walkme-custom-balloon-arrow"),e.addClass("walkme-custom-balloon-arrow-"+n),e.addClass("walkme-custom-balloon-arrow-"+t),e.addClass("walkme-custom-balloon-arrow-"+t+"-"+n),e.addClass("walkme-custom-step-"+r)}),P=(u.Virtual.Public("fixArrows",function(){}),u.Virtual.Public("fixQuirksMode",function(){}),u.Virtual.Protected("finalizeArrowsPosition",function(){})),N=(u.Virtual.Public("drawArrows",function(e,t,n,r,a,s){var u=i(n,r,a,e),c={top:u.top,left:u.left};n.positionType==iu.Top&&(c.top=u.top,u.top=u.top-f().BalloonBorderWidth+1,c.left=u.left-1),n.positionType==iu.Bottom&&(u.top=u.top+f().BalloonBorderWidth-1,c.top=u.top-f().BalloonBorderWidth,c.left=u.left-1),n.positionType==iu.Left&&(l().isQuirksMode(e[0])?(u.left=u.left-f().BalloonBorderWidth+1,c.left=u.left+f().BalloonBorderWidth,c.top=u.top-1):(u.left=u.left-f().BalloonBorderWidth+1,c.left=u.left+f().BalloonBorderWidth-1,c.top=u.top-1)),n.positionType==iu.Right&&(u.left=u.left+f().BalloonBorderWidth-1,c.left=u.left-f().BalloonBorderWidth,c.top=u.top-1),P(n.positionType,u,c);var d="",p=null,g=au[n.positionType],m=S(g);f().BalloonBorderWidth>0&&(p=o(c,n,s,m.outterArrow,v()+1,v()+1),E(p,"outer",g,t)),d=o(u,n,s,m.innerArrow,v(),v()),E(d,"inner",g,t);var h=[d];return p&&h.push(p),h}),u.Protected("getBalloonBasicWidth",function(e,t,r){var o=0;o=l().isQuirksMode(t[0])?n(e):e.width();var i=0;return i=r||0>=r?h():r,o<m()&&(o=m()),o>i&&(o=i),o}),u.Public("setConfiguration",function(e){l().FixConfiguration(e),f(e),k()})),j=(u.Public("decideWhereToPopForCaptureBalloon",function(e,t,n,r){try{var o=e[0],i=o.getBoundingClientRect(),a=Gc(e),s=Mc(o,a,window),u={width:n,height:r},l=mtjQuery(document);l.height=l.height(),l.width=l.width(),l.top=0,l.left=0;var c=l,d=Ri(i,s),f=v()+1,p=j(d,u,t,f,c,!0);return p}catch(g){za.Logger.error(g)}}),u.Public("addPositionClass",function(e,t){var n="walkme-custom-position-"+au[t.positionType];e.addClass(n)}),u.Public("decideWhereToPop",function(e,t,n,r,o,i){var a,s,u=e.left+e.width/2,l=e.top+e.height/2,c=e.bottom+t.height+r<o.height+o.top,d=e.left-t.width-r>o.left,f=e.right+t.width+r<o.width+o.left,p=e.top-t.height-r>o.top,g=u-t.width/2>o.left,m=u+t.width/2<o.width+o.left,h=l-t.height/2>o.top,w=l+t.height/2<o.height+o.top;if(n==iu.Top||n==iu.Bottom){var y,b;if(g&&m)b=u-t.width/2,s=su.Center;else if(g){if(!m){var k=o.width+o.left-e.right;b=e.right-t.width+k-1,s=su.End
}}else b=e.left,s=su.Start;return n==iu.Top?(y=e.top-t.height-r,a=iu.Top):(y=e.bottom+r,a=iu.Bottom),i&&(p&&n==iu.Top||n==iu.Bottom&&!c?(y=e.top-t.height-r,a=iu.Top):(y=e.bottom+r,a=iu.Bottom)),{top:Math.ceil(y),left:Math.ceil(b),positionType:a,positionOffset:s}}if(n==iu.Right||n==iu.Left){var y,b;return w&&h?(y=l-t.height/2,s=su.Center):w?h||(y=e.top-v()+2,s=su.Start):(y=e.top-v()+2,s=su.End),n==iu.Left?(b=e.left-t.width-r,a=iu.Left):(b=e.right+r,a=iu.Right),i&&(d&&n==iu.Left||n==iu.Right&&!f?(b=e.left-t.width-r,a=iu.Left):(b=e.right+r,a=iu.Right)),{top:Math.ceil(y),left:Math.ceil(b),positionType:a,positionOffset:s}}}));e.apply(null,arguments)}function q(){function e(e){o.Extends($,e);var t=e.balloonSettings.minPopupWidth?e.balloonSettings.minPopupWidth:400;r=o._base,r.balloonClass(H),r.minWidth(190),r.arrowHeight(13),r.arrowBaseWidth(26),r.minPopupWidth(t)}function n(e,t){var n=function(e,t){return(e+t)/2},r=function(e){return parseInt((""+e).replace("#",""),16)},o=function(e){return(e>>0).toString(16)},i=r(e),a=r(t),s=function(e){return e>>16&255},u=function(e){return e>>8&255},l=function(e){return 255&e},c=o(n(s(i),s(a))),d=o(n(u(i),u(a))),f=o(n(l(i),l(a))),p="#"+(c.length<2?"0"+c:c)+(d.length<2?"0"+d:d)+(f.length<2?"0"+f:f);return p}this.LocalSVNRevision="$Rev: 4127 $";{var r,o=new t(this);o.Override("addBalloonDiv",function(e,t,n){var o=mtjQuery(t[0].ownerDocument.createElement("div"));return o.addClass("walkme-custom-balloon-outer-div"),o.addClass("mt-custom-balloon-outer-div"),o.css("display","none"),o.css("direction","ltr"),_i(o,r.balloonSettings(),n),r.lib().getUiUtils().setLangAttribute(o),mtjQuery(t.append(o)),o.html(e),o}),o.Override("addIdentifiers",function(e,t,n,o,i){r.addIdentifiers(e,t,n,o,i),wmjQuery("*",e).addClass("walkme-custom-step-"+n)}),o.Override("addArrowClasses",function(e,t,n,o){r.addArrowClasses(e,t,n,o),e.addClass("mt-custom-balloon-arrow-"+t)}),o.Override("getArrowsColors",function(e){var t=r.balloonSettings(),o=""==t.BalloonColor2?"transparent":t.BalloonColor2,i=t.BorderColor;switch(e){case"bottom":o=""==t.Color?"transparent":t.Color;break;case"top":break;case"left":case"right":o="transparent"==t.Color||"transparent"==t.BalloonColor2||"#00000000"==t.Color||"#00000000"==t.BalloonColor2?"transparent":n(t.Color,t.BalloonColor2)}return{innerArrow:o,outterArrow:i}})}e.apply(null,arguments)}function X(){function e(e){a.Extends($,e);var t=e.balloonSettings.minPopupWidth?e.balloonSettings.minPopupWidth:300;i=a._base,i.balloonClass(z),i.minWidth(190),i.minPopupWidth(t),i.arrowHeight(10),i.arrowBaseWidth(18),i.hasBorder(!1)}function n(e,t,n,o,a){e.show();var s=wmjQuery(".walkme-custom-balloon-bottom-div",e),u=s[0]?s[0].offsetHeight:0,l=i.arrowBaseWidth(),c=parseFloat(t[0].css("top")),d=parseFloat(e.css("top")),f=e[0]?e[0].offsetHeight:0,p=c-d,g=f-u;if(e.hide(),l>g-p&&g>p){var m=d-(g-p+1);e.css("top",m+"px"),r(t,o,n.positionType,a)}else p>=g&&r(t,o,n.positionType,a)}function r(e,t,n,r){var o=n==iu.Left&&"ltr"==t||n==iu.Right&&"rtl"==t;if(o||r){var a=n==iu.Left?"left":"right";e[0].css("border-"+a+"-color",i.balloonSettings().BalloonColor2)}for(var s=0;s<e.length;s++)e[s].addClass("walkme-custom-balloon-arrow-footer")}function o(e){e[0].css("border-top-color",i.balloonSettings().Color)}this.LocalSVNRevision="$Rev: 4127 $";{var i,a=new t(this);a.Override("addBalloonDiv",function(e,t){var n=t[0].ownerDocument.createElement("div");n=wmjQuery(n);var r=n.html(e).children();return i.lib().getUiUtils().setLangAttribute(r),r.css("display","none"),t.append(r),r}),a.Override("loadResources",function(e,t){var n=i.balloonSettings().FontsData;n?i.resourceManager().fonts(n,e,t,t):t&&t()}),a.Override("fixWidth",function(e,t,n,r){i.fixWidth(e,t,n,r),e.css("width",e.width()+1+"px")}),a.Override("getArrowsColors",function(e){var t=i.balloonSettings(),n=t.Color,r=t.BorderColor,o=t.direction;switch(e){case"bottom":n=t.Color;break;case"top":n=t.BalloonColor2;break;case"left":"ltr"==o?n=t.Color:(n=t.ButtonBgColor,r=t.ButtonBgColor);break;case"right":"ltr"==o?(n=t.ButtonBgColor,r=t.ButtonBgColor):n=t.Color}return{innerArrow:n,outterArrow:r}}),a.Override("fixArrows",function(e){var t=e.balloonDiv,r=e.arrowsDivs,a=e.result,s=e.isInCaptureMode,u=e.isQuirksMode,l=i.balloonSettings().direction,c=a.positionType==iu.Left||a.positionType==iu.Right;c?n(t,r,a,l,u):s&&a.positionType==iu.Top&&o(r)}),a.Override("fixQuirksMode",function(e){var t=wmjQuery(".walkme-custom-side-border, .walkme-custom-balloon-bottom-clear",e);t.hide();var n=wmjQuery(".walkme-custom-powered-by-div",e);if(n.length>0){var r=n.css("margin-bottom"),o=n.css("margin-top");n.css("margin-bottom","0px").css("margin-top","0px"),n.css("padding-bottom",r).css("padding-top",o)}var a,s=wmjQuery(".walkme-custom-balloon-arrow-inner",e.parent()),u=wmjQuery(".walkme-custom-balloon-arrow-outer",e.parent());if(s.hasClass("walkme-custom-balloon-arrow-right"))a="right";else{if(!s.hasClass("walkme-custom-balloon-arrow-left"))return;a="left"}s.css("border-"+a+"-color",i.balloonSettings().Color),u.css("border-"+a+"-color",i.balloonSettings().BorderColor)}),a.Override("finalizeArrowsPosition",function(e,t){switch(e){case iu.Top:t.top--;break;case iu.Bottom:t.top++;break;case iu.Left:t.left--;break;case iu.Right:t.left++}}),a.Override("handleWiderElement",function(e,t){var n=mtjQuery(".walkme-custom-balloon-content",t),r=mtjQuery(".walkme-custom-balloon-title",t);r.css("width","10px"),n.css("width",e+"px"),t.css("width","auto");var o=t.width();t.css("width",o+"px"),r.css("width","auto")})}e.apply(null,arguments)}function J(){function e(){}function t(e,t,n){wmjQuery(e).css(t,n)}this.LocalSVNRevision="$Rev: 3262 $";var n=this;n.addClickAndHover=function(e){function n(e){d=!0;var n=wmjQuery(".walkme-click-and-hover:active")[0]==e.currentTarget;n?t(e.currentTarget,a,l):t(e.currentTarget,a,u)}function r(e){d=!1,t(e.currentTarget,a,s)}function o(e){t(e.currentTarget,a,l)}function i(e){d?t(e.currentTarget,a,u):t(e.currentTarget,a,s)}var a=e.cssProperty,s=e.regularColor,u=e.hoverColor,l=e.clickColor,c=e.elemSelector,d=!1,f=e.balloonDiv,p=f.find(c);p.mouseenter(n),p.mouseleave(r),p.mouseup(i),p.mousedown(o)},e.apply(null,arguments)}function Y(){function e(e){st=e.element,ct=e.settings,dt=e.html,ft=e.lib,mt=e.position,bt=e.launcherId,at=e.userGuid,lt=e.isCapturingMode,kt=e.positionHelper,St=e.addFunctionality,Dt=e.cdnServer,nt=e.clickAuditManager,tt=W.isTrue(ct,"animated",!1),jt=e.delayBetweenClicks,it=new L({lib:_makeTutorial,element:st,settings:ct,drawableType:"launcher",drawableId:bt,monitor:!lt,defaultSettings:lt,cssKeysValues:[{id:bt,name:"launcher"}]}),Et=W.isTrue(ct,"embedInParent",!1),t(),ut=st.data("iframe")?ft.shouldHandlePageAsFramesets()||Et:!0}function t(){var e=ja(ct,"imageObject",_defaultImage),t=n()+e.data.shape+"-"+e.data.color;r(e,t),lt||o(e,t)}function n(){return Dt+"/player/resources/launchers/"}function r(e,t){ht="shape"==e.type?t+".png":u(e.data.url)?e.data.url:n()+e.data.url}function o(e,t){"shape"==e.type?i(e,t):a(e)}function i(e,t){W.isValueTrue(e.data.hover)&&(vt=t+"-hover.png"),W.isValueTrue(e.data.click)&&(wt=t+"-click.png")}function a(e){vt=s(e,"hover"),vt=vt?encodeURI(vt):vt,wt=s(e,"click"),wt=wt?encodeURI(wt):wt}function s(e,t){var r=null;return e.data[t]&&(r=u(e.data[t])?e.data[t]:n()+e.data[t]),r}function u(e){return 0==e.indexOf("http")}function l(e,t){var n=wmjQuery("<img />");n.load(function(){var e={width:this.width,height:this.height};t(e),n.unbind("load")}),n.attr("src",e)}function c(){it.shouldShow()&&!ft.isQuirksMode(st[0])&&it.highlight()}function d(e,t){et.top-=t.top-e.top,et.left-=t.left-e.left}function f(){if(ot=g(),Et){var e=p();if(!e)return void f()}pt=mtjQuery(document.createElement("div"));var t=ja(ct,"tooltip","");t=jd(t,["&",'"',"'",">","<"]),pt.attr("title",t),pt.addClass("walkme-custom-launcher-outer-div");var n="walkme-launcher-id-"+bt;pt.addClass(n),pt.css("display","none"),ft.getUiUtils().setLangAttribute(pt),ot.append(pt[0].outerHTML),pt=ot.find("."+n),pt.html(dt),St&&W.addTabIndex(pt);var r=z();H(r),Y=pt.find(".walkme-launcher-image-div"),S(ht,yt.width,yt.height),x(yt.width,yt.height),Y.css("background-repeat","no-repeat"),h()}function p(){try{gt=mtjQuery(ot[0].ownerDocument.createElement("div")),gt.css("position","relative"),gt.css("float","left"),gt.css("display","-moz-inline-stack"),gt.css("display","inline-block"),gt.css("zoom","1"),gt.css("*display","inline"),gt.addClass("walkme-launcher-container"),gt.addClass("walkme-launcher-container-id-"+bt);var e=mtjQuery(ot),t=e.offset();return e.append(gt),gt.html("a"),gt.is(":mt_hidden")&&!Pt?(ea("Launcher ["+bt+"] invisible - Fallback to embed in parent",3),gt.remove(),gt=void 0,Pt=!0,!1):(gt.html(""),d(t,gt.offset()),ot=gt,!0)}catch(n){return gt&&(gt.remove(),gt=void 0),Pt=!0,ea("Error while building launcher embed in container ["+bt+"]. trying again.  ex:"+n,5),!1}}function g(){var e;return e=Et?m(st)?st:st.parent():ut?_a(st):_a(null,!0),mc("jsp")&&!lt&&(e=Ra(st,e)),e}function m(e){if(Pt)return!1;var t=e.css("overflow");if(t&&O()&&("auto"===t||"scroll"===t||"hidden"===t))return!1;var n=e.prop("tagName");switch(n){case"A":case"INPUT":case"BUTTON":case"IFRAME":return!1;default:return!0}return!0}function h(){vt&&l(vt,v),wt&&l(wt,w)}function v(e){K=e,Y.hover(function(){b(vt,K.width,K.height,!0)},function(){b(ht,yt.width,yt.height)})}function w(e){Z=e,Y.mouseup(function(){var e=y();b(e.url,e.width,e.height)}).mousedown(function(){b(wt,e.width,e.height)})}function y(){var e,t,n;return vt?(e=vt,t=K.width,n=K.height):(e=ht,t=yt.width,n=yt.height),{url:e,width:t,height:n}}function b(e,t,n,r){tt&&Y.stop(),S(e),T(t,n),x(t,n,r)}function S(e){Y.css("background-image",'url("'+e+'")'),pt.css("top",et.top+"px"),pt.css("left",et.left+"px")}function T(e,t){var n=I(e,t);pt.css("top",et.top+n.top+"px"),pt.css("left",et.left+n.left+"px")}function I(e,t){var n=parseInt(ja(ct,"direction",At.BottomRight)),r={top:0,left:0};switch(tt&&(n=At.Right),n){case At.Top:r.top+=yt.height-t,r.left+=yt.width/2-e/2;break;case At.Right:r.top+=yt.height/2-t/2;break;case At.Bottom:r.left+=yt.width/2-e/2;break;case At.Left:r.top+=yt.height/2-t/2,r.left+=yt.width-e;break;case At.TopLeft:r.top+=yt.height-t,r.left+=yt.width-e;break;case At.TopRight:r.top+=yt.height-t;break;case At.BottomRight:break;case At.BottomLeft:r.left+=yt.width-e;break;case At.Center:r.top+=yt.height/2-t/2,r.left+=yt.width/2-e/2}return r}function x(e,t,n){Y.css("height",t+"px"),n&&tt?Y.animate({width:e+"px"}):Y.css("width",e+"px")}function C(){pt.css("top",et.top+"px"),pt.css("left",et.left+"px");var e=ja(ct,"z-index","2147483627");Qc(pt,e),pt.css("display","inline")}function D(){var e=kt.getElementBounds(st,ut,window,ct);et=M(e);var t=z();H(t),N(),C(),c()}function E(){if(!Et)return!0;if(!st)return!1;for(var e=!0,t=st.data("iframe");t&&e;)e=e&&t&&t.parents("html").length>0,t=t.data("iframe");return e}function P(){return pt.parents("html").length>0}function N(){Et?j():mc("jsp")&&ot.hasClass("jspPane")&&(et.top=et.top-ot.offset().top,et.left=et.left-ot.offset().left)}function j(){var e=st.offsetParent();if(e.length>0){var t="BODY"==e.prop("tagName");t?A(e):R(e)}}function A(e){"static"!=e.css("position")?R(e):Et&&!m(st)&&_()}function _(){var e=st.offset(),t=st.parent().offset();et.top+=e.top-t.top,et.left+=e.left-t.left}function R(e){if(Et)return void(m(st)||_());var t=e.offset();et.top-=t.top,et.left-=t.left}function B(){var e="<div class='walkme-launcher-image-div'></div>";return e}function M(e){var t=O()?F(e):G(e);return t}function O(){var e=ja(ct,"context",_t.Outside);return e==_t.Outside}function F(e){var t,n,r=Rt+1,o=k.getCenterPositionByBounds(e);switch(mt){case At.Top:n=o.left-yt.width/2,t=e.top-yt.height-r;break;case At.Right:t=o.top-yt.height/2,n=e.right+r;break;case At.Bottom:t=e.bottom+r,n=o.left-yt.width/2;break;case At.Left:t=o.top-yt.height/2,n=e.left-yt.width-r;break;case At.TopLeft:n=e.left-yt.width-r,t=e.top-yt.height-r;break;case At.TopRight:n=e.right+r,t=e.top-yt.height-r;break;case At.BottomRight:n=e.right+r,t=e.bottom+r;break;case At.BottomLeft:n=e.left-yt.width-r,t=e.bottom+r}return{top:t,left:n}}function G(e){var t,n,r=k.getCenterPositionByBounds(e);switch(mt){case At.Top:t=e.top,n=r.left-yt.width/2;break;case At.Right:t=r.top-yt.height/2,n=e.right-yt.width;break;case At.Bottom:t=e.bottom-yt.height,n=r.left-yt.width/2;break;case At.Left:t=r.top-yt.height/2,n=e.left;break;case At.TopLeft:t=e.top,n=e.left;break;case At.TopRight:t=e.top,n=e.right-yt.width;break;case At.BottomRight:t=e.bottom-yt.height,n=e.right-yt.width;break;case At.BottomLeft:t=e.bottom-yt.height,n=e.left;break;case At.Center:t=r.top-yt.height/2,n=r.left-yt.width/2}return{top:t,left:n}}function Q(){St?(pt.css("cursor","pointer"),Et&&pt.hover(function(e){e.stopPropagation()}),pt.click(function(e){var t=(new Date).getTime(),n=t-Nt;return null!=Nt&&jt>=n?void ea("Launcher ["+bt+"] click was ignored - it was already activated "+n+" ms ago",3):(Nt=t,Et&&e.stopPropagation(),wmjQuery(this).blur(),_makeTutorial.getLauncherAction(bt).doAction(),void nt.SendClickAudit(nu.Launcher,bt,at))})):Et&&(pt.click(function(e){e.stopPropagation()}),pt.hover(function(e){e.stopPropagation()}))}function U(){var e=z();V(e)&&D(),H(e)}function V(e){return xt!=e.top||Ct!=e.left||Tt!=e.height||It!=e.width}function H(e){xt=e.top,Ct=e.left,Tt=e.height,It=e.width}function z(){var e,t,n=!1;if(ut){var r=st.offset();e=Math.floor(r.top),t=Math.floor(r.left)}else{var o=kt.getPosRelativeToWindow(st[0],window,!0);e=o.top,t=o.left;var n=$()}var i=st.height(),a=st.width();return{top:e,left:t,height:i,width:a,elementIsScrolledOut:n}}function $(){var e=st.data("iframe");return e&&kt.isElementScrolledOut(st,e,mt)}function q(){var e=kt.isElementVisible(st);e&&J.evaluator&&X()&&(e=J.evaluator.getValue()),e?(Et||U(),rt=Ui(q,800)):(J.actionInProgress=!0,J.destroy(function(){J.actionInProgress=!1}))}function X(){var e=W.isTrue(ct,Lt,!1);return e}var J=this;J.LocalSVNRevision="$Rev: 4122 $",J.evaluator=null;var Y,K,Z,et,tt,nt,rt,ot,it,at,st=null,ut=!1,lt=!1,ct=null,dt=null,ft=null,pt=null,gt=null,mt=null,ht=null,vt=null,wt=null,yt=null,bt=null,kt=null,St=!1,Tt=null,It=null,xt=null,Ct=null,Dt=null,Et=!1,Pt=!1;_defaultImage={type:"shape",data:{shape:"round-question-mark",color:"blue"}};var Nt,jt,At={Top:0,Right:1,Bottom:2,Left:3,TopLeft:4,TopRight:5,BottomRight:6,BottomLeft:7,Center:8},_t={Outside:0,Inside:1},Rt=0,Lt="condHide";this.getId=function(){return bt},this.show=function(e){l(ht,function(t){yt=t,dt||(dt=B()),c();var n=Et?kt.getEmbedInElementPosition(st,ct):kt.getElementBounds(st,ut,window,ct);et=M(n),f(),N(),C(),Q();var r={image:ht,hover:vt,click:wt};bo("LauncherIsShown",J,{imagePaths:r}),e&&e(ot)})},this.updateOffset=function(e,t){et.top+=e,et.left+=t},this.destroy=function(e){try{rt&&rt.clear(),Li(gt||pt,function(){it.unhighlightElement(),e&&e()})}catch(t){e&&e()}},this.isDrawn=function(){try{return P()&&E()}catch(e){return!1}},this.setTimeoutOn=function(e){e=e?e:800,rt=Ui(q,e)},e.apply(null,arguments)}function K(e,t,n,r,i){function a(){m=r.cookieSeconds,v=n.getPermutation,w=e.getEndUserGuid,y=i.wrapCustomerLog(Za)}function s(e,t,n,r){f(e)?r(parseInt(e)):"error"==e?(y("Steps Audit - Parsing problem - logical error",3),t()):"error2"==e?(y("Steps Audit - Internal Error",3),n()):(y("Steps Audit - Unknown Error",3),t())}function u(e,t){g(e,t)}function c(e,t,n){if(ra()||!Mu)return!0;var r=Mu+"/Analytics/BalloonShown",i={tutorialId:e.TutorialId,stepId:e.Id,stepIndex:e.StepIndex+1,stepStatus:n,permutationId:v(),endUserGuid:w(),datetime:oa(),playGuid:h._currentPlayGUID,playInitiator:h._currentPlayInitiator?h._currentPlayInitiator.type:0,playInitiatorObj:h._currentPlayInitiator?h._currentPlayInitiator.objectId:-1,source:aa(),customFieldsSerialized:o(ic),browser:la(),os:da(),domain:window.location.host};wl.execute({url:r,data:i})}function d(e,t,n,r,o){var i={};return i.tutorialID=e.TutorialId,i.stepId=e.Id,i.stepIndex=e.StepIndex+1,i.totalSteps=n,i.playGuid=o,i.TicksSince1970=oa(),i.StepStatus=t,p(i),br(r,!1)&&(i.isFirstStepError=!0),i}function p(e){return h._currentPlayInitiator&&h._currentPlayInitiator.type!=$s.NONE?(e.playInitiator=h._currentPlayInitiator.type,void(void 0!=h._currentPlayInitiator.objectId&&h._currentPlayInitiator.objectId>-1&&(e.initObjId=h._currentPlayInitiator.objectId))):void(e.playInitiator=$s.NONE)}function g(e,t){var n=[];if(e.length<=0)return n;for(var r=0;r<e.length;r++)e[r].stepIndex==t.stepIndex&&e[r].playGuid==t.playGuid&&(n.push(e.splice(r,1)[0]),r--);return n}this.LocalSVNRevision="$Rev: 4456 $";var m,h=this;this._currentPlayGUID="";var v=null,w=null;this._currentPlayInitiator=null;var y,b;h.init=function(){b=t.register("sa",{beforeSendingManipulationFunc:u,actionUrl:"/Statistics/AddStepLogs",technicalSuccessHandler:s,defaultDataStorageLifeSeconds:m,prefixForStorage:"sa",sendingThreshold:5,dataType:"step audit",dataIdFieldName:"Id",requestParamsFunc:function(e){return{stepActionsSerialized:o(e),source:aa(),customFieldsSerialized:o(ic),browser:la(),os:da(),domain:window.location.host,permutationId:v(),endUserGuid:w()}}})},this.auditStep=function(t,n,r,o){if(n!=Hs.Shown||go(t)||c(t,r,n),n==Hs.SkippedStartedFromBiggerStep?bo("NewSkippedStep",t):n!=Hs.SkippedByActionStep&&bo("CheckNewStep",t),ra())return y("Audit steps manager - Auditing is disabled, doing nothing",3),!0;if(t.TutorialId<0)return void y(l("Audit steps manager - Step with id {0} has negative tutorial id ({1})",t.Id,t.TutorialId),3);(void 0==h._currentPlayGUID||0==h._currentPlayGUID.length)&&(h._currentPlayGUID=e.generateNewPlayGuid(t.TutorialId));try{var i=d(t,n,r,o,this._currentPlayGUID);b.sendData(i)}catch(a){_makeTutorial.Logger.error(a)}},h.removeAllStepAuditsLogs=function(){b.clearAndStopSavingData()},a.apply(null,arguments)}function Z(e,t,n,r,o){function i(){}function a(e){if(e){var r,i=e.Method,a=e.Parameters;switch(i){case"var":a.VarName&&(r=Nn(eu.Var,a.VarName),u(r)&&(t.customerLog("endUserGuid - invalid variable name",1,v),r=void 0));break;case"salesforce":r=s();break;case"cookie":a.VarName&&(r=Nn(eu.Cookie,a.VarName));break;case"jquery":a.VarName&&(r=n.getjQueryElementText(a.VarName));break;case"walkme":case"none":r=c(),r||(r=o(),t.customerLog("endUserGuid wasn't found in storage. was generated and stored in storage "+r,3,v))}return r?l(r):(r=c(),r||(r=o(),t.customerLog("getEndUserGuid: Forced generating new user guid-"+r,3,v),l(r,!0))),r}}function s(){return window.walkme_sf_vars?window.walkme_sf_vars.userId:void 0}function u(e){return e&&e.nodeType}function l(t,n){e.saveData(m,t,nc),n?(p=!0,e.saveData(h,1,nc)):(p=!1,e.removeData(h))}function c(){return p=e.getData(h),e.getData(m)}this.LocalSVNRevision="$Rev: 4006 $";var e,d,t,o,f,p,g=this,m="wm-ueug",h="wm-fgug",v="endUser";this.setEndUserSettings=function(e){d=e},this.getEndUserSettings=function(){return d},g.getEndUserGuid=function(e){if(f&&(!e||!p))return f;var n=a(d);return!n||(f=n,t.customerLog("getEndUserGuid: retrieved endUserGuid-"+n,3,v),e&&p)?(t.customerLog("Could not retrieve endUserGuid",3,v),!1):f},i.apply(null,arguments)}function et(e,t,n,r,i,a,s){function l(){y=i.getPermutation,b=a.getUserGuid()}function c(){return window.walkme_sf_vars?window.walkme_sf_vars.organizationName:void 0}function d(){return window.walkme_sf_vars?window.walkme_sf_vars.organizationId:void 0}function f(){return window.walkme_sf_vars?window.walkme_sf_vars.roleId:void 0}function p(){if(window.walkme_sf_vars){var e=u(window.walkme_sf_vars);return delete e.organizationName,delete e.organizationId,delete e.userId,e}}function g(){return window.walkme_sf_vars&&window.walkme_sf_vars.walkme_error?!0:!1}function m(){return I+n.getEndUserGuid()}function h(){var e=window.walkme_sf_vars,n="walkme_sf_error:"+o(e);t.customerLog(n,1,T)}function v(t,n){e.saveData(m(),n,60*t)}function w(){return e.getData(m())}this.LocalSVNRevision="$Rev: 4006 $";var y,b,k=this,S=1e4,T="endUser",I="wm-euaf";k.reportEndUser=function(e){var t=r.get().EndUserSettings?r.get().EndUserSettings.auditFreq:null,i=w();if(t&&!i){if(0===i)return void(e&&e());if(g())return void h();{var a={permutationId:y(),endUserGuid:n.getEndUserGuid(),domain:window.location.host,source:aa(),browser:la(),os:da(),userGuid:b,organizationName:c(),organizationId:d(),roleId:f(),extraData:p()},u=o(a);wl.execute({dataType:"jsonp",url:s.get()+"/EndUser/AddEndUserData",data:{endUsersDataSerialized:u},timeout:S,success:function(n){"true"==n?v(t,1):"false"==n&&(v(t,0),e&&e())}})}}},l.apply(null,arguments)}function tt(){function e(e,t,n){for(var r=Array(),o=n,i=e.indexOf(t);i>-1;){if("("!=e.charAt(i+t.length))throw"Ilegal function definition in expression";for(var a=i+t.length+1,s=Array(),u=a;(")"!=e.charAt(u)||0!=s.length)&&u<e.length;){if("'"==e.charAt(u)||'"'==e.charAt(u))if(0==s.length)s.push(e.charAt(u));else{var l=s.pop();l!=e.charAt(u)&&(s.push(l),s.push(e.charAt(u)))}u++}if(")"!=e.charAt(u))throw"Ilegal function definition in expression";r[o]=e.substring(i,u+1),e=e.substring(0,i)+"["+o+"]"+e.substr(u+1),o++,i=e.indexOf(t)}return[r,e]}function t(e){if(void 0==e||e.length<=0)throw"Ilegal function definition";for(var t=e.substr(0,e.indexOf("(")),n=e.substring(e.indexOf("(")+1,e.length-1).split(","),r=0;r<n.length;r++)n[r]=n[r].replace(/^\s+|\s+$/g,""),("'"==n[r].charAt(0)&&"'"==n[r].charAt(n[r].length-1)||'"'==n[r].charAt(0)&&'"'==n[r].charAt(n[r].length-1))&&(n[r]=n[r].substring(1,n[r].length-1));return function(){return a.supportedFunctions[t].apply(this,n)}}function n(e,t){return void 0==t&&(t=1),mtjQuery(e).length>=t}function r(e,t){return mtjQuery(e).text()==t}function o(e){return Rc(e)}function i(e){e=parseInt(e);for(var t=0;t<sc.length;t++)if(sc[t].Idx==e)return!0;return!1}this.LocalSVNRevision="$Rev: 4006 $";var a=this;this.supportedFunctions={isExistJQ:n,isTextValueJQ:r,isLocationMatch:o,isStepPlayed:i};var s=new Is;this.setExpression=function(n){if(void 0==n||n.length<=0)throw"Ilegal Expression";var r=0;for(var o in this.supportedFunctions)if(this.supportedFunctions.hasOwnProperty(o)){var i=e(n,o,r);n=i[1];for(var a=r;a<i[0].length;a++){var u=t(i[0][a]);s.setFunction(u,r++)}}s.setExpression(n)},this.evaluate=function(){if(void 0!=s)return s.evaluate();throw"Evaluator is undefined"}}function nt(){function e(e,o,i){$=e,V=new rt,Y=Ja.get("CookiesStorageManager"),sessionCookiesStorage=new I,H=[],U=n(o,i),ea("Storage mode: "+U+", ["+(i?"from db/feature":"auto detected")+"]",3),z._origin=r(Ou)?t()+Ou:Ou,z._path="/player/resources/CD/CDhiddenIframe_v18.html",z._saveCookiePath="/player/resources/CD/saveCookie.html"}function t(){var e=window.location,t=e.origin;return t||(t=e.protocol+"//"+e.hostname,e.port&&(t+=":"+e.port)),t}function n(e,t){var n=la();return e&&n.indexOf("Safari")>-1?gs.Cookies:t?t:!e||"IE 11"!=n&&"IE 10"!=n?gs.LocalStorage:gs.IndexedDB}function r(e){var t=0===e.indexOf("/");return t}function a(e){for(var t=0;t<tt.length;t++)tt[t].push(e)}function s(e,t){y(e,t),V.removeData(e,t),a(e)}function u(e,t){sessionCookiesStorage.removeData(e,t)}function l(e,t,n,r){var o={requestType:"add",userGuid:r,key:e,keyValues:t,saveObj:{value:{},saveTime:(new Date).getTime(),expireSeconds:n}};S(o)}function c(e,t){S(d(e,t))}function d(e,t){var n=f();return e.actionId=n,nt[n]=t,e}function f(){return ot+=1,ot>1e3&&(ot=1),ot}function p(e){if(e&&nt[e.actionId]){var t=nt[e.actionId];delete nt[e.actionId],t(e.value)}}function g(){return window.postMessage&&window.localStorage}function m(){var e=document.getElementById(K);return e}function h(e,t){var n=document.createElement("iframe");n.id=K,n.className="walkme-to-remove",n.style.cssText="display:none;";var r=_a(null,!0)[0];return r.appendChild(n),window.addEventListener?(n.addEventListener("load",t,!1),window.addEventListener("message",function(e){F(e)},!1)):n.attachEvent&&(n.attachEvent("onload",t,!1),window.attachEvent("onmessage",function(e){F(e)})),n.src=z._origin+z._path,n}function v(e,t,n,r){return{requestType:"set",userGuid:r,key:e,saveObj:{value:t,saveTime:(new Date).getTime(),expireSeconds:n}}}function w(e,t,n,r){var o=v(e,t,n,r);S(o)}function y(e,t){S({requestType:"delete",userGuid:t,key:e})}function b(e){var t=tt.shift();if(e)for(var n in e){var r=e[n];if(r&&r.length&&r.length>0&&void 0!=r[0].saveObj)for(var o=0;o<r.length;o++){var i=r[o].key;if(-1==wmjQuery.inArray(i,t)){var a=r[o].saveObj,s=k(a);s>0?V.saveData(i,a.value,s/1e3,n):z.removeData(i,n)}}}}function k(e){var t=(new Date).getTime(),n=e.saveTime+1e3*e.expireSeconds-t;return n}function S(e){z._iframeReady&&z.isInitialized()&&X!==!1&&T(e)}function T(e){z._iframe.contentWindow.postMessage(o(e),"*")}function x(e){tt.push([]);var t={requestType:"getAllMultiple",usersToLoad:e};S(t)}function C(){var e={requestType:"checkCanSave",saveMode:U,userGuids:$};S(e)}function D(){mtjQuery.browser.msie&&window.opener?(E(),Ui(N,3e3)):N()}function E(){z._iframeReady||(P(),Ui(E,100))}function P(){T({requestType:"get",key:Z,userGuids:$,saveMode:U})}function N(){z._iframeReady||(z._iframeReady=!0,j(),C())}function j(){L(),q=Ui(A,et)}function A(){ea("storage failed loading, removing walkme",3),L(),X=!1,T({requestType:"terminate"}),_makeTutorial.removeWalkMe("storageFailedLoading")}function _(){window.open(z._origin+z._saveCookiePath,"_blank"),at=!0,window.focus(),mtjQuery(document).unbind("click.wmpopup"),R()}function R(e){e=e||0,e>10?A():X!==!0&&(e++,C(),Ui(function(){R(e)},200))}function L(){q&&(q.clear(),q=null)}function B(e){L(),e.canSave||at?e.canSave&&(clearTimeout(it),O(),j(),x($)):"cookies"==U?(void 0===it&&M(),it=Ui(C,500)):A()}function M(){var e=parseInt(Y.getData(st)||0);3>e?(e++,Y.saveData(st,e.toString(),ut),mtjQuery(document).bind("click.wmpopup",_)):A()}function O(){mtjQuery(document).unbind("click.wmpopup")}function F(e){if(z._origin.indexOf(e.origin)>-1){var t=i(e.data);if("checkCanSave"==t.key)B(t);else if("getAllMultiple"==t.key){if(X=!0,L(),b(t.allValues),Y.removeData(st),Y.removeData(Ds),J){var n=J;J=null,n()}W()}else void 0!==t.actionId?p(t):"get"==t.key&&(k(t.saveObj)>0?G(t.dataKey,t.saveObj.value):z.removeData(t.dataKey,userGuid))}}function G(e,t){e==Z&&t&&N()}function Q(e){e&&H.push(e)}function W(){if(H.length>0){var e=H.shift();e&&e()}}this.LocalSVNRevision="$Rev: 4605 $";var U,V=null,H=null,z=this;z._iframe=null,z._iframeReady=!1,z._origin=null,z._path=null;var $,q,X,J=function(){},Y=null,K="walkme-hidden-iframe",Z="wm-sync",et=15e3,tt=[];z.refreshGetData=function(e,t){Q(t),X===!0?x(e):W()},z.saveData=function(e,t,n,r){n>0?(u(e,r),w(e,t,n,r),V.saveData(e,t,n,r),a(e)):(s(e,r),sessionCookiesStorage.saveData(e,t,n))},z.getData=function(e,t){var n=V.getData(e,t);return void 0===n&&(n=sessionCookiesStorage.getData(e,t)),n},z.removeData=function(e,t){s(e,t),u(e,t)},z.increment=function(e,t,n,r,o){c({requestType:"increment",userGuid:r,key:e,ttl:n,lastValue:t},o)},z.setSyncFlag=function(e){var t=v(Z,1,10,e);T(t)},z.addToDictionary=function(e,t,n,r,a){var s=z.getData(e,a)||{};if(s&&"string"==typeof s&&(s=i(s)||{}),s[t]=n,s=o(s),r>0){var u={};u[t]=n,l(e,u,r,a),V.saveData(e,s,r,a)}else sessionCookiesStorage.saveData(e,s,r)},z.getAll=function(e){var t=sessionCookiesStorage.getAll(e),n=V.getAll(e);return wmjQuery.extend(t,n)},this.sessionSetData=function(e,t,n){var r={requestType:"setSession",userGuid:n,key:e,value:t};S(r)};var nt={};this.sessionGetData=function(e,t,n,r){c({requestType:"getSession",userGuid:n,key:e,defaultValue:t},r)};var ot=0;this.init=function(e){return z._iframeReady=!1,J=e,g()?(z._iframe=m($),void(z._iframe?D():z._iframe=h($,function(){D()}))):(ea("Cannot run cross-domain Walk-Thrus on this browser. Removing WalkMe."),!1)},this.removeAllData=function(e){var t=V.getStorageInternal(),n=t[e];if(n)for(var r in n)z.removeData(r,e)};var it,at=!1,st="wm-popup",ut=31536e4;z.isInitialized=function(){return z._iframe&&z._iframe.contentWindow},e.apply(null,arguments)}function rt(){function e(){r={}}function t(e){return void 0===r[e]&&(r[e]={}),r[e]}this.LocalSVNRevision="$Rev: 3580 $";var n=this,r=null;this.saveData=function(e,n,r,o){var i={};i.value=n,i.saveTime=(new Date).getTime(),i.expiresSeconds=r;var a=t(o);a[e]=i},this.getData=function(e,r){var o=t(r),i=o[e];if(i){var a=(new Date).getTime(),s=i.saveTime+1e3*i.expiresSeconds-a;if(0==i.expiresSeconds||s>0)return i.value;n.removeData(e,r)}return void 0},this.removeData=function(e,n){var r=t(n);delete r[e]},this.getAll=function(e){var r={},o=t(e);return wmjQuery.safeEach(o,function(t){r[t]=n.getData(t,e)}),r},e.apply(null,arguments)}function ot(){function e(e,t,n){r=e,a.dataManager=t,s=n}function t(){return a.dataManager.isInitialized?a.dataManager.isInitialized():u}function n(e){return br(e,s)}this.LocalSVNRevision="$Rev: 4090 $";var r,a=this,s=null,u=!1;this.getStorageType=function(){return r},this.init=function(e){return e=e||function(){},t()?void e():(u=!0,a.dataManager.init?a.dataManager.init(e):void e())},this.refreshGetData=function(e,t){e=e&&e.length>0?e:[n()],a.dataManager.refreshGetData?a.dataManager.refreshGetData(e,t):t&&t()},this.saveData=function(e,t,r,i){return e=mtjQuery.trim(e),i=n(i),void 0===t?void a.removeData(e,i):void a.dataManager.saveData(e,o(t),r,i)},this.getData=function(e,t,r){e=mtjQuery.trim(e),r=n(r);var o=a.dataManager.getData(e,r);return void 0===o||""===o?t:i(o)},this.addToDictionary=function(e,t,r,o,i){if(e=mtjQuery.trim(e),i=n(i),a.dataManager.addToDictionary)a.dataManager.addToDictionary(e,t,r,o,i);else{var s=a.getData(e,i);(null===s||"object"!=typeof s)&&(s={}),s[t]=r,a.saveData(e,s,o,i)}},this.removeData=function(e,t){e=mtjQuery.trim(e),t=n(t),a.dataManager.removeData(e,t)},this.addToQueue=function(e,t,r,o,i){e=mtjQuery.trim(e),i=n(i);var s=a.getData(e,[],i);s||(s=[]),s.push(t),s.splice(0,s.length-r),a.saveData(e,s,o,i)},a.convertOldCookieStorage=function(e){var t=Ja.get("CookiesManager"),n=t.getCookie(e),r='"#!@DeL@!#"';if(n&&n!=r&&0!==n.indexOf('"')){a.saveData(e,n,nc);var o=_s.getStorageType();o&&o!=ru.Cookie&&t.setCookie(e,r,-1)}},a.increment=function(e,t,r,o,i){if(e=mtjQuery.trim(e),o=n(o),a.dataManager.increment)a.dataManager.increment(e,t,r,o,i);else{var s=a.getData(e,0,o);t!==s&&(s++,a.saveData(e,s,r,o)),i&&i(s)}},a.getAll=function(e){var t=a.dataManager.getAll(n(e));return wmjQuery.safeEach(t,function(e,n){void 0!==n&&""!==n&&(n=i(n)),t[e]=n}),t},this.removeAllData=function(e){a.dataManager.removeAllData(n(e))},a.sessionSetData=function(e,t,n){e=mtjQuery.trim(e),a.dataManager.sessionSetData?a.dataManager.sessionSetData(e,t,n):window.sessionStorage[n+e]=t},a.sessionGetData=function(e,t,n,r){e=mtjQuery.trim(e),a.dataManager.sessionGetData?a.dataManager.sessionGetData(e,t,n,r):r&&r(window.sessionStorage[n+e]||t)},a.setSyncFlag=function(e){a.dataManager.setSyncFlag&&a.dataManager.setSyncFlag(e)},e.apply(null,arguments)}function it(){function e(e,t){n=t,r=e}var t=this;t.LocalSVNRevision="$Rev: 4193 $";var n,r;t.saveToStorage=function(e,t,o){r.saveData(e+n,t,o)},t.getFromStorage=function(e,t){return r.getData(e+n,t)},t.removeFromStorage=function(e){return r.removeData(e+n)},t.refreshGetData=function(e,t){return r.refreshGetData(e,t)},e.apply(null,arguments)}function at(e,t,n,r){function o(){l=e,c=t,d=n,f=r}function i(e,t,n){m[e]||(m[e]={success:[],fail:[]}),t&&m[e].success.push(t),n&&m[e].fail.push(n)}function a(e,t){for(var n=t?m[e].success:m[e].fail,r=[].splice.call(arguments,2,arguments.length-2),o=0;o<n.length;o++)try{g.apply(this,[n[o]].concat(r))}catch(i){}m[e]=void 0}function s(e){return!!m[e]}this.LocalSVNRevision="$Rev: 3521 $";var u,l,c,d,f,p=this,g=function(e){if(e){var t=arguments;Ui(function(){e.apply(this,Array.prototype.slice.call(t,1))},0)}},m={};this.loadServerData=function(e,t,n,r,o,u){var l=s(n);i(n,r,o),l||wl.execute({url:e,data:t,traditional:u,success:function(e){e.ErrorMessage?a(n,!1,e.ErrorMessage):(p.updateLocalData(n,e),a(n,!0,e))},error:function(e,t){a(n,!1,t)}})},this.retrieveData=function(e,t,n,r,o,i){if(void 0!==u)return void(r&&r(u));var a=l.getData(n,null);if(a){var t=f?f(a):a;r&&r(t)}else p.loadServerData(e,t,n,r,o,i)},this.retrieveLocalData=function(e){if(void 0!==u)return u;
var t=l.getData(e,null);return f&&t?f(t):t},this.updateLocalData=function(e,t){u=t;var n=d&&t?d(t):t;l.saveData(e,n,c)},this.updateRemoteData=function(e,t,n,r){wl.execute({url:e,data:t,success:function(e){e.ErrorMessage?g(r,e.ErrorMessage):g(n)},error:function(e,t){g(r,t)}})},o.apply(null,arguments)}function st(e,t,n,r,i,a,s){function u(){g=e,h=new at(t,S,d,f),v=n,w=r,y=i,b=a,k=s}function l(e){return"wm_ct_"+v+"_"+e}function c(e,t){return{userGuid:v,endUserId:e,taskGoalsIds:o(t),source:k()}}function d(e){var t=[];return mtjQuery.each(e,function(e,n){if(n.TaskId){var r=mtjQuery.extend(!0,{},n);p(r,"TaskId","t"),p(r,"IsCompleted","c"),p(r,"CompletedGoals","g"),t.push(r)}}),t}function f(e){var t={};return mtjQuery.each(e,function(e,n){if(n.t){var r=mtjQuery.extend(!0,{},n);p(r,"t","TaskId"),p(r,"c","IsCompleted"),p(r,"g","CompletedGoals"),t[r.TaskId]=r}}),t}function p(e,t,n){e.hasOwnProperty(t)&&(e[n]=e[t],delete e[t])}this.LocalSVNRevision="$Rev: 3923 $";var g,h,v,w,y,b,k,S=3600,T="/ToDoList/UserCompletedTasksByIdsAndGoalsIds",I="/ToDoList/UpdateUserTaskCompleted";this.asyncRetrieveCompletedTasks=function(e,t,n,r){h.retrieveData(g+T,c(e,t),l(e),n,r,!0)},this.syncRetrieveCompletedTasks=function(e,t){var n=h.retrieveLocalData(l(e));return n?n:(h.loadServerData(g+T,c(e,t),l(e),null,null,!0),null)},this.updateTaskCompleted=function(e,t,n,o,i){var a=l(e);h.updateLocalData(a,o);var s={userGuid:v,endUserId:e,taskId:t,goalId:n,tasksCount:m(i).length,permutationId:y(),endUserGuid:b(),source:k()};h.updateRemoteData(g+I,s,null,function(e){r({},e)})},this.tempClearUserCompletedTasks=function(e){h.updateLocalData(l(e),{})},u.apply(null,arguments)}function ut(){function e(e){i=e.serverAddress,s=e.lib.getUserGuid(),u=e.lib.Logger.error,l=e.getPermutationId,c=e.getEndUserGuid,d=e.getAuditSource,f=i+"/AbTesting/UserCompletedGoals",a=new at(e.storageManager,p)}function t(e){return"wm_abg_"+s+"_"+e}function n(e,t){return{userGuid:s,endUserId:e,source:d(),permutationId:l(),goalsToCheck:t}}function r(e){var t={};return t[g]=l(),t[m]=e,t}function o(e){var n=a.retrieveLocalData(t(e));return n&&l()==n[g]?n:null}this.LocalSVNRevision="$Rev: 3613 $";var i,a,s,u,l,c,d,f,p=86400,g="p",m="g";this.asyncRetrieveCompletedGoals=function(e,o,i,s){var u=function(n){var o=t(e),s=r(n);a.updateLocalData(o,s),i&&i(n)},l=n(e,o);a.loadServerData(f,l,t(e),u,s,!0)},this.syncRetrieveCompletedGoals=function(e){var t=o(e);return t?t[m]:null},this.updateGoalCompleted=function(e,n){var i=t(e),s=o(e)||r([]);s[m].push(n),a.updateLocalData(i,s)},this.tempClearUserCompletedGoals=function(e){a.updateLocalData(t(e),{})},e.apply(null,arguments)}function lt(){function e(e){r=e.goalsManager,o=e.todoListManager,n=_makeTutorial.Logger.wrapCustomerLog(ss)}function t(e){return e.GoalsNotCompleted?e.GoalsNotCompleted:[]}this.LocalSVNRevision="$Rev: 3643 $";var n,r=null,o=null,i=this,a=function(e){o.updateGoalCompleted(e)};this.startWatchingTasks=function(){var e=o.getTasksGoalsNotCompleted();mtjQuery.each(e,function(e,t){t.TaskId&&i.startWatchingTask(t)})},this.startWatchingTask=function(e){var o=t(e);o.length>0&&r.addGoalsWatch(o,void 0,a),n("Started watching Task : "+e.Name,2)},e.apply(null,arguments)}function ct(e,t){function n(){g=e.wrapCustomerLog(os)}function r(e,t){return void 0===t&&(t=[]),mtjQuery("frame",e).each(function(){try{mtjQuery("frame, frameset",this.contentWindow.document).length>0&&(t=r(this.contentWindow.document,t)),t.push(this)}catch(e){g("Frame is cross-domain, we can't access it",h)}}),t}function o(){for(var e=0;e<y.length;e++){var t=y[e];S.isFrameActive(t)||null!=t&&null!=t.contentWindow&&i(t)}}function i(e){l(e)||(w.push(e),wmjQuery.browser.msie&&t.isBelowIeVersion(9)?e.addEventListener?e.addEventListener("load",a,!1):e.attachEvent("onload",a):mtjQuery(e).bind("load.walkme",function(){u(e)}))}function a(e){u(e.currentTarget)}function s(e){wmjQuery.browser.msie&&t.isBelowIeVersion(9)?e.removeEventListener?e.removeEventListener("load",a,!1):e.detachEvent("onload",a):mtjQuery(e).unbind("load.walkme")}function u(e){s(e),c(e)}function l(e){for(var t=0;t<w.length;t++)if(w[t]==e)return!0;return!1}function c(e){for(var t=0;t<w.length;t++)w[t]==e&&w.splice(t,1)}function d(){null!=v&&(v.clear(),v=null)}function f(){for(var e=0;e<w.length;e++)mtjQuery(w[e]).unbind("load.walkme");w=[]}function p(e){var t=0;return t=void 0!==e.height&&void 0!==e.width?e.height*e.width:mtjQuery(e).height()*mtjQuery(e).width()}this.LocalSVNRevision="$Rev: 4006 $";var g,m=7e3,h=5,v=null,w=[],y=void 0,b=null,k=void 0,S=this;this.isFramesetsPage=function(){return void 0===k&&(k=wmjQuery("frameset").length>0),k},this.checkIfAnyFrameIsUnloaded=function(e){Ui(d,e),y=r(),w=[],v=Vi(o,5),null!=b&&b.clear(),b=Ui(f,m)},this.isLoadingFrames=function(){return w.length>0},this.isFrameActive=function(e){return null==e?(g("Frame is not active (Frame is null)",h),!1):null==e.contentWindow?(g("Frame is not active (frame.contentWindow is null)",h),!1):null==e.contentWindow.document?(g("Frame is not active (frame.contentWindow.document is null)",h),!1):0==mtjQuery("head",e.contentWindow.document).length?(g('Frame is not active (mtjQuery("head", frame.contentWindow.document).length == 0)',h),!1):0==mtjQuery("body",e.contentWindow.document).length&&0==mtjQuery("frameset",e.contentWindow.document).length?(g('Frame is not active (mtjQuery("body", frame.contentWindow.document).length == 0)',h),!1):!0},this.getAllFramesDocuments=function(){for(var e=[],t=r(),n=0;n<t.length;n++)e.push(t[n].contentWindow.document);return e},S.waitForFramesHeadsAndBodies=function(e){function t(){var o=S.findBiggestFrame(),i=S.isFrameActive(o);return i?(g("Biggest frame is active. waitCount: "+r,5,"FramesetsUtils"),void e()):r>n?void g("Failed waiting for head and body in biggest frame. Stopping execution"+r,1,"FramesetsUtils"):void setTimeout(function(){r++,g("Biggest frame wasn't ready on attempt "+r,5,"FramesetsUtils"),t()},200)}if(!S.isFramesetsPage())return void e();var n=40,r=0;t()},this.findBiggestFrame=function(e,t){e=e?e:document;var n=t?p(t):-1;return mtjQuery("frame",e).each(function(){try{if(mtjQuery("frame, frameset",this.contentWindow.document).length>0){var e=this.contentWindow.document;e&&(t=S.findBiggestFrame(e,t),n=t?p(t):-1)}else{var r=p(this);r>n&&(n=r,t=this)}}catch(o){}}),t},n.apply(null,arguments)}function dt(){var e,t=this;Dn=function(n,r){t._question=n,t._questionDiv=mtjQuery("<div></div>"),e=r},t.getQuestionDivFromWindow=function(){var n=mtjQuery("#walkme-survey-"+e.Guid),r=mtjQuery("#"+t._questionDiv.attr("id"),n);return r},t.setTitle=function(e){var n=mtjQuery("<div></div>");n.addClass("walkme-survey-question-title"),n.css("font-weight","bold"),n.css("font-size","16px"),n.css("margin-bottom","6px"),n.html(e),t._questionDiv.append(n)},t.setSubTitle=function(e){var n=mtjQuery("<div></div>");n.addClass("walkme-survey-question-sub-title"),n.css("margin-bottom","8px"),n.html(e),t._questionDiv.append(n)},t.Generate=function(){return t._questionDiv=mtjQuery("<div></div>"),t._questionDiv.attr("Id","walkme-survey-question-"+t._question.Id),t._questionDiv.addClass("walkme-survey-question"),t.setTitle(t._question.Title),t.setSubTitle(t._question.SubTitle),t._questionDiv},Dn.apply(null,arguments)}function ft(){function e(e,n){wt.extend(t,dt,e,n)}var t=this,n=500;t.Generate=function(){t._questionDiv=t._base.Generate();var e=mtjQuery("<div></div>");e.addClass("walkme-survey-question-freetext-answers"),e.attr("id","walkme-survey-question-freetext-answers-"+t._base._question.Id);var r=mtjQuery('<textarea rows="4" cols="20" maxlength="'+n+'"></textarea>');return r.css("resize","none"),r.attr("id","walkme-survey-question-freetext-"+t._base._question.Id),r.addClass("walkme-survey-answer-textarea"),r.css("width","100%"),r.css("max-width","97%"),r.css("border","1px solid #b9b9b9"),e.append(r),t._questionDiv.append(e),t._questionDiv},t.getAnswers=function(){var e={},n=t._base.getQuestionDivFromWindow(),r=mtjQuery(".walkme-survey-answer-textarea",n).val();return""!=r?(e.questionId=t._base._question.Id,e.answerText=r,[e]):[]},e.apply(null,arguments)}function pt(){function e(e,n){wt.extend(t,dt,e,n)}var t=this;t.Generate=function(){t._questionDiv=t._base.Generate();var e=mtjQuery("<div></div>");e.addClass("walkme-survey-question-checkbox-answers"),e.attr("id","walkme-survey-question-checkbox-answers-"+t._base._question.Id);for(var n=t._base._question.Answers,r=0;r<n.length;r++){var o=mtjQuery("<div></div>");o.addClass("walkme-survey-question-checkbox-answer"),o.css("margin","0 8px 5px 0"),o.attr("id","walkme-survey-answer-"+n[r].Id);var i=mtjQuery("<label><label/>");i.attr("for","walkme-survey-answer-checkbox-"+n[r].Id),i.addClass("walkme-survey-answer-text"),i.html(n[r].Title);var a=mtjQuery('<input type="checkbox"/>');a.addClass("walkme-survey-answer-checkbox"),a.css("margin","0 3px 0 0"),a.css("vertical-align","-2px"),a.attr("value",n[r].Id),a.attr("id","walkme-survey-answer-checkbox-"+n[r].Id);var s=mtjQuery("<label />");s.addClass("walkme-survey-answer-label-checkbox"),s.addClass("walkme-survey-answer-label-unchecked"),s.attr("for","walkme-survey-answer-checkbox-"+n[r].Id),o.append(s),o.append(a),o.append(i),e.append(o)}return t._questionDiv.append(e),t._questionDiv},t.getAnswers=function(){for(var e=t._base.getQuestionDivFromWindow(),n=mtjQuery("input:checkbox:checked",e),r=[],o=0;o<n.length;o++){var i={};i.answerId=n[o].value,i.questionId=t._base._question.Id,r.push(i)}return r},e.apply(null,arguments)}function gt(){function e(e,n){wt.extend(t,dt,e,n)}var t=this;t.Generate=function(){t._questionDiv=t._base.Generate();var e=mtjQuery("<div></div>");e.attr("id","walkme-survey-question-radiobutton-answers-"+t._base._question.Id),e.addClass("walkme-survey-question-radiobutton-answers");for(var n=t._base._question.Answers,r=0;r<n.length;r++){var o=mtjQuery("<div></div>");o.addClass("walkme-survey-radiobutton-answer"),o.css("margin","0 8px 5px 0"),o.attr("id","walkme-survey-question-answer-"+n[r].Id);var i=mtjQuery("<div></div>");i.addClass("walkme-survey-answer-text"),i.css("display","inline-block"),i.css("*display","inline"),i.css("zoom","1"),i.attr("id","walkme-survey-answer-text-"+n[r].Id);var a=mtjQuery("<label></label>");a.attr("for","walkme-survey-answer-radiobutton-"+n[r].Id),a.addClass("walkme-survey-answer-title"),a.css("display","inline-block"),a.html(n[r].Title);var s=mtjQuery("<label></label>");s.attr("for","walkme-survey-answer-radiobutton-"+n[r].Id),s.addClass("walkme-survey-answer-subtitle"),s.css("display","inline-block"),s.html(n[r].SubTitle),i.append(a),i.append(s);var u=mtjQuery("<div></div>");u.addClass("walkme-survey-answer-radiobutton-div"),u.css("display","inline-block"),u.css("*display","inline"),u.css("zoom","1"),u.attr("id","walkme-survey-answer-radiobutton-div-"+n[r].Id);var l=mtjQuery('<input type="radio"/>');l.addClass("walkme-survey-answer-radiobutton"),l.css("display","inline-block"),l.css("margin","0 3px 0 1px"),l.css("vertical-align","-2px"),l.attr("value",n[r].Id),l.attr("name","walkme-survey-question-group-"+t._base._question.Id),l.attr("id","walkme-survey-answer-radiobutton-"+n[r].Id);var c=mtjQuery("<label />");c.addClass("walkme-survey-answer-label-radiobutton"),c.addClass("walkme-survey-answer-label-unchecked"),u.append(c),u.append(l),o.append(u),o.append(i),e.append(o)}return t._questionDiv.append(e),t._questionDiv},t.getAnswers=function(){var e={},n=t._base.getQuestionDivFromWindow(),r=mtjQuery("input[name='walkme-survey-question-group-' + _this._base._question.Id]:checked",n).val();return r?(e.answerId=r,e.questionId=t._base._question.Id,[e]):!1},e.apply(null,arguments)}function mt(){var e=this;e.getSurveyQuestion=function(e,t){var n;switch(e.QuestionType){case hs.FreeText:n=new ft(e,t);break;case hs.CheckBox:n=new pt(e,t);break;case hs.RadioButton:n=new gt(e,t)}return n}}function ht(){function e(e,t,n){y=e,b=t.surveyJson,k=new mt,E=[],S=t.tutorialId,T=n,I=t.submitResults,x=t.submitExit}function t(){var e=mtjQuery("<div></div>");return e.attr("id","walkme-survey-"+b.Guid),e.addClass("walkme-survey"),e}function n(){var e=mtjQuery("<div></div>");return e.addClass("walkme-survey-title"),e.html(b.Name),e.css("margin-bottom","8px"),e.css("font-weight","bold"),e.css("font-size","24px"),e}function r(){var e=mtjQuery("<div></div>");e.addClass("walkme-survey-questions"),e.css("overflow-y","auto"),e.css("overflow-x","hidden");for(var t=0;t<b.Questions.length;t++){var n=k.getSurveyQuestion(b.Questions[t],b);E.push(n),e.append(o(t,"before"));var r=n.Generate();t!=b.Questions.length-1&&r.css("margin-bottom","20px"),e.append(r),e.append(o(t,"after"))}return e}function o(e,t){var n=mtjQuery("<div></div>");return n.addClass("walkme-survey-question-separator-"+t),n.attr("id","walkme-survey-question-separator-"+t+"-"+e),n}function i(){var e=t(),o=n();e.append(o);var i=r();return e.append(i),a(e),e}function a(e){for(var t=0;4>t;t++){var n=mtjQuery("<div></div>");n.addClass("walkme-survey-extra-div-"+t),e.append(n)}}function s(){var e=mtjQuery("<div></div>");return e.append(i()),e}function u(e){e=e?e:[];var t={};return t.playGuid=Gu._currentPlayGUID,t.surveyGuid=b.Guid,t.tutorialId=S,t.source=aa(),t.customVarsData=Nn(eu.Var,b.Settings.customVar),t.customCookiesData=Nn(eu.Cookie,b.Settings.customCookie),t.answers=e,t}function l(){var e=d();if(e){var t=u(e);I(t),ea("Submitting answers"),m()}else c()}function c(){var e=C.find(".walkme-custom-balloon-buttons-wrapper"),t="walkme-survey-validation-errors",n="."+t;e.find(n).remove(),e.prepend("<span style='font-size:11px;color:"+D+"' class='"+t+"'>Please fill in the answers and click submit again</span>")}function d(){for(var e=[],t=0;t<E.length;t++){var n=E[t].getAnswers();if(!n)return!1;e=e.concat(n)}return e}function f(){ea("Survey exited");var e=u();x(e),m()}function p(e){var t=mtjQuery("#"+e),n=t.parent();mtjQuery("input:checked",n).removeAttr("checked");var r=mtjQuery(".walkme-survey-answer-radiobutton",t);r.attr("checked","checked"),r.change()}function g(e,t){var n=mtjQuery("#"+e).parent(),r=n.parent(),o=r.parent();t&&mtjQuery(".selected",o).removeClass("selected"),n.addClass("selected"),r.addClass("selected")}function m(){y.releaseBalloons(),T&&T()}function h(e,t){D=t.FooterTextColor,C=e,C.css("min-width","350px"),C.addClass("walkme-survey-id-"+b.Id),mtjQuery(".walkme-action-submit",C).click(l),mtjQuery(".walkme-action-close",C).attr("onclick","").unbind("click"),mtjQuery(".walkme-action-close",C).click(f),w(C);for(var n=0;n<b.Questions.length;n++)v(C,"radiobutton",b.Questions[n].Id),v(C,"checkbox",b.Questions[n].Id);mtjQuery(".walkme-survey-answer-radiobutton",C).change(function(){g(this.id,!0)}),mtjQuery(".walkme-survey-radiobutton-answer",C).click(function(){p(this.id)}),C.addClass("walkme-survey-balloon")}function v(e,t,n){var r=e.find("#walkme-survey-question-"+n),o=r.find(".walkme-survey-answer-"+t);o.change(function(){for(var e=0;e<o.length;e++){var n=o[e],r=mtjQuery(n).parent().find(".walkme-survey-answer-label-"+t);r.removeClass("walkme-survey-answer-label-checked"),r.removeClass("walkme-survey-answer-label-unchecked"),r.addClass(o[e].checked?"walkme-survey-answer-label-checked":"walkme-survey-answer-label-unchecked")}})}function w(){mtjQuery(".walkme-custom-balloon-close-button",C).attr("title","Close Survey")}var y,b,k,S,T,I,x,C,D,E,P=this;P.show=function(){var e=s(),t={popupStepButtons:[{id:0,action:4}]};b.Settings&&void 0!==b.Settings.fadeBackground&&(t.fadeBackground=b.Settings.fadeBackground);var n={minPopupWidth:350,Vibrate:!1};Ar({htmlContent:e},600,t,h,void 0,n)},e.apply(null,arguments)}function vt(){function e(e){d.Extends(tn,e),p=e.lib,g=e.abPermutationManager,m=e.recorderServerManager,h=g.getPermutation,v=p.getEndUserGuid}function n(e){return e.answers.length>0?(i("SurveyCompleted",e),a(e.surveyGuid),!0):!1}function r(e){i("SurveyExited",e)}function i(e,t){if(!ra()){t.permutationId=h(),t.endUserGuid=v();var n=o(t),r=wl.execute({url:m.get()+"/Survey/"+e,data:{surveyDataSerialized:n},timeout:w});r.success(function(){}),r.error(function(){})}}function a(e){var t="wm-SrvSmt-"+e;zu.saveData(t,1,ec)}function s(e,t){var n={shouldStart:!1,cookiesToSave:[],survey:null},r=ja(e.Settings,"survey",void 0);if(!r)return ea("No survey defined on walkthru: "+e.Name,3,"survey"),n;if(r.startCondition==t||r.startCondition==lu.Both){if(n.survey=Jr(r.surveyId),!n.survey)return ea("Couldn't find survey with id:"+r.surveyId,0,"survey"),n;var o="wm-SrvRep-"+n.survey.Id,i=u(o,n.survey.Settings);i&&i.shouldStart&&(n.cookiesToSave.push(i.store),o="wm-SrvWtRep-"+e.TutorialId+"-"+n.survey.Id,i=u(o,r),n.cookiesToSave.push(i.store),n.shouldStart=i.shouldStart)}return n}function u(e,t){var n=t.repeat||"visit";return p.checkRepeatCookie(e,n)}function c(e,t){var n=!0,r=window.walkmeExternalSurvey;if(r){ea("Starting external survey"),e.playGuid=Gu._currentPlayGUID,e.source=aa();var o=r(e,t);o===!1&&(n=!1)}else{ea("Starting regular survey");var i=new ht(p,e,t);i.show()}return n}var d=new t(this),f=this;f.LocalSVNRevision="$Rev: 4068 $";var p,g,m,h,v,w=1e4;this.handleSurveyPlay=function(e,t,o,i){ea("Checking if need to open survey");var a=s(e,t);if(a.shouldStart){ea("Starting survey");var u={};u.surveyJson=a.survey,u.tutorialId=e.Id,u.stepIndex=o,u.lastStepIndex=e.Steps.length-1,u.eventSource=t,u.submitResults=n,u.submitExit=r,u.drawBalloonFunc=Ar;var l=c(u,i);if(l)for(var d=0;d<a.cookiesToSave.length;d++)a.cookiesToSave[d]()}},d.Override("name",function(){return"Survey"}),d.Override("activateById",function(e){var t=d._base.deployablesDict()[e];t||ea(l("Survey with id {0} doesn't exist",e),3),c({surveyJson:t,submitExit:function(){},submitResults:function(){}})}),e.apply(null,arguments)}function wt(){function e(e,t){var n={};for(var r in t){n[r]=t[r];var o="function"==typeof t[r],i="function"==typeof e[r];o&&!i?e[r]=t[r]:o&&i&&t[r].WM_VIRTUAL&&(t[r]=e[r])}return n}this.LocalSVNRevision="$Rev: 3499 $",this.extend=function(t,n,r,o,i,a){var s=new n(r,o,i,a),u=e(t,s);t._base=u},this.VIRTUAL=function(e){return e.WM_VIRTUAL=!0,e};var t=this.VIRTUAL(function(){throw"Function is pure virtual. must override"});this.WM_PURE_VIRTUAL=function(){return t}}function yt(){function e(e){o=e.checkIfExists,i=e.getTutorialByIndex}function t(e){for(var t=i(e),r=t.Steps.length-1;r>0;){var o=t.Steps[r],a=o.Settings.firstInPage;if(a&&n(e,r))return ea("first step for page, step index: "+(r+1)),r;r--}return r}function n(e,t){var n=o(e,t);return n==t}var r=this;r.LocalSVNRevision="$Rev: 4006 $";var o,i;r.findFirstStep=function(e,n,r){if(mc("firststep")&&(!n||0==n)){var i=t(e);if(i>0)return i}return n=n?n:0,o(e,n,void 0,void 0,r)},r.handlePermalink=function(e){return e&&f(e)?(Ui(function(){WalkMeAPI.startWalkthruById({id:parseInt(e),fromStep:0,playInitiator:{type:$s.PERMALINK}})},1),!0):!1},e.apply(null,arguments)}function bt(){function e(e){B(M()),m=e.errorHandler,h=e.userGuid,v=e.terminateTutorialFunction,w=e.restoreStateFunc,y=e.isFeatureEnabled,g=e.resumeAfterUnloadFunc,p=e.getStepFunc,k=e.peekNextCookieStepFunc,R(e.storageManager),L(e.allUserGuids),b=e.topWindow==e.owner,S=e.logger.wrapCustomerLog(Ka)}function n(){S("savining data to resume after unload",3),l(d),j=!0,d=null,r()}function r(){A+=1,setTimeout(function(){S("continue listening after "+C+" milliseconds",3),W(A)},C)}function o(e,t){var n=p(e,t);return null!==n?_makeTutorial.evaluateConditionTree(n.Settings.action.arguments.condition):void 0}function i(){return b}function a(){var e=R().getData(P,!1,h);return e}function s(e){R().saveData(P,e,x,h)}function u(){return d=R().getData(E,!1,h)}function l(e){d=e,R().saveData(E,e,I,h)}var c=new t(this);this.LocalSVNRevision="$Rev: 4006 $";var d,p,g,m,h,v,w,y,b,k,S,T=2e3,I=3600,x=2,C=3e3,D=1100,E="wm-cdplay",P="wm-cdstop",N=this,j=!1,A=0,_=c.Prop.Protected("isRunning",!1),R=c.Prop.Protected("storageManager",!1),L=c.Prop.Protected("allUserGuids",{}),B=c.Prop.Protected("crossDomainSampleRate",{}),M=c.Virtual.Protected("getSampleRate",function(){return 200});c.Public("enabled",function(){return y("cd_play")||y("passOwnership")?!0:!1}),c.Virtual.Public("start",function(){N.enabled()&&(S("starting cross domain listening..."),A+=1,W(A))}),c.Public("stop",function(){A=0}),c.Public("canStartPlaying",function(){return N.enabled()?Il==Us.WAITING_FOR_OWNERSHIP:!0}),c.Virtual.Public("reset",function(){N.enabled()&&(s(!0),q(),Ui(function(){s(!1)},D))}),c.Virtual.Public("switchOwner",function(e,t){N.enabled()&&(S("switching owner..."),l(e),t&&(N.loseOwnership(),O(),R().setSyncFlag(h)))}),c.Virtual.Public("loseOwnership",function(e,t){N.enabled()&&(S("losing ownership..."),_()&&(e&&(S("reset state: reseting the ownership condition"),q()),_(!1),t&&n()))});var O=c.Virtual.Protected("removeOwner",function(){});c.Virtual.Public("walkthruStarted",function(e){e&&e()}),c.Public("handlePermalink",function(e){return e&&f(e)?(Ui(function(){WalkMeAPI.startWalkthruById({id:parseInt(e),fromStep:0,playInitiator:{type:$s.PERMALINK}})},2*B()),!0):!1});var F=c.Virtual.Protected("terminate",function(){S("owner killed, terminating tutorial and losing ownership",3),v(),N.loseOwnership()}),G=c.Virtual.Protected("gainOwnership",function(){S("gaining ownership with state "+Il,3),_(!0),j?(j=!1,g()):(S("ownership granted to: "+Q(),3),w(h))}),Q=c.Virtual.Protected("windowIdentifier",function(){return window.location.href}),W=c.Virtual.Protected("listen",function X(e){S("listening with runId: "+e,5),R().refreshGetData(L(),function(){if(U(e)){var t=a();_()?t&&F():t||!z()&&!H()?t?S("waiting for other owner to die before gaining ownership...",3):j&&(j=!1):G(),Ui(function(){X(e)},V())}})}),U=c.Protected("shouldContinueListening",function(e){return e==A?!0:(S("stop listening...",3),!1)}),V=c.Protected("calculateDomainListenInterval",function(){return j?T:B()}),H=c.Protected("checkOwnership",function(){try{var e=u();if(e)return o(e.stepId,e.tutorialId);if(i())return S("no ownership condition, owner by default",5),!0}catch(t){m(t,"Error determining the owner of a cross domain step")}return!1}),z=c.Protected("isOwnerByPeeking",function(){var e=(y("po_peek")||y("passOwnership"))&&$(k());return e&&S("[passownership] owner by peeking",5),e}),$=c.Protected("isPassOwnershipStep",function(e){return e&&e.Settings&&e.Settings.action?"passOwnership"==e.Settings.action.actionType:!1}),q=c.Protected("resetOwnershipCondition",function(){R().saveData(E,!1,I,h)});e.apply(null,arguments)}function kt(){function e(e){U=e.isFeatureEnabled("po_doubleCheck"),E.Extends(bt,e),A=E._base,A.crossDomainSampleRate(lt()),P=2*A.crossDomainSampleRate(),N=n()?5e3:800,j=n()?2e4:5e3,L=e.errorHandler,R=e.userGuid,B=A.storageManager,M=A.allUserGuids,O=A.isRunning,V=e.logger.wrapCustomerLog(Ka),v()}function n(){var e=la();return ut()||"IE 10"==e||"IE 11"==e}function r(){return A.isOwnerByPeeking()?(st++,st>=it):void(st=0)}function a(){return F?(F--,!0):!1}function s(){A.storageManager().refreshGetData(M(),function(){G=null;var e=D(),t=k(),n=r();!e||_!=e||t&&!n?!n&&t&&t!=_&&C():(V("priority is highest, gaining ownership - "+_,4),S(_),A.gainOwnership())})}function u(e){dt(function(t){var n=parseInt(t,10)||0;V("got priority "+n+" from sessionStorage",4),g(n,function(t){0===n||t?(V((t?"inherited priority from parent":"priority is zero")+", getting a new priority",4),ht(null,e,!0)):(_=n,U?l(e):e&&e())})})}function l(e){g(_,function(t){t?ht(null,e,!0):e&&e()})}function c(){return 0===la().indexOf("IE")}function d(){c()&&f()}function f(){var e=B().getData(et+_,void 0,R);e==tt.checking&&B().saveData(et+_,tt.taken,H,R),Ui(f,z)}function p(e,t){function n(){i&&B().refreshGetData(M(),function(){if(i){var e=B().getData(o,void 0,R);e==tt.taken&&r(!0),Ui(n,nt)}})}function r(e){e=!!e,B().removeData(o,R),i=!1,a&&a.clear(),t&&t(e)}var o=et+e;B().saveData(o,tt.checking,H,R);var i=!0,a=Ui(r,rt);n()}function g(e,t){return e?void(c()||U?(V("checking if priority is inherited using storageManager",4),p(e,t)):(V("checking if priority is inherited using window.opener",4),m(e,t))):void(t&&t(!1))}function m(e,t){function n(e){V("is priority inherited: "+e,4),o&&o.clear(),r&&r(),t&&t(e)}if(window.opener){var r,o,a;r=W.registerEventHandler("message",function(t){try{var r=i(t.data);r.requestType==Z&&(r.priority==e?(F=ot,n(!0)):(a--,0==a&&n()))}catch(o){V("Error in priority inherited message event "+o,4)}}),o=Ui(function(){n(!1)},1e3),a=W.postMessageToAllFramesChain(window.opener,JSON.stringify({requestType:K})),0==a&&n(!1)}else t&&t(!1)}function h(){pt()&&(mtjQuery(window).bind("focus",ht),mtjQuery(window).bind("mouseenter",ht))}function v(){W.registerEventHandler("message",w)}function w(e){var t;try{switch(t=i(e.data),t.requestType){case J:gt(t.priority);break;case K:e.source.postMessage(JSON.stringify({requestType:Z,priority:_}),"*")}}catch(n){t&&L(n,"error handling priority message from parent")}}function y(e){_=e,ft(_),O()&&(V("is running during set priority - setting current owner",4),S(_)),V("updated priority: "+_,4)}function b(e){var t={requestType:J,priority:e};V("sending priority to all frames: "+e,4),mtjQuery("iframe").each(function(e,n){n.contentWindow.postMessage(o(t),"*")})}function k(){return B().getData(q,!1,R)}function S(e){return V("setting owner to: "+e,4),F=ot,B().saveData(q,e,H,R)}function T(){V("removing current owner",4),B().saveData(q,null,H,R)}function I(){V("register in queue with priority "+_,4),B().addToDictionary(X,_,x(),H,R),(!G||G.cleared)&&(G=Ui(s,P))}function x(){return(new Date).getTime()}function C(){V("po_tabs - clear priorities queue",4),B().saveData(X,null,H,R)}function D(){var e=B().getData(X,!1,R);V("registered priorities: "+o(e),4);for(var t=0,n=N;!t&&j>n;){for(var r in e)e.hasOwnProperty(r)&&(priority=parseInt(r,10),x()-e[r]<n&&priority>t&&(t=priority));n+=P}return t}var E=new t(this);this.LocalSVNRevision="$Rev: 4606 $";var P,N,j,A,_,R,L,B,M,O,F,G,Q,U,V,H=3600,z=300,$="wm-po-p",q="wm-po-r",X="wm-po-q",J="wm-setPriority",Y="priority",K="wm-qp-req",Z="wm-qp-res",et="walkme-priority-check-",tt={checking:1,taken:2},nt=100,rt=700,ot=1,it=10,at=this,st=0;E.Virtual.Public("getPriority",function(){return _});var ut=E.Protected("isSlowerBrowser",function(){var e=la();return"IE 8"==e||"IE 9"==e?!0:!1}),lt=E.Override("getSampleRate",function(){var e=A.getSampleRate();return ut()&&(e*=2),e});E.Override("start",function(){u(function(){h(),d(),A.start()})}),E.Override("reset",function(){at.enabled()&&(F=0,V("reset ownership",4),A.resetOwnershipCondition(),T(),O(!1))}),E.Override("walkthruStarted",function(e){C(),ht(null,e,U)});var ct=(E.Override("listen",function wt(e){A.storageManager().refreshGetData(M(),function(){if(A.shouldContinueListening(e)){var t=k();a()||(O()&&_!=t&&A.terminate(),O()||(!t&&A.checkOwnership()||r()?I():_==t&&ct()&&(A.gainOwnership(),ht()))),Ui(function(){wt(e)},A.calculateDomainListenInterval())}})}),E.Virtual.Protected("shouldRegainOwnership",function(){return A.checkOwnership()}));E.Override("switchOwner",function(e,t){function n(){A.switchOwner(e,t)}t&&C(),U?ht(null,n,U):n()}),E.Override("windowIdentifier",function(){return _+":"+window.location.href}),E.Override("removeOwner",function(){A.removeOwner(),T()});var dt=E.Virtual.Protected("restorePriority",function(e){A.storageManager().sessionGetData(Y,0,R,e)}),ft=E.Virtual.Protected("storePriority",function(e){B().sessionSetData(Y,e,R)}),pt=E.Virtual.Protected("shouldRegisterFocusEvents",function(){return window==top}),gt=E.Virtual.Protected("handleSendPriorityRequest",function(e){V("frame got new priority from parent window: "+e,4),_=e,b(e)}),mt=[],ht=E.Virtual.Protected("updatePriority",function(e,t,n){if(t&&mt.push(t),!Q){var r=_;Q=!0;var o=n?null:_;B().increment($,o,H,R,function(e){e!==_&&(V("updating priority from "+r+" to "+e,4),y(e),vt(e,r));var t=mt;mt=[],Q=!1;for(var n=0;n<t.length;n++)t[n](_)})}}),vt=E.Virtual.Protected("afterUpdatingPriority",function(e){b(e)});e.apply(null,arguments)}function St(){function e(e){l.Extends(kt,e),f=l._base,c=e.logger.wrapCustomerLog(Ka)}function n(){var e=sessionStorage.getItem(p);return c("[po_frames] getting session priorities: "+e,4),e?i(e):void 0}function r(e,t){e&&!a(e)?t&&t(e):f.updatePriority(null,function(e){r(e,t)})}function a(e){return-1!=wmjQuery.inArray(e,s(top))}function s(e){var t=[];try{var n=e._makeTutorial.crossDomainManager.getPriority();e!=window&&n&&t.push(parseInt(n,10))}catch(r){}for(var o=e.frames,i=0;i<o.length;i++)t=t.concat(s(o[i]));return t}function u(e){var t=n();if(c("[po_frames] removing priority "+e+" from session",4),t&&e){var r=wmjQuery.inArray(e,t);r>=0&&(t.splice(r,1),sessionStorage.setItem(p,o(t)))}}var l=new t(this);this.LocalSVNRevision="$Rev: 4013 $";var c,d,f,p="walkme-priorities";l.Override("getPriority",function(){return f.getPriority()||d}),l.Override("restorePriority",function(e){if(c("[po_frames] restoring priority, temp priority is: "+d,4),window==top)f.restorePriority(e);else{var t=n();if(t&&t.length){var i=s(top);t.sort(function(e,t){return e>t?-1:t>e?1:0}),c("[po_frames] used priorities: "+o(t),4);for(var a=0;a<t.length&&!d;a++)-1==wmjQuery.inArray(t[a],i)&&(i.push(t[a]),sessionStorage.setItem(p,o(i)),d=t[a])}r(d,e)}}),l.Override("storePriority",function(e){if(e=parseInt(e,10),window==top)f.storePriority(e);else{var t=i(sessionStorage.getItem(p)||"[]");-1==wmjQuery.inArray(e,t)&&t.push(e),c("[po_frames] storing priority "+e+" in the session",4),sessionStorage.setItem(p,o(t))}}),l.Override("afterUpdatingPriority",function(e,t){u(t)}),l.Override("handleSendPriorityRequest",function(){}),l.Override("shouldRegisterFocusEvents",function(){return!0}),l.Override("shouldRegainOwnership",function(){return!0}),e.apply(null,arguments)}function Tt(){function e(){}function t(e){for(var t=h(cu),n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function n(){c||(c=!0,ea(l("Started watching stickies with identifiers:{0}",o(m(u))),1,ts),Ui(r,a))}function r(){wmjQuery.each(u,function(e,t){i(t)});var e=d(u);e>0?Ui(r,a):c=!1}function i(e){var t=e.shouldDrawFunction(),n=l("handleStickinessTypes, stickyIdentifier={0}. stickinessType={1}. shouldDraw={2}",e.identifier,e.stickinessType,t);if(ea(n,3,ts),t){var r=e.redrawFunction();r&&e.stickinessType==cu.soft&&(ea(l("Sticky with identifier {0} was drawn and removed from stickies list",e.identifier),3,ts),delete u[e.identifier])}}this.LocalSVNRevision="$Rev: 3369 $";var a=2e3,s=this,u={},c=!1;s.registerSticky=function(e){return t(e.stickinessType)?(ea(l("registerSticky for sticky with identifier {0}: stickinessType={1}",e.identifier,e.stickinessType),1,ts),u[e.identifier]=e,void n()):void ea(l("Sticky with id={0} has an invalid stickiness type={1}",e.identifier,e.stickinessType),1,ts)},e.apply(null,arguments)}function It(){function e(e){E=e.lib,P=e.cdnServer,j=e.clickAuditManager,R=E.Logger.wrapCustomerLog(us)}function t(e){var t=_a(null,!1);n(t,e),E.centerElementInPage(N,!1)}function n(e,t){var n=d(t);N=mtjQuery(n),k.registerResizeAndScrollEvents({element:N,eventNameSuffix:W});var i=c(N);k.centerElementInParent(i,N),i.css("left","0"),f(N,t),E.getUiUtils().setLangAttribute(N);var a=g();N.append(a),m(t,e),h(),v(e);var u=L.createContentElement(t);u.hide();var l=s(u);N.append(l),u.load(function(){o(!0),c(N).remove(),u.show()}),e.append(N);var p=wmjQuery("#"+Q);p.click(function(){var e=u.get(0);e.src=e.src,c(N).show(),o(!1),r()}),k.centerElementInParent(p,N),p.css("left","0"),r()}function r(){A=Ui(a,q),_=Ui(i,X)}function o(e){_&&_.clear(),A&&A.clear();var t=wmjQuery("#"+Q),n=wmjQuery("#"+G);e?(t.remove(),n.remove()):(t.css("display","none"),n.css("display","none"))}function i(){wmjQuery("#"+Q).css("display","block"),_.clear(),c(N).hide()}function a(){var e=wmjQuery("#"+G);k.centerElementInParent(e,N),e.css("left","0"),e.css("display","block"),A.clear()}function s(e){var t=/iPhone|iPod|iPad/.test(navigator.userAgent);return t?u(e):e}function u(e){var t={width:e.attr("width"),height:e.attr("height"),overflow:"auto","-webkit-overflow-scrolling":"touch"},n=wmjQuery("<div />").css(t);return n.append(e),n}function c(){var e=mtjQuery("#"+F,N);return e}function d(e){var t=L.getDimensionSize("width",e),n=L.getDimensionSize("height",e),r=parseFloat(t)+4,o="<div id='{{lightboxDivId}}' style='float:left; width:{{lightboxWidth}}px; height:{{lightboxHeight}}px; padding: 2px; z-index:{{zIndex}}; background-color:white; box-shadow:4px -4px 19px -1px #494949;'><div id='{{lightboxTopbarDivId}}' style='position: absolute; top: -23px; left: 0px; height: 25px; width: {{topbarWidth}}px; background-color:#646464;'></div><div id='{{ajaxLoaderDivId}}' style='background:url({{{cdnServer}}}/player/resources/images/ajax-loader_v2.gif) no-repeat center;width:100%; height:100px; position:relative; text-align:center; vertical-align: bottom; margin-top: -30px;'><span style='display: inline-block; color: #99d3fe; font-size: 14px; font-family: Arial; font-weight: bold; margin-top: 108px;'>Loading</span></div><div id='{{reloadDivId}}' style='display: none; direction: ltr; cursor: pointer; position: relative; text-align: center; margin-top: -20px; color: #168dce; font-size: 14px; font-family: Arial;'><img style='vertical-align: -11px; margin-right: 3px' src='{{{cdnServer}}}/player/resources/images/reload.png' />Reload Page</div><div id='{{waitingDivId}}' style='display: none; font-size: 14px; font-family: Arial; color: #464646; text-align: center; position: relative; font-weight: bold;'>This is taking longer than expected</div></div>",i=bs.to_html(o,{lightboxDivId:M,lightboxWidth:t,lightboxHeight:n,zIndex:uu,lightboxTopbarDivId:O,topbarWidth:r,ajaxLoaderDivId:F,waitingDivId:G,reloadDivId:Q,cdnServer:P});
return i}function f(e){var t=l("walkme-{0}-light-box-{1}",L.getContentTypeName(),e.Id);N.addClass(t),N.addClass("walkme-to-remove"),N.addClass("walkme-to-destroy")}function p(e,t){var n=t?"#404040":"#646464";e.css("backgroundColor",n)}function g(){var e="walkme-light-box-x-button",t=l("<div id={0} title='Close' style='position:absolute; height: 17px; width: 17px; right: 5px; top: -19px; cursor: pointer; z-index: 2147483632; vertical-align: top;'><img src='{1}/player/resources/images/blue-x-button.png' style='margin: 4px;' /></div>",e,P),n=mtjQuery(t);return n.click(w),n.mouseover(function(){p(n,!0)}),n.mouseout(function(){p(n,!1)}),n}function m(e,t){if(L.needsNewTabButton()){var n="walkme-open-in-new-tab-button",r=l("<div id={0} title='Open in a new tab' style='position:absolute;height:17px; width:17px; right:25px; top:-19px; cursor:pointer; z-index:2147483632; vertical-align: top;'><img src='{1}/player/resources/images/open-in-new-tab.png' style='margin: 4px;'></div>",n,P),o=mtjQuery(r);o.click(function(){L.removeContent(t),T(e)}),o.mouseover(function(){p(o,!0)}),o.mouseout(function(){p(o,!1)}),N.append(o)}}function h(){var e=U.canDisplayOverlay();if(e){var t=U.displayOverlay(uu,!1,z);t.click(function(){L.removeContent()})}}function v(e){e.bind($,function(e){27==e.keyCode&&L.removeContent()})}function w(){L.removeContent()}function y(e){var t=mtjQuery("#"+M,e);t.find("iframe").attr("src",""),t.remove(),k.removeScrollAndResizeEvents(W)}function b(){mtjQuery("#"+z).remove()}function S(e){e.unbind($)}function T(e){E.getCommonUtils().isValidUrl(e.Url)?(R(l("Opening content in new tab. Url: {0}",e.Url)),window.open(e.Url,"_blank")):R(l("Content url is invalid: {0}",e.Url))}function I(){throw"activateContentInWidget is unimplemented"}function x(e){return e+"Unit"}function C(e,t){return ja(e.Settings,t,"px")}function D(e){return settingKey="height"==e?H:V}this.LocalSVNRevision="$Rev: 3982 $";var E,P,N,j,A,_,R,L=this,B="ContentPlayMode",M="walkme-content-light-box",O="walkme-content-light-box-top-bar",F="walkme-ajax-loader",G="walkme-ajax-taking-long",Q="walkme-ligth-box-reload",W="walkmeLightBox",V="LightboxWidth",H="LightboxHeight",z="walkme-content-background",$="keyup.walkme",q=8e3,X=15e3;L.getContentTypeName=wt.WM_PURE_VIRTUAL(),L.createContentElement=wt.WM_PURE_VIRTUAL(),L.needsNewTabButton=wt.WM_PURE_VIRTUAL(),L.defaultLightboxSize=wt.WM_PURE_VIRTUAL(),L.cannotPlayInLightbox=function(e){var t=0==window.location.href.indexOf("https://")&&0!=e.indexOf("https://");return t&&R("Can't play content in lightbox"),t},L.activateContent=function(e){var n=parseInt(ja(e.Settings,B,qs.NewTab));switch(R(l("Started playing content, play mode is :{0}",n)),j.SendClickAudit(nu.Content,e.Id,e.userGuid),e.Url=jd(e.Url,["&"]),R(l("Content url is :{0}",e.Url)),bo("ContentUrl",{url:e.Url}),n){case qs.Widget:I(e);break;case qs.LightBox:L.cannotPlayInLightbox(e.Url)?(R("Falling back to playing content in a new tab instead"),T(e)):t(e);break;case qs.NewTab:T(e)}},L.removeContent=function(e){e||(e=_a(null,!1)),o(!1),y(e),b(),S(e)},L.getLightboxSizeInPixels=function(){return{width:N.css("width").replace("px",""),height:N.css("height").replace("px","")}},L.getDimensionSize=function(e,t){var n=L.defaultLightboxSize(),r=x(e),o=C(t,r),i=D(e),a=ja(t.Settings,i,n[e]);if("%"==o){var s=k.getWindowSize();a=s[e]*a/100}return a},e.apply(null,arguments)}function xt(){function e(e){wt.extend(u,It,e),c=e.lib,i=e.vendorName,a=e.videoId,s=c.Logger.wrapCustomerLog(us)}function t(e){var t=n(e),r=l("[{0} {1}]{2}[/{3}]",i,t,a,i),o=c.parseBBCode(r),s=mtjQuery(o);return s}function n(e){var t=ja(e.Settings,d,"");return t=r(t,e),t+=' wmode="opaque"'}function r(e){e=e.replace(/&quot;/gi,'"'),e=e.replace(/((width|height)="[^\\"]+)"/gi,"");var t=o();return e+=" "+t}function o(){var e=u.getLightboxSizeInPixels(),t=l('width="{0}" height="{1}"',e.width,e.height);return t}this.LocalSVNRevision="$Rev: 3653 $";var i,a,s,u=this,c=null,d="VideoParameters",f=420,p=315;u.getContentTypeName=function(){return"video"},u.createContentElement=function(e){return t(e)},u.needsNewTabButton=function(){return!1},u.defaultLightboxSize=function(){return{width:f,height:p}},e.apply(null,arguments)}function Ct(){function e(e){wt.extend(r,It,e),o=e.lib,n=o.Logger.wrapCustomerLog(us)}function t(e){if(o.getCommonUtils().isValidUrl(e.Url)){var t=r.getLightboxSizeInPixels(),n='<iframe frameborder="0" src="{{{url}}}" style="width: {{{width}}}px; height: {{{height}}}px;"></iframe>',i=bs.to_html(n,{width:t.width,height:t.height,url:encodeURI(e.Url)}),a=mtjQuery(i);return a}}this.LocalSVNRevision="$Rev: 3653 $";var n,r=this,o=null,i=900,a=500;r.getContentTypeName=function(){return"article"},r.createContentElement=function(e){return t(e)},r.needsNewTabButton=function(){return!0},r.defaultLightboxSize=function(){return{width:i,height:a}},e.apply(null,arguments)}function Dt(e,t,n,r){function i(){m=n.Logger.wrapCustomerLog(v)}function a(e,t){return y+"-"+e+"-"+t}function s(e){return w+"-"+e}function u(r,o,i,u){if(!r)return void u(-1);var f=t.getEndUserGuid(!0);if(f===!1)return m("WalkMe ABTesting - Cannot retrieve end user. Stopping execution",1),void n.removeWalkMe("AbTesting - Cannot fetch EndUser");var h,v=s(f),w=null!=i,y=p(r,o),S=c(v,y);if(void 0!=S&&!w)return b=S,m("using permutation from storage: "+S,1),void u(S);if(w){k=!0;var T=l(f,i,S);if(!T)return m("using permutation from activation rule: "+i,1),b=i,void u(i);m("got permutation from activation rule: "+i,2),h=i}else h=g(r),m("permutation was drawn: "+h,1);m("sending permutation id to server: "+h,2);var I=o?o.PermutationId:void 0;d(f,h,y,I,w,function(t){if(m("server returned permutation id : "+t,2),m("saving permutation in storage : "+t,3),e.saveData(v,t,nc),w){m("Activation rule was used.",2);var n=a(f,i);e.saveData(n,1,nc),b=h}else b=t;m("Final permutation: "+b,1),u(b)})}function l(t,n,r){if(r==n)return!1;var o=a(t,n);return 1!=e.getData(o)}function c(t,n){var r=parseInt(e.getData(t));if(!isNaN(r)){if(ba(r,n)>-1)return m("permutation exists in storage: "+r,1),r;m("permutation exists in storage but was out of date: "+r,1)}return void m("no valid permutation exists in storage",2)}function d(e,t,n,i,a,s){var u=wl.execute({url:r.get()+"/AbTesting/SaveEndUserPermutation",dataType:"jsonp",data:{endUser:e,walkmeUserGuid:al,source:aa(),permutationId:t,isForcedPermutation:a,availablePermutationsSerialized:o(n),browser:la(),os:da(),timeout:S,defaultPermutation:i}});u.success(function(e){"error"===e?f():s(e)}),u.error(function(){f()})}function f(){m("WalkMe ABTesting - Error when saving end-user permutation. Removing WalkMe",1),n.removeWalkMe("AbTesting - Cannot fetch EndUser Permutation")}function p(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r].PermutationId);return t&&n.push(t.PermutationId),n}function g(e){for(var t=0,n=Math.random(),r=0;r<e.length;r++)if(t+=e[r].Percentage,t>=n)return e[r].PermutationId;return e[e.length-1].PermutationId}this.LocalSVNRevision="$Rev: 4006 $";var m,h=this,v="ABTesting",w="wm-ABPer",y="wm-frcd",b=-1,k=!1,S=1e4;h.initGetPermutation=function(e,t,n,r){u(e,t,n,function(e){b=e,r(e)})},h.getPermutation=function(){return b},h.getPermutationById=function(e,t){for(var n=0;n<e.length;n++)if(e[n].PermutationId==t)return e[n];return!1},i.apply(null,arguments)}function Et(){function e(e){s=e.deployablesGoalManager,l=e.experiments,a=e.lib,d=e.getEndUserGuid,c=a.Logger.wrapCustomerLog(g),u=new ut({lib:a,serverAddress:e.serverAddress,getPermutationId:e.getPermutationId,getEndUserGuid:e.getEndUserGuid,getAuditSource:e.getAuditSource,storageManager:e.storageManager})}function t(e){return ba(e,p)>-1}function n(e,t){for(var n=[],r=[],o=0;o<e.Goals.length;o++){var i=e.Goals[o];ba(i.Id,t)>-1?n.push(i):r.push(i)}e.Goals=r,e.CompletedGoals=n}function r(e){for(var t=0;t<l.length;t++){var r=l[t];n(r,e)}}function o(e,t,n){for(var r=0;r<e.length;r++)for(var o=e[r],i=0;i<o.Goals.length;i++){var a=o.Goals[i];t.push(a.Id),1==a.IsLinkedGoal&&n.push(a.Id)}}function i(e,t){r(e);for(var n=0;n<l.length;n++){var o=l[n];c("Start watching Experiment goals. ExperimentID : "+o.Id,2),s.startWatchingDeployable(o,void 0)}t&&t()}this.LocalSVNRevision="$Rev: 3656 $";var a,s,u,l,c,d,f=this,p=[],g="ABTesting",m=function(e){if(e.GoalType==nu.AbExperiment||t(e.Id)){var n=d(),r=u.syncRetrieveCompletedGoals(n);-1==ba(e.Id,r)&&(c("Experiment Goal was completed! Goal ID:"+e.Id+", Goal Name : "+e.Name,1),u.updateGoalCompleted(n,e.Id))}},h=!1;this.startWatching=function(e){if(!h){h=!0;var t=[];if(o(l,t,p),0==t.length)return c("No AbTesting goals were defined"),void(e&&e());s.onGoalCompleted(m);var n=d(),r=u.syncRetrieveCompletedGoals(n);r?(c("Completed goals data exists. Starting goals watch"),i(r,e)):(c("No completed goals data exists locally. Fetching from server"),u.asyncRetrieveCompletedGoals(n,t,function(t){c("Completed goals data recieved. Starting goals watch"),i(t,e)},function(){c("WalkMe ABTesting - Error when fetching end-user goals. Removing WalkMe",1),a.removeWalkMe("AbTesting - Cannot fetch EndUser Goals")}))}},f.isGoalReached=function(e){for(var t=u.syncRetrieveCompletedGoals(d()),n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},e.apply(null,arguments)}function Pt(e,t){function n(){y=e.Logger.wrapCustomerLog(is)}function r(e){switch(e){case 0:return 0;case 1:return 1.45;case 2:return 3;default:return 1.45}}function o(e){var t=[],n=$c(e.ElementDescription.extended.xpathArray);return n&&t.push(n),t}function i(e,t){function n(e){for(var n=0;n<r.length;n++)if(r[n](e,t.ElementDescription))return!1;return!0}var r=Q(t),o=gd(e,n);return o}function a(e,t,n){var r,o=!1,i=[],a=cd(e,function(e){if(o)return 0;if(0==e.weight)return 0;var r=e.func(t,n);return r==Ws&&(o=!0),r*e.weight});return o?(W([t],"pink"),r=Ws):r=ld(a),{sum:r,scores:i}}function s(e,t,n){for(var r=e.split(t),o=gd(r,function(e){return mtjQuery.trim(e)}),i=cd(o,function(e){return e.split(n)}),a={},s=0;s<i.length;s++){var u=i[s],l=mtjQuery.trim(u[0]),e="";u[1]&&(e=mtjQuery.trim(u[1])),a[l]=e}return a}function u(e,t,n,r){function o(o,i){if(!i[t]||!o.attr(e))return 0;var a=c(i[t],o.attr(e),n,r);return 1==a?1:0}return o.attributeName=e,o}function c(e,t,n,r){var o=s(e,n,r),i=s(t,n,r),a=0,u=0;for(var l in o)o.hasOwnProperty(l)&&(u++,o[l]==i[l]&&a++);return a/u}function d(e){var t=[];return 0==e.IgnorePosition&&t.push(new N(G,1)),t.push(new N(B,1),new N(F,.7),new N(j("src","src"),3),new N(j("alt","alt"),1),new N(u("class","class"," "),.7),new N(u("style","style",";",":"),.5),new N(j("colspan","colspan"),.3),new N(j("cellpadding","cellpadding"),.3),new N(j("cellspacing","cellspacing"),.3),new N(j("border","border"),.3),new N(j("dir","dir"),.3),new N(j("width","width"),.3),new N(j("value","value"),10),new N(j("placeholder","placeholder"),3),new N(j("data-walkmeid","data-walkmeid"),1e3),new N(f("href","href","#"),3)),e.IsIgnoreId||(t.push(new N(j("id","elementId"),10)),t.push(new N(j("name","elementName"),8))),e.IsIgnoreText||(t.push(new N(M,3)),t.push(new N(j("title","title"),3))),t}function f(e,t,n){function r(e,r){return r[t]==n?0:o(e,r)}var o=j(e,t);return r.attributeName=e,r}function p(e){return R(null,"data-walkmeid",e.ElementDescription["data-walkmeid"],"",e.ElementDescription.extended.elementIframe)}function g(e,t){var n=e.attr("id");return n&&n.length>0&&n.length<30&&n!=t.elementId?!0:void 0}function m(e){if(1==e.length)return null;for(var t=e.length-2;t>=0&&("iframe"!=e[t].tag&&"frame"!=e[t].tag);t--);if(0>=t)return null;var n=e.slice(0,t+1),r=$c(n);return mtjQuery(r).is(":mt_visible")||(r=!1),r?r:h(e,null)}function h(e,t){for(var n=0;n<=e.length-1&&("iframe"!=e[n].tag&&"frame"!=e[n].tag);n++);if(n>=e.length-1)return t;var r,o=e.slice(0,n+1),i=e.slice(n+1);if(r=t?mtjQuery("iframe,frame",Aa(t)):mtjQuery("iframe,frame"),r=r.filter(":mt_visible"),0==r.length)return!1;var a=td(r,function(e){var t=ud(e);return id(sd(new va,t,t.length-1,o,o.length-1))});return t&&t.length>0&&mtjQuery(a).data("iframe",t),h(i,mtjQuery(a))}function v(e){var t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;return null!=t.exec(e)}function w(e){var t=e.charCodeAt(0),n=t.toString(16).toUpperCase(),r=n.length>2,o="\\"+(r?"u":"x")+("0000"+n).slice(r?-4:-2);return o}var y,b=this;b.LocalSVNRevision="$Rev: 4006 $",b.findElement=function(t,n,o){try{if(ro(t))return pa();if(go(t))return ao(t).isValid();var s=t.ElementDescription,u=r(t.StepSensitivity);y(t,5);var l=!1,c=k(t,n);if(t.IsJquerySelector&&c.length>0)return c[0];W(c,"red"),c=i(c,t),W(c,"yellow");var f=d(t),p=cd(c,function(e){return[a(f,e,s),e]}),g=ed(p,function(e){return e[0].sum});return g&&o&&(o.score=g[0].sum,o.details=g[0].scores),g&&g[0].sum>u?(l=g[1],W([l],"green")):g&&(W([g[1]],"black"),o&&(o.score=g[0])),l}catch(m){e.Logger.error(m)}};var k=function(e,t){E(e.ElementDescription);var n=[];e.IsJquerySelector||(n=x(e,t));for(var r=S(e,n),o=[],i=0;i<r.length;i++){var a=r[i];P(a(e,n,t),o)}return pd(o,function(t){t.data("iframe",e.ElementDescription.extended.elementIframe)}),o},S=function(e,t){var n=[];return ha(e.ElementDescription["data-walkmeid"])?n=[p]:(n=[T],n.push(t.length<2e3?C:o),e.IsIdentifyByText?n=[D]:e.IsJquerySelector?n=[A]:e.IsIdentifyById?(n=[_],n.push(I)):(e.IsIgonreId||(n.push(_),n.push(I)),e.IsIgnoreText||n.push(D)),n)},T=function(e,t){return R(t,"src",e.ElementDescription.src,e.ElementDescription.extended.elementType,e.ElementDescription.extended.elementIframe)},I=function(e,t){return R(t,"name",e.ElementDescription.elementName,e.ElementDescription.extended.elementType,e.ElementDescription.extended.elementIframe)},x=function(e,t){var n=e.ElementDescription.extended.elementType.replace(":","\\:");(void 0==t||t)&&(n+=":mt_visible");var r;return r=e.ElementDescription.extended.elementIframe?mtjQuery(n,Aa(e.ElementDescription.extended.elementIframe)):mtjQuery(n)},C=function(e,t){for(var n,r=[],o=0;o<t.length;o++)n=ad(t[o],e.ElementDescription),n.NumNodeRemove<=Qs&&r.push(t[o]);return r},D=function(t,n){if(!t.ElementDescription.textArray||0==t.ElementDescription.textArray.length)return[];var r=gd(n,function(n){var r=e.getElementTextArray(n);if(t.ElementDescription.textArray.length>0&&r.length>0){var r=r[0],o=t.ElementDescription.textArray[0];return o=jd(o,["&",'"',"'",">","<"]),r==o}return!1});return r},E=function(e){var t=zc(e.elementXpath),n=m(t),r=t[t.length-1].tag;e.extended=new Object,e.extended.xpathArray=t,e.extended.xpathArrayToIframe=L(t),e.extended.xpathArrayToIframeNoBodyAndHtml=wa(e.extended.xpathArrayToIframe),e.extended.elementIframe=n,e.extended.elementType=r},P=function(e,t){for(var n=0;n<e.length;n++)t.push(mtjQuery(e[n]))},N=function(e,t){this.func=e,this.weight=t},j=function(e,t){function n(n,r){return r[t]&&n.attr(e)&&r[t].length>0&&n.attr(e)==r[t]?1:0}return n.attributeName=e,n},A=function(e,n,r){if(void 0==e.JquerySelector)return[];var o=e.JquerySelector;o=o.replace(/&quot;/gi,'"'),o=o.replace(/&apos;/gi,"'"),o=o.replace(/&#39;/gi,"'"),o=o.replace(/&amp;/gi,"&"),o=o.replace(/&gt;/gi,">");var i,a="context:",s=",element:",u="func:";if(ma(o,a)){var l=o.substr(a.length),c=l.substr(l.indexOf(s)+s.length);l=l.substr(0,l.indexOf(s));var d=mtjQuery(l);if(!(d.length>0))return[];e.ElementDescription.extended.elementIframe="IFRAME"==Ua(d[0])?d:!1,d=d.contents(),i=mtjQuery(c,d),y("jQuery selector found these elements:",5),y(m,5)}else if(ma(o,u))try{var f=o.substr(u.length),p=mtjQuery.parseJSON(f),g=Qa(p);g.iframe&&(e.ElementDescription.extended.elementIframe=mtjQuery(g.iframe));var m=mtjQuery(g.result);return(void 0==r||r)&&(m=m.filter(":mt_visible")),y("func selector found these elements:",5),y(m,5),m}catch(h){return rc?(console.log("Using jQuery selector with function raised an exception:"),console.log(h)):(y("Using jQuery selector with function raised an exception:"),y(h)),[]}else{var v=t.getJqueryFindElementObject(o);i=t.findjQueryElement(v,e)}return i.length>0&&(void 0==r||r)&&(i=i.filter(":mt_visible")),y("jQuery selector found these elements:",5),y(i,5),i},_=function(e,t){return R(t,"id",e.ElementDescription.elementId,e.ElementDescription.extended.elementType,e.ElementDescription.extended.elementIframe)},R=function(e,t,n,r){if(!n)return[];var o,i=l("{0}[{1}='{2}']",r,t,n);return o=e?mtjQuery(e).filter(i):mtjQuery(i),cd(o,mtjQuery)},L=function(e){if(1==e.length)return null;for(var t=e.length-2;t>=0&&("iframe"!=e[t].tag&&"frame"!=e[t].tag);t--);if(0>=t)return e;var n=e.slice(t+1);return n},B=function(e,t){var n=ad(e[0],t);if(n.NumNodeRemove>Qs)return 0;var r=1-.1*(n.NumNodeRemove+n.SumNodeDiff/10);return 0>r?0:r},M=function(t,n){void 0===n.textArray&&O(t,n);var r=e.getElementTextArray(t[0]),o=n.textArray;if(r&&o){var i=o[0],a=r[0];return i=jd(i,["&",'"',"'",">","<"]),i==a?1:0}return 0},O=function(e,t){var n=mtjQuery(e).text();return n=mtjQuery.trim(n),descriptionText=mtjQuery.trim(t.elementText),n.length>0&&n==descriptionText?1:0},F=function(e,t){var n=["div","table","tr","td","tbody","th"];if(-1==ba(t.extended.elementType,n))return 0;var r=e.width(),o=e.height();if(r*o!=0){var i=U(r,t.elementWidth)/2,a=U(o,t.elementHeight)/2,s=i+a;return s>=.6?s:0}return 0},G=function(e,t){var n=t.relativeLeft,r=Ed(e),o=Math.abs(n-r),i=t.centeredElementWidth;if(i){var a=i/5;if(a=30>a?30:a,o>a)return 0;var s=1-o/20,u=t.elementAbsY,l=mtjQuery(e).offset().top,o=Math.abs(u-l),c=1-o/20,d=.3;s>.9&&(d=.9);var f=s*(1-d)+c*d;return 0>f?0:f}return 0},Q=function(e){var t=[];return e.IsJquerySelector||e.IsIdentifyByText||ha(e.ElementDescription["data-walkmeid"])?t:(e.IsIgnoreId||t.push(g),t)},W=function(){};b.escapeSurrogatePairs=function(e){if(!v(e))return e;for(var t=-1,n=e.length,r="";++t<n;){var o=e.charAt(t);r+=/[\uD800-\uDBFF]/.test(o)||/[\uDC00-\uDFFF]/.test(o)?w(o):o}return r};var U=function(e,t){var n=e/t;n>1&&(n=1/n);var r=Math.pow(n,4);return r};n.apply(null,arguments)}function Nt(){function e(){}function t(){if(s){for(var e=[],n=0;n<u.length;n++)try{r(u[n],n)}catch(o){e.push(n)}for(var n=e.length-1;n>=0;n--)u.splice(n,1)}u.length&&Ui(t,3e3)}function n(e){return e.nextAll(a).length>0}function r(e,t){var r=e.parent(),i=r.contents().length;n(e)||o(e[0])+t+1==i||e.appendTo(r)}function o(e){for(var t=0;e=e.previousSibling;)t++;return t}var i=this;i.LocalSVNRevision="$Rev: 3404 $";var a=".ui-dialog.ui-widget.ui-widget-content.ui-corner-all.ui-front:visible",s=!0,u=[];i.addElement=function(e){u.length||Ui(t,3e3),u.push(e)},i.removeElement=function(e){var t=wmjQuery.inArray(e,u);-1!=t&&u.splice(t,1)},i.setState=function(e){s=e},e.apply(null,arguments)}function jt(e,t,n,r){function o(){s=n.error,n.customerLog("Analytics manager was created",3,l)}function i(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,0,0,0),n=Math.floor((t.getTime()-e.getTime())/1e3);return 0==n&&(n=1),n}function a(e,t,n){if(ra()||!Mu)return!0;var o=Mu+"/Analytics/UniqueEndUser",i={userId:e,permutationId:t,endUserGuid:n};r.execute({url:o,data:i})}this.LocalSVNRevision="$Rev: 4054 $";var s,u="wm-ueuT",l="uniqueEndUser",c=this;c.auditUniqueEndUser=function(t,r,o){try{var c=1!=e.getData(u);c&&(a(t,r,o),n.customerLog("auditUniqueEndUser: sent unique user request. userGuid="+t+" permutationId="+r+"endUserGuid="+o,3,l),e.saveData(u,1,i()))}catch(d){s(d,"Failed while auditing unique end users")}},o.apply(null,arguments)}function At(e,t,n,r){function o(){i=e.getUserGuid,a=e.getABPermutationId,s=e.getEndUserGuid}this.LocalSVNRevision="$Rev: 4062 $";var i,a,s,u=this;u.SendClickAudit=function(e,t,n){if(!ra()){var o=n||i(),u=la(),l=da(),c=aa(),d=s(),f=a();wl.execute({url:r.get()+"/Statistics/AddClickAudit",data:{userGuid:o,fullUrl:sa(),source:c,browser:u,os:l,auditType:e,objectId:t,permutationId:f,endUserGuid:d}})}},o.apply(null,arguments)}function _t(e){function t(){}function n(e){return"object"==typeof e&&null!==e}function r(e,t,r){var o;return o=n(e)?l.findjQueryElement(e,t,r):wmjQuery(e,r)}function o(e,t,n){var o=void 0;if(void 0!=e&&(o=r(e,t,n),o.length>0)){var i=Ua(o[0]);"IFRAME"==i||"FRAME"==i?(t&&(t.ElementDescription.extended.elementIframe=o),o=Aa(o)):t&&(t.ElementDescription.extended.elementIframe=!1)}return o}function a(e){return void 0!=e&&mtjQuery.inArray(e,c)>-1?!0:!1}function s(e,t){var n;try{n=e[t]().eq(0)}catch(r){_makeTutorial.Logger.error(r,"runJqueryMethod : element has no method named '"+t+"'"),n=wmjQuery()}return n}function u(e,t){if(void 0!=e.method){var r;r=n(e.method)?e.method.name:e.method,a(r)?t=s(t.eq(0),r):(ea("Unknown jQuery Selector Method : '"+r+"'"),t=wmjQuery())}return t}var l=this;l.LocalSVNRevision="$Rev: 4193 $";var c=["parent","children","next"];l.findjQueryElement=function(e,t,n){try{var i=o(e.context,t,n),a=r(e.element,t,i);return a=u(e,a)}catch(s){return ea("jQuery Element Finder: Could not parse input"),wmjQuery()}},l.getJqueryFindElementObject=function(e){if(e=wmjQuery.trim(e),!ma(e,"{")){var t=new Object;return t.element=e,t}try{return i(e)}catch(n){return null}return null},l.findElementsByjQueryComplexSelector=function(e){e=jd(e,["&",'"',"'",">"]);var t=l.getJqueryFindElementObject(e),n=l.findjQueryElement(t);return n},l.getjQueryElementText=function(t){var n=l.findElementsByjQueryComplexSelector(t);return e.checkElementText(n)},t.apply(null,arguments)}function Rt(){function e(){}function t(e){e.dataType="json"}this.LocalSVNRevision="$Rev: 4193 $";var n,r=this,o=!1;r.setFeatures=function(e,t){o=e,n=t},r.execute=function(e){e.dataType=e.dataType?e.dataType:"jsonp","jsonp"===e.dataType&&(o||n&&na())&&t(e);var r=wmjQuery.ajax(e);return r},e.apply(null,arguments)}function Lt(e){function t(){}function n(){for(var t=e.getUiDataProvider().uiObjectsTree(),n=0;n<t.length;n++)if(r(t[n]))return!0;return!1}function r(e){if("task"==e.type())return!0;var t=e.children();if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++)if(r(t[n]))return!0;return!1}function o(){var e=la();if(-1===e.indexOf("IE"))return!0;var t=e.indexOf(" "),n=e.substring(t+1);if(parseInt(n)>=10)return!0;var r="abTasksIE"+n;return mc(r)?!0:!1}this.LocalSVNRevision="$Rev: 4006 $";var i=this;i.shouldTrackAbTasks=function(){return e.getSiteConfig().TodoListSettings.isActive&&n()?!0:o()},t.apply(null,arguments)}function Bt(e,t){function n(){h=e.wrapCustomerLog(rs)}function r(e,t){for(var n=0;n<e[0].ownerDocument.styleSheets.length;n++)if(e[0].ownerDocument.styleSheets[n][t])return!0;return!1}function o(e,t,n,r){h("Start loading embeded file for font '"+e.name+"'",4),v.push({name:"walkme-"+e.name,tagId:t,head:n}),wmjQuery.ajax({type:"GET",url:r+".js",dataType:"script",cache:!0})}function i(e){for(var t=0;t<v.length;t++)if(v[t].name==e){var n=v[t];return v.splice(t,1),n}}function a(e,n,r,o){h("Start loading eot file for font '"+e.name+"'",4),o+=".eot",isIE8="IE 8"==la(),isIE8&&mc("fixFontsCompatibility")&&(o+="?frame="+t.getFrameIndex(r[0].ownerDocument.parentWindow));var i=bs.to_html(T,{family:"walkme-"+e.name,src:o,weight:"normal",style:"normal"});isIE8?p(i,n,r):f(i,r,e.name,n)}function s(e){e&&(u(top),Ui(function(){s(e-1)},100))}function u(e){try{var t=wmjQuery("head",e.document);p("",w,t),Ui(function(){t.find("#"+w).remove()},100)}catch(n){}for(var r=e.frames,o=0;o<r.length;o++)u(r[o])}function l(e,t,n,r){if(!n&&!r)return void h("Stop Tracking font '"+e.name+"' because we don't have success/fail Callback",4);h("Start tracking font '"+e.name+"'",4);var o=wmjQuery(t.createElement("span")).addClass("walkme-font-tester").important({position:"absolute",top:"-9999px",left:"-9999px",visibility:"hidden","font-family":y,"font-size":"250px","line-height":"normal"}).html((e.dummeyText||b)+"a").appendTo(wmjQuery("body",t).or("html",t)),i=o[0].offsetWidth,a=o[0].offsetHeight,s="walkme-"+e.name;o.important("font-family",s+","+y),c(o,i,a,S,s,n,r)}function c(e,n,r,o,i,a,s){var u=5;h("================================================================================",u),h("Tracking font '"+i+"'",u),h("Comparison tester width: "+n+" === "+e[0].offsetWidth,u),h("Comparison tester height: "+r+" === "+e[0].offsetHeight,u),h("================================================================================",u),n===e[0].offsetWidth&&r===e[0].offsetHeight?0>o?(h("Finished with failure tracking font '"+i+"'",4),e.remove(),s&&s()):t.libSetTimeout(function(){c(e,n,r,o-k,i,a,s)},k):(h("Finished successfully tracking font '"+i+"'",4),e.remove(),a&&a())}function d(){return!!document.createStyleSheet}function f(e,t,n,r,o){try{var i,a=t?t[0].ownerDocument:wmjQuery("body")[0].ownerDocument;o&&(i=g(o,a));var s=void 0===i?a.createStyleSheet(""):a.createStyleSheet("",i);s.cssText=e,s.owningElement.id=r,s.walkmeToRemove=!0,s[n]=!0}catch(u){throw h("Cannot inject style sheet"),u}}function p(e,t,n,r,o){var i,a=n||wmjQuery("head");rc&&mtjQuery("#"+t,a).remove();var s=wmjQuery('<style type="text/css" class="walkme-to-remove">'+(o?"":e)+"</style>");if(t&&s.attr("id",t),r&&(i=a.find("#"+r)),i&&i.exist()?i.first().before(s):a.append(s),o){var u=s.prop("styleSheet");u?u.cssText=e:s.append(e)}return s}function g(e,t){for(var n=t.styleSheets,r=0;r<n.length;r++)if(n[r].owningElement.id==e)return r}var m=this;m.LocalSVNRevision="$Rev: 4006 $";var h,v=[],w="walkme-framesets-fix-id",y="Comic Sans MS",b="QW@HhsXJ",k=50,S=2500,T=function(e,t,n){var r=this;return r.b(n=n||""),r.b("@font-face {"),r.b("\n"+n),r.b("font-family: '"),r.b(r.v(r.f("family",e,t,0))),r.b("';"),r.b("\n"+n),r.b("src: url("),r.b(r.v(r.f("src",e,t,0))),r.b(") "),r.s(r.f("format",e,t,1),e,t,0,69,89,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("format('"),n.b(n.v(n.f("format",e,t,0))),n.b("')")}),e.pop()),r.b(";"),r.b("\n"+n),r.b("font-weight: "),r.b(r.v(r.f("weight",e,t,0))),r.b(";"),r.b("\n"+n),r.b("font-style: "),r.b(r.v(r.f("style",e,t,0))),r.b(";"),r.b("\n"+n),r.b("}"),r.fl()};m.font=function(t,n,i,u){n=n||wmjQuery("head"),n.exist()||(e.error("cannot inject font - head element does not exist"),u&&u());var c=n[0].ownerDocument,d=c.documentMode;d||"IE 7"!=la()||(d=7);var f=8==d,p=7==d||f||5==d;if(p&&"widget-font"!=t.name&&!mc("loadAllFonts"))return h("Not loading font '"+t.name+"' (IE7/8), to load all fonts enable the loadAllFonts feature",4),void(i&&i());h("Start loading font '"+t.name+"'",4);var g="wm-font-"+t.id,v=wmjQuery("#"+g,n);if(v&&v.exist())return void l(t,c,i,u);var w=m.getResourcePath(t.url);if(p){if(r(n,t.name))return void l(t,c,i,u);a(t,g,n,w)}else o(t,g,n,w);var y;y=f?function(){mc("highPerf")||s(5),i&&i()}:i,l(t,c,y,u)},m.preloadResources=function(e,t){var n;e=e||wmjQuery("head");for(var r=e[0].ownerDocument,o=r.documentMode,i=8==o,a=0;a<t.length;a++){var n=m.getResourcePath(t[a].url);n+=i?".eot":".js";var s=new Image;s.src=n,s.onload=function(){}}},m.fonts=function(e,t,n,r){var o=e.length,i=!1;if(o||n&&n(),n||r)for(var a=0;a<e.length;a++)m.font(e[a],t,function(){0==--o&&(i?r&&r():n&&n())},function(){i=!0,0==--o&&r&&r()});else for(var a=0;a<e.length;a++)m.font(e[a],t)},m.finishFontLoad=function(e,t){h("finish loading font '"+e+"'",4);for(var n="",r=0;r<t.length;r++)n+=bs.to_html(T,{family:e,src:t[r].src,format:t[r].format,weight:t[r].weight,style:t[r].style});var o=i(e);m.injectCss(n,o.tagId,o.head,e,null,!0)},m.getResourcePath=function(e){return e&&e.indexOf("/")?e:e=Ou+e},m.injectCss=function(e,t,n,r,o,i){d()?f(e,n,r,t,o):p(e,t,n,o,i)},m.refreshContentCss=function(e,t){var n=p(t+" :before,"+t+" :after{content:none !important;}",null,e);Ui(function(){n.remove()},0)},m.emptyStyleSheets=function(){if(d())for(var e=document.styleSheets,t=0;t<e.length;t++)e[t].walkmeToRemove&&(e[t].disabled=!0)},n.apply(null,arguments)}function Mt(e,t,n){function r(){m.isEnabled()&&(ea("UIChangeTracker - trackUIChanges feature enabled. Creating UIChangeTracker",2),o(),i(),a(),s())}function o(){var e=m.getSpaConfigIntValue("hash");e&&(ea("UIChangeTracker - hash config defined. Tracking",2),w=window.onhashchange,window.onhashchange=function(){w&&w.apply(null,arguments),f()})}function i(){var e=m.getSpaConfigIntValue("history");e&&window.history&&window.history.pushState&&(ea("UIChangeTracker - history config defined. Tracking",2),y=window.onpopstate,window.onpopstate=function(){y&&y.apply(null,arguments),f()},b=window.history.pushState,window.history.pushState=function(){b.apply(window.history,arguments),f()})}function a(){var e=g("iframeLoadSelector");e&&(ea("UIChangeTracker - iframeLoadSelector config defined. Listening to iframe load events for "+e,2),wmjQuery(e).on("load.wmSpa",function(){f()}))}function s(){var e=g("clickSelector");e&&(ea("UIChangeTracker - clickSelector config defined. Listening to click events for "+e,2),wmjQuery(document).on("mousedown.wmSpa",e,f),wmjQuery(document).on("click.wmSpa",e,f),wmjQuery(document).on("mouseup.wmSpa",e,f))}function u(){w&&(window.onhashchange=w),w=null}function l(){y&&(window.onpopstate=y),y=null,b&&(window.history.pushState=b),b=null}function c(){var e=g("iframeLoadSelector");e&&wmjQuery(e).off("load.walkmeIFrameLoad")}function d(){var e=g("clickSelector");e&&(wmjQuery(document).off("mousedown.wmSpa"),wmjQuery(document).off("click.wmSpa"),wmjQuery(document).off("mouseup.wmSpa"))}function f(){if(S)return void ea("UIChangeTracker - Canceling uiChange, already waiting for redraw",4);ea("UIChangeTracker - UI change triggered",3),S=!0,_lastRedrawTime=new Date;var t=[];m.getSpaConfigIntValue("dontDestoryBalloons")||(Xi(),t.push(e.releaseBalloons)),m.getSpaConfigIntValue("dontDestoryLaunchers")||t.push(function(t){e.releaseLaunchers(t,void 0,!0)}),Gn({functionsToExecute:t,successCallback:function(){var e=m.getSpaConfigIntValue("redrawTimeout",v);ea("UIChangeTracker - redrawing in "+e,4),h&&(h.clear(),h=void 0),h=Ui(p,e)}})}function p(){S=!1,m.getSpaConfigIntValue("dontDestoryBalloons")||zo(),e.showAllLaunchers();for(var t=0;t<k.length;t++)try{k[t]()}catch(n){}}function g(e,n){var r=n;return t.get().Settings.spaConfig&&(r=ja(t.get().Settings.spaConfig,e,n)),r}var m=this;m.LocalSVNRevision="$Rev: 4081 $";var h,v=300,w=null,y=null,b=null,k=[],S=!1;this.isEnabled=function(){var t=n.isFeatureEnabled("trackUIChanges")&&e.isWalkMeVisible();return t},this.stop=function(){m.isEnabled()&&(u(),l(),c(),d())},m.bind=function(e){k.push(e)},m.unbind=function(e){for(var t=k.length-1;t>=0;t--)if(k[t]===e){k.splice(t,1);break}},m.triggerUIChange=function(){f()},m.getSpaConfigIntValue=function(e,t){return t=void 0===t?0:t,parseInt(g(e,t))},r.apply(null,arguments)}function Ot(){function e(){return n||(n=Xo()),n}function t(t){if(void 0==r){var n=e();r=t&&n.state==Us.NOT_RUNNING||!t&&(n.state==Us.PAUSED||n.state==Us.NOT_RUNNING||Er(n.tutorial,n.step)<0)}return r}var n,r,o,i={clearCache:function(){n=void 0,r=void 0,o=void 0},checkSouldAutoStart:function(n,r){var i=!1;if(!o){var a=ii(n),s=ai(n,!1),u=Tu[n].IsWelcomeStep,l=e();i=!(l.state==Us.RUNNING&&l.step==a)&&t(r)&&(s&&u||Er(n,a)>=a&&!s),o=i||o}return i}};return i}function Ft(){function e(e){t=e}var t,n=this;n.set=function(e){t=e},n.get=function(){return t},e.apply(n,arguments)}function Gt(e){function t(){}var n=this;n.extractSalesForceVars=function(){e.extractSalesForceVars()},t.apply(null,arguments)}function Qt(e,t,n){function r(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var o=n[r].trim();if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}function a(){if(window.UserContext&&window.ApiUtils&&window.ApiUtils.to18CharId){var e=ApiUtils.to18CharId(window.UserContext.userId);if(s(e),e)return e}var t=u();return t?t:void T("No UserContext on window. Can't get userId")}function s(e){e&&t.saveData(D,e,N)}function u(){return t.getData(D)}function l(){var e=t.getData(C);return e?i(e):void 0}function c(e,t){return e&&e[t]}function d(e){if(e.lastModified){var t=(new Date).getTime();if(t-P<e.lastModified)return!1}return!0}function f(e){window.sforce&&window.sforce.connection?(window.sforce.connection.sessionId||p(e),m(e)):b(e)}function p(e){if(!x&&window.sforce){x=!0;var t;if(t=g()?document.cookie.match("sid=([^;]*)")[1]:window.__sfdcSessionId,!t)return T("there is no session id in this page."),void y(e,!0);if(mc("sfCommunity"))sforce.connection.sessionId=t;else{var n="https://"+window.location.host+"/services/Soap/u/29.0";sforce.connection.init(t,n)}m(e)}}function g(){var e="salesforce",t=new RegExp(e+".+com");
return t.test(document.domain)}function m(e){try{var t=sforce.connection.getUserInfo(),r=w(n.get()),o=h(t.userId,r);o=o&&o[0]||[];var i=v(t,j,o,r);y(i)}catch(a){y(e,!0),T(a,5)}}function h(e,t){if(t&&t.length>0){var n="Select "+t.join(",")+" From User Where Id = '"+e+"'",r=sforce.connection.query(n);return r.getArray("records")}}function v(e,t,n,r){for(var o={},i=0;i<t.length;i++){var a=t[i];o[a]=e[a]}for(var i=0;i<r.length;i++){var a=r[i];o[a]=n[a]}return o}function w(e){var t=e.Settings.sfCustomVars;return t||[]}function y(e,t){e?(t||k(a(),e),window.walkme_sf_vars=e,delete window.walkme_sf_vars.lastModified):T("no user data for user: "+a(),5)}function b(e){var t=document.createElement("script");t.src="https://"+document.domain+"/soap/ajax/29.0/connection.js",t.type="text/javascript",t.onload=function(){p(e)},t.onreadystatechange=function(){p(e)},document.getElementsByTagName("head")[0].appendChild(t)}function k(e,n){var r=l();r||(r={}),r[e]=n,r[e].lastModified=(new Date).getTime();var i=o(r);i&&t.saveData(C,i,E)}function S(){T=e.Logger.wrapCustomerLog(ds)}var T,I=this,x=!1,C="wm-sf-users-data",D="wm-sf-lst-usr",E=31536e5,P=864e5,N=86400,j=["userId","organizationId","organizationName","profileId","roleId","userName","userLanguage"];I.extractSalesForceVars=function(){try{var e=r("wm-expirationCookie");e&&(P=parseInt(e));var t=a();if(t){var n=l(),o=c(n,t);!o||d(o)?f(o):y(o,!0)}}catch(i){T("unknown error getting walkmeSfVars: "+i.message)}},S.apply(null,arguments)}function Wt(){function e(e){t=e}this.LocalSVNRevision="$Rev: 2952 $";var t,n=this;n.isGroup=function(e){return e?void 0!==e.LinkedDeployables:!1},n.isSearchEnabled=function(){var e=t.getSiteConfig();return e.Settings&&Number(e.Settings.search)},n.hasChildren=function(e){for(var r=e.LinkedDeployables,o=0;o<r.length;o++){var i=t.getDeployablesManager(r[o].DeployableType),a=i.getById(r[o].DeployableID),s=n.isGroup(a)?n.hasChildren(a):a;if(s)return!0}return!1},n.supportsDeployableType=function(e,t){var n=e.Settings,r=n&&n.DeployableTypes;return r&&-1!=mtjQuery.inArray(t+"",e.Settings.DeployableTypes)?!0:!1},n.hasUncompletedChildren=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!n.properties().hasProperty(Cs.Completed))return!0}return!1},n.isTab=function(e){var t=e.Settings;return t&&t.DeployableTypes},e.apply(null,arguments)}function Ut(){function e(e){t=new Wt(e)}this.LocalSVNRevision="$Rev: 4106 $";var t,n=this;n.generateAll=function(e){e.utils=t;var n=[];return n.push(new Ht(e)),n.push(new zt(e)),n.push(new $t(e)),n.push(new qt(e)),n.push(new Jt(e)),n.push(new Xt(e)),n.push(new Yt(e)),n},e.apply(null,arguments)}function Vt(){function e(e){r(e.lib),o(e.deployable),u(e.utils),l(e.children)}{var n=new t(this),r=(n.Prop.Protected("logger",null),n.Prop.Protected("lib",null)),o=n.Prop.Protected("deployable",null),i=n.Prop.Protected("isLoaded",!1),a=n.Prop.Protected("properties",[]),s=n.Prop.Protected("propertyNames",[]),u=n.Prop.Protected("utils",null),l=n.Prop.Protected("children",[]),c=(n.Protected("prop",function(e){return e.toLowerCase()}),n.Virtual.Public("getAll",function(){return i()||c(),a()}),n.Virtual.Public("hasProperty",function(e,t){return(t||!i())&&c(),-1!=mtjQuery.inArray(e,a())}),n.Virtual.Protected("load",function(){i(!0)}));n.Public("clear",function(){a([]),i(!1)}),n.Protected("generateSingle",function(e,t){var n=t?[e]:[];a(n)}),n.Public("canGenerate",function(e){return-1!=mtjQuery.inArray(e,s())})}e.apply(null,arguments)}function Ht(){function e(e){n.Extends(Vt,e),n._base.propertyNames([])}{var n=new t(this);n.Override("load",function(){var e=n._base.deployable().Settings;if(n._base.properties([]),e&&e.DeployableTypes){for(var t=0;t<e.DeployableTypes.length;t++){var r=n._base.lib().getDeployablesManager(e.DeployableTypes[t]).name();n._base.properties().push(n._base.prop("contains-"+r))}n._base.load()}})}e.apply(null,arguments)}function zt(){function e(e){d.Extends(Vt,e),i=d._base.prop(Cs.Visible),a=d._base.prop(Cs.Invisible),d._base.propertyNames([i,a]),s=d._base.lib(),l=s.getDeployablesManager(nu.Task),u=d._base.utils(),c=d._base.children}function n(e){var t=!1,n=u.supportsDeployableType(e,nu.Tutorial);return n&&u.isSearchEnabled()&&(t=!0),t}function r(e){var t=!0,n=s.getSiteConfig().TodoListSettings,r=u.supportsDeployableType(e,nu.Task);if(r&&n){var o=n.hideComplete&&parseInt(n.hideComplete);if(o&&(t=u.hasUncompletedChildren(c())),t){var i=n.activateCondition;i&&(t=s.evaluateConditionTree(i),i.finalResult=t,bo("TasksConditionEvaluated",s.getSiteConfig(),{isPassed:t}))}}return t}function o(e){var t=!0;return e.deployableType==nu.Task&&(t=l.isTaskDisplayed(e)),e.deployableType==nu.Tutorial&&(t=s.canShowTutorial(e)),(e.deployableType==nu.Content||e.deployableType==nu.Shuttle)&&e.Settings&&e.Settings.DisplayCondition&&(t=s.evaluateConditionTree(e.Settings.DisplayCondition)),t}{var i,a,s,u,l,c,d=new t(this);d.Override("load",function(){var e=!0,t=d._base.deployable();u.isGroup(t)&&(e=u.hasChildren(t)||n(t)),e=e&&r(t),e=e&&o(t),e?d._base.generateSingle(i,!0):d._base.generateSingle(a,!0),d._base.load()})}e.apply(null,arguments)}function $t(){function e(e){d.Extends(Vt,e),d._base.propertyNames([Cs.Completed,Cs.StrikedOut,Cs.Uncompleted,Cs.Active,Cs.Inactive,Cs.ProgressBar]),s=d._base.lib(),u=d._base.deployable(),l=d._base.utils(),c=s.getDeployablesManager(nu.Task)}function n(e,t){if(t){e.push(d._base.prop(Cs.Completed));var n=d._base.lib().getSiteConfig();Number(n.TodoListSettings.strikeOutCompletedTasks)&&e.push(d._base.prop(Cs.StrikedOut))}else e.push(d._base.prop(Cs.Uncompleted))}function r(e,t){e.push(o(t)?d._base.prop(Cs.Active):d._base.prop(Cs.Inactive))}function o(e){var t=c.isTaskActive(u);return e&&!i()&&(t=!1),t}function i(){var e=s.getSiteConfig(!0),t=Number(e.TodoListSettings.allowPlayAfterCompletion);return t}function a(e){if(l.isGroup(e)){var t=l.supportsDeployableType(e,nu.Task);return t}return!1}{var s,u,l,c,d=new t(this);d.Override("load",function(){var e=[];if(u.deployableType==nu.Task){var t=c.isTaskCompleted(u);n(e,t),r(e,t)}else a(u)&&e.push(d._base.prop(Cs.ProgressBar));d._base.properties(e),d._base.load()})}e.apply(null,arguments)}function qt(){function e(e){i.Extends(Vt,e),i._base.propertyNames([Cs.Search,Cs.SearchProviders]),r=i._base.utils(),o=i._base.deployable()}function n(){var e=i._base.lib().getSiteConfig();return e.Settings&&Number(e.Settings.search)}{var r,o,i=new t(this);i.Override("load",function(){var e=[];r.isTab(o)&&r.supportsDeployableType(o,nu.Tutorial)&&(e.push(i._base.prop(Cs.Search)),n()&&e.push(i._base.prop(Cs.SearchProviders))),i._base.properties(e),i._base.load()})}e.apply(null,arguments)}function Xt(){function e(e){i.Extends(Vt,e),n=i._base.deployable(),r=i._base.utils(),i._base.propertyNames([Cs.Default]),o=i._base.children}{var n,r,o,i=new t(this);i.Override("load",function(){var e=W.isTrue(n.Settings,Cs.Default,!1);e&&r.hasUncompletedChildren(o())&&i._base.generateSingle(Cs.Default,!0),i._base.load()})}e.apply(null,arguments)}function Jt(){function e(e){o.Extends(Vt,e),n=o._base.prop(Cs.Video),r=o._base.prop(Cs.Article),o._base.propertyNames([n,r])}{var n,r,o=new t(this);o.Override("load",function(){if(o._base.deployable().deployableType==nu.Content){var e=o._base.lib().getDeployablesManager(nu.Content).types(),t=o._base.deployable().Type;switch(t){case e.Video:o._base.generateSingle(n,!0);break;case e.Article:o._base.generateSingle(r,!0)}}o._base.load()})}e.apply(null,arguments)}function Yt(){function e(e){o.Extends(Vt,e),o._base.propertyNames([Cs.Accessible]),n=o._base.utils(),r=o._base.deployable()}{var n,r,o=new t(this);o.Override("load",function(){var e=!n.isTab(r);o._base.generateSingle(Cs.Accessible,e),o._base.load()})}e.apply(null,arguments)}function Kt(){function e(e,o,a){n=e,r=o,i=a,t()}function t(){var e={lib:n,deployable:r,logger:a.Logger,children:i};o=Ut.generateAll(e)}this.LocalSVNRevision="$Rev: 3105 $";var n,r,o,i,a=this;a.getAll=function(){for(var e=[],t=0;t<o.length;t++)e=e.concat(o[t].getAll());return e},a.clearCache=function(){for(var e=0;e<o.length;e++)o[e].clear()},a.hasProperty=function(e,t){for(var n=0;n<o.length;n++)if(o[n].canGenerate(e)&&o[n].hasProperty(e,t))return!0;return!1},e.apply(null,arguments)}function Zt(){function e(e){t=e.type,r=e.id,o=e.activateFunction,n=e.description,u=e.childNodes,i=e.name,s=e.propertiesGenerator,a=e.keywords?e.keywords:[]}this.LocalSVNRevision="$Rev: 2663 $";var t,n,r,o,i,a,s,u,l=this;l.activate=function(e){o(r,e)},l.children=function(){return u},l.properties=function(e){return e&&s.clearCache(),s},l.type=function(){return t.toLowerCase()},l.name=function(){return i},l.id=function(){return r},l.description=function(){return n||""},l.keywords=function(){return a},e.apply(null,arguments)}function en(e){function t(){}function n(e){var t=parseInt(Pu.get().TodoListSettings[d]),n=parseInt(Pu.get().TodoListSettings[f]);return t?n&&(e=gd(e,function(e){return!r(e)})):e=gd(e,r),e}function r(e){var t=e.Settings.DeployableTypes,n=-1!=wmjQuery.inArray(nu.Task.toString(),t);return!n}function o(t,n){var r=e.getDeployablesManager(t),o=r.getById(n);return o&&(o.deployableType=t),o}function i(t){for(var n=e.getDeployablesManager(t).getAll(),r=0;r<n.length;r++)n[r].deployableType=t;return n}function a(e){e&&e.sort(function(e,t){return e.OrderIndex-t.OrderIndex})}function s(e){if(!e.LinkedDeployables)return null;for(var t=[],n=e.LinkedDeployables,r=0;r<n.length;r++){var i=o(n[r].DeployableType,n[r].DeployableID);i&&t.push(i)}return t}function u(t,n){var r=e.getDeployablesManager(t.deployableType),o=new Zt({type:r.name(),id:t.Id,activateFunction:r.activateById,description:t.Description,childNodes:n,name:t.Name,propertiesGenerator:new Kt(e,t,n),keywords:t.Keywords});return o}function l(e){if(e){for(var t=[],n=0;n<e.length;n++){var r=s(e[n]),o=l(r);t.push(u(e[n],o))}return t}}this.LocalSVNRevision="$Rev: 4006 $";var c=this,d="isActive",f="showOnlyTasksTab";c.uiObjectsTree=function(){var e=i(nu.Collection);e=n(e),a(e);var t=l(e);return t},t.apply(null,arguments)}function tn(){function e(e){r(e.lib),i(e.deployables)}var n=new t(this);this.LocalSVNRevision="$Rev: 2802 $";{var r=n.Prop.Protected("lib"),o=n.Prop.Protected("deployablesDict",{}),i=(n.Virtual.Public("name"),n.Virtual.Public("setDeployables",function(e){if(e)for(var t=0;t<e.length;t++)e[t].Id&&(o()[e[t].Id]=e[t])}));n.Virtual.Public("activateById",function(){}),n.Virtual.Public("getById",function(e){return o()[e]}),n.Public("getAll",function(){var e=[];for(var t in o())e.push(o()[t]);return e})}e.apply(null,arguments)}function nn(){function e(e){n.Extends(tn,e)}var n=new t(this);this.LocalSVNRevision="$Rev: 2182 $";n.Override("activateById",function(){}),n.Override("name",function(){return"Category"});e.apply(null,arguments)}function rn(){function e(e){n.Extends(tn,e)}var n=new t(this);this.LocalSVNRevision="$Rev: 2197 $";n.Override("name",function(){return"Walkthru"}),n.Override("activateById",function(e,t){WalkMeAPI.startWalkthruById({id:e,fromStep:0,playInitiator:t})});e.apply(null,arguments)}function on(e,n,r,o,i,a,s,l,c,d,f,p,g){function m(){k.Extends(tn,{deployables:e,lib:g}),N=k._base.deployablesDict(),E=_makeTutorial.Logger.wrapCustomerLog(ss),E('Initializing TodoListManager (isActive: "'+n+'", serverAddress: "'+r+'", userGuid: "'+i+'", endUserId: "'+a+'")',3),S=new st(r,o,i,s,d,f,p),I=a,x=s,C=l,D=c,n=n&&e&&e.length>0,P.setActiveState(n)}function h(e,t){return e.Index<t.Index?-1:e.Index>t.Index?1:0}function v(e,t){for(var n=0;n<e.Goals.length;n++){var r=e.Goals[n];if(r.Id&&-1===ba(r.Id,t.CompletedGoals))return 0}return 1}function w(e,t){y(e,t)&&P.deactivate()}function y(e,t){for(var n in e){var r=e[n];if(b(r)){var o=t[r.Id];if(!o)return!1;if(!o.IsCompleted)return!1}}return!0}function b(e){return e.Id?e.RelatedDeployableType!==nu.Tutorial?(E("Task (id: "+e.Id+") is of unknown type: "+e.RelatedDeployableType),!1):e.RelatedDeployableId?Tc(e.RelatedDeployableId)?!0:(E("Task (id: "+e.Id+") related Walk-Thru (id: "+e.RelatedDeployableId+") does not exist"),!1):(E("Task (id: "+e.Id+") does not have any related Walk-Thru id"),!1):!1}var k=new t(this);this.LocalSVNRevision="$Rev: 3923 $";var S,T,I,x,C,D,E,P=this,N=null,j=(k.Override("name",function(){return"Task"}),k.Override("activateById",function(e,t){var n=k._base.getById(e),r=k._base.lib().getDeployablesManager(n.RelatedDeployableType),t={type:WalkMeAPI.getPlayInitiatorEnum().TASK,objectId:e};r.activateById(n.RelatedDeployableId,t)}),k.Override("getById",function(e){var t=k._base.getById(e);return t&&b(t)?t:void 0}),k.Public("isTaskCompleted",function(e){var t=P.getCompletedTasks(),n=t?ba(e.Id,t)>-1:!1;return n}),k.Public("isTaskConditionsPassed",function(e){var t=!0;switch(e.RelatedDeployableType){case nu.Tutorial:if(e.RelatedDeployableId){var n=Tc(e.RelatedDeployableId);t=_makeTutorial.canShowTutorial(n)}}return t})),A=k.Public("isTaskActive",function(e){var t=e.Settings;return parseInt(t.ActivateConditionEnabled)?_makeTutorial.evaluateConditionTree(t.ActivateCondition):!0}),_=k.Public("isTaskDisplayed",function(e){var t=e.Settings;return parseInt(t.DisplayConditionEnabled)?_makeTutorial.evaluateConditionTree(t.DisplayCondition):!0});this.loadTasks=function(e,t){if(E("Loading tasks completion data",3),C||D)return E("Preview or Play mode - returning empty tasks completion data",3),w(N,{}),void e({});if(!I)return void P.deactivate();try{var n=function(t){E("Tasks completion data loaded successfully",3),w(N,t),e&&e(t),yo("TasksLoaded")},r=function(e){E("Tasks completion data failed loading",3),P.deactivate(),t&&t(e)};S.asyncRetrieveCompletedTasks(I,P.getTaskGoalsIds(N),n,r)}catch(o){P.deactivate(),x(o,"An error occurred while trying to load completed tasks to the local storage")}},this.getTaskGoalsIds=function(e){var t={};return mtjQuery.each(e,function(e,n){t[e]=n.Goals?mtjQuery.map(n.Goals,function(e){return e.Id}):[]}),t},this.tempClearUserCompletedTasks=function(){I&&S.tempClearUserCompletedTasks(I)},this.getCompletedTasks=function(){if(E("Getting completed tasks",3),C||D)return E("Preview or Play mode - returning empty array of completed tasks",3),[];if(!I)return P.deactivate(),null;try{var e=S.syncRetrieveCompletedTasks(I,P.getTaskGoalsIds(N));if(!e)return null;var t=[];return mtjQuery.each(e,function(e,n){n.TaskId&&n.IsCompleted&&t.push(n.TaskId)}),E("Returning completed tasks ("+t+")",3),t}catch(n){P.deactivate(),x(n,"An error occurred while trying to retrieve completed tasks")}return null},this.updateGoalCompleted=function(e){var t=e.RelatedObjectId,n=e.Id,r=e.Name;if(E("Updating completed goal (taskId: "+t+", goalId: "+n+", goalName: "+r+")",3),To("GoalCompleted",{GoalId:n,GoalName:r}),!ra()){if(C||D)return void E("Preview or Play mode - exiting without updating",3);if(!I)return void P.deactivate();try{{S.asyncRetrieveCompletedTasks(I,P.getTaskGoalsIds(N),function(e){var r=e[t];if(r||(r={TaskId:t,IsCompleted:0,CompletedGoals:[]}),!(r.IsCompleted||ba(n,r.CompletedGoals)>-1)){r.CompletedGoals.push(n);var o=N[t];r.IsCompleted=v(o,r),r.IsCompleted?(r.CompletedGoals=[],yo("TaskCompleted",{TaskId:t})):t=-1,e[r.TaskId]=r,w(N,e),E("Calling server update completed task goal (taskId: "+t+", goalId: "+n+")",3),S.updateTaskCompleted(I,t,n,e,N)}})}}catch(o){P.deactivate(),x(o,"An error occurred while trying to update task completed")}}},this.updateTutorialCompleted=function(e){return E("Updating completed tutorial (tutorialId: "+e+")",3),C||D?void E("Preview or Play mode - exiting without updating",3):I?void mtjQuery.each(N,function(t,n){if(n.Id&&n.RelatedDeployableType===nu.Tutorial&&parseInt(n.RelatedDeployableId)===e&&!(n.Goals&&n.Goals.length>0)){S.asyncRetrieveCompletedTasks(I,P.getTaskGoalsIds(N),function(e){e[n.Id]&&e[n.Id].IsCompleted||(e[n.Id]={TaskId:n.Id,IsCompleted:1,CompletedGoals:[]},w(N,e),E("Calling server update completed task goal (taskId: "+n.Id+", goalId: -1)",3),S.updateTaskCompleted(I,n.Id,-1,e,N))})}}):void P.deactivate()},this.getTasksGoalsNotCompleted=function(){if(C||D)return E("Preview or Play mode - not getting tasks not completed goals",3),[];E("Getting tasks uncompleted goals",3);var e=S.syncRetrieveCompletedTasks(I,P.getTaskGoalsIds(N));e||(e=[]);var t=[];return mtjQuery.each(N,function(n,r){if(r.Id){var o=e[r.Id];if(!o||!o.IsCompleted){var i={TaskId:r.Id,Name:r.Name,GoalsNotCompleted:[]};mtjQuery.each(r.Goals,function(e,t){if(t.Id){var n=o&&o.CompletedGoals?o.CompletedGoals:[];if(-1===ba(t.Id,n)){var r=mtjQuery.extend(!0,{},t);i.GoalsNotCompleted.push(r)}}}),t.push(i)}}}),t},this.getApiTasks=function(e){E("Getting tasks fot the API",3);var t=P.getCompletedTasks();t||(t=[]);var n=[];return mtjQuery.each(N,function(r,o){if(b(o)){var i=t&&ba(o.Id,t)>-1?1:0,a={Index:o.OrderIndex,Name:o.Name,Id:o.Id,IsCompleted:i,Settings:u(o.Settings),Description:o.Description,RelatedDeployableType:o.RelatedDeployableType,RelatedDeployableId:o.RelatedDeployableId};a.TaskProperties=a.Settings,e&&(a.ConditionsPassed=j(o),a.IsActive=A(o),a.IsDisplayed=_(o)),delete a.Settings.ActivateConditionEnabled,delete a.Settings.ActivateCondition,n.push(a)}}),n.sort(h),n},this.isTaskGoalReached=function(e,t){var n=S.syncRetrieveCompletedTasks(I,P.getTaskGoalsIds(N));if(!n)return!1;var r=n[e];return r?r.IsCompleted?!0:-1!==ba(t,r.CompletedGoals):!1},this.isActive=function(){return T},this.setActiveState=function(e){E("Setting todo list active state to: "+e,3),T=e},this.activate=function(){S.asyncRetrieveCompletedTasks(I,P.getTaskGoalsIds(N),function(e){y(N,e)||P.setActiveState(!0)})},this.deactivate=function(){P.setActiveState(!1)},this.toggleActiveState=function(){P.setActiveState(!P.isActive())},m.apply(null,arguments)}function an(){function e(e){n.Extends(tn,e)}var n=new t(this);this.LocalSVNRevision="$Rev: 2150 $";{var r=2e3,o={openMenu:500};n.Override("name",function(){return"Launcher"}),n.Public("getMinClickDelay",function(e){var t=ja(e.Settings,"action",null),n=t.actionType;return void 0!==o[n]?o[n]:r})}e.apply(null,arguments)}function sn(){function e(e){n.Extends(tn,e),r=e.deployablesGoalsManager,o=e.clickAuditManager,i=e.lib}var n=new t(this);this.LocalSVNRevision="$Rev: 3469 $";var r,o,i,a="ShuttlePlayMode",s=100;n.Override("name",function(){return"Shuttle"}),n.Override("activateById",function(e){try{var t=n._base.deployablesDict()[e];t||ea(l("Shuttle with id {0} doesn't exist",e),3),o.SendClickAudit(nu.Shuttle,t.Id,t.userGuid);var u=parseInt(ja(t.Settings,a,qs.SameTab));i.getCommonUtils().isValidUrl(t.DestinationUrl)&&(r.startWatchingDeployable(t,n._base.lib().generateNewPlayGuid(t.Id)),u==qs.NewTab&&window.open(t.DestinationUrl,"_blank"),u==qs.SameTab&&W.libSetTimeout(function(){window.location.href=t.DestinationUrl},s))}catch(c){ea(l("Failed playing shuttle with id {0}. Exception is {1}",e,c),3)}}),e.apply(null,arguments)}function un(){function e(e){o.Extends(tn,e),i=e.cdnServerName,a=e.deployablesGoalsManager,u=e.clickAuditManager}function n(e,t){var n=null;switch(e){case c.Video:var o=r(t.content.Url);o?(t.videoId=o.videoId,t.vendorName=o.vendorName,n=new xt(t)):n=new Ct(t);break;case c.Article:n=new Ct(t);break;default:throw l("Invalid content type : {0}",e)}return n}function r(e){var t,n=/^(?:http|https):\/\/.*youtube\..*v=([\w-]+)/i,r=/^(?:http|https):\/\/.*youtu.be\/([\w-]+)/i,o=/^(?:http|https):\/\/.*youtube.*\/embed\/([\w-]+)/i,i=/^(?:http:\/\/|https:\/\/).*vimeo.*\/([\w-]+)/i,a=[{regex:n,vendorName:"youtube"},{regex:r,vendorName:"youtube"},{regex:o,vendorName:"youtube"},{regex:i,vendorName:"vimeo"}];return wmjQuery.each(a,function(n,r){var o=e.match(r.regex);return o&&o.length>1?(t={videoId:o[1],vendorName:r.vendorName},!1):void 0}),t}var o=new t(this);this.LocalSVNRevision="$Rev: 3469 $";{var i=null,a=null,s=null,u=null,c={Article:0,Video:1},d=(o.Override("name",function(){return"Content"}),o.Override("activateById",function(e){try{var t=o._base.deployablesDict()[e];t||ea(l("Content with id {0} doesn't exist",e),3);var r={lib:o._base.lib(),cdnServer:i,clickAuditManager:u,content:t};d(),s=n(t.Type,r),s.activateContent(t),a.startWatchingDeployable(t,o._base.lib().generateNewPlayGuid(t.Id))}catch(c){ea(l("Failed playing content with id {0}. Exception is {1}",e,c),3)}}),o.Public("removeContent",function(){s&&s.removeContent()}));o.Public("types",function(){return c})}e.apply(null,arguments)}function ln(){function e(e){n.Extends(tn,e)}var n=new t(this);this.LocalSVNRevision="$Rev: 2150 $";n.Override("name",function(){return"Tab"}),n.Override("activateById",function(){});e.apply(null,arguments)}function cn(){function e(e){n.Extends(tn,e)}var n=new t(this);this.LocalSVNRevision="$Rev: 3526 $";n.Override("name",function(){return"Experiments"}),n.Override("activateById",function(){});e.apply(null,arguments)}function dn(e,t,n){function r(){}var o=this;o.LocalSVNRevision="$Rev: 4193 $";var i=0,a=function(){return-1!=n.get().indexOf("https:")},s=function(){return t.get().Settings.UrlWl};o.parse=function(t){function n(e,t){return new RegExp(e,t)}function r(e,t){var n=t.exec(e);return null!=n&&n.length>2?n.splice(0,1):n="",n}function c(e,t,n){var r=d(e,t,n);return g(r,e),r}function d(e,t,n){void 0!=t&&(t=t.replace(/&quot;/gi,'"'));var r=p(t);return m(n,e,r),r}function p(e){for(var t,r={},o=n('([^\\s]+)="([^\\"]+)"',"g");t=o.exec(e);){var i=t[1],a=t[2];r[i]=a}return r}function g(e,t){wmjQuery.each(e,function(n){var r=-1==wmjQuery.inArray(n,t);r&&delete e[n]})}function m(e,t,n){if(void 0!=e)for(var r=0;r<t.length;r++){var o=t[r],i=n[o],a=void 0==i,s=void 0!=e[o],u=a&&s;u&&(n[o]=e[o])}}function h(e){var t=e.replace(R,k);return t}function v(e,t){e=e.replace(/javascript:/gi,""),e=b(e);for(var r in t)e=e.replace(n(r,"g"),t[r]);return e}function w(e){return a()?e.replace("http:","https:"):e}function y(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function b(e){if(e.indexOf("on")<0)return e;for(var t=0;t<X.length;t++)e=e.replace(new RegExp(X[t]+"\\s*=","gi"),"^");return e}function k(e,t,n,o){switch(o&&o.indexOf("[")>-1&&(o=h(o)),(!n||n.indexOf("javascript:")>-1)&&(n=""),t){case"url":return S(e,t,n,o);case"wt":var i=-1,a=n;if(a){var s=a.split(" ");i=s[0],i=f(i)?i:-1,a=s.splice(1,s.length-1).join(" ")}var u=c(q[t],a,{"class":"",style:""}),l=u["class"],d=u.style;return delete u["class"],delete u.style,'<a style="cursor: pointer; '+d+'" class="walkme-custom-bbcode-wt-link walkme-action-start-wt '+l+'" data-walkthru-id="'+i+'"'+A(u)+">"+o+"</a>";case"img":var p=r(n,L);return'<img src="'+o+'"'+(p?' width="'+p[0]+'px" height="'+p[1]+'px"':"")+A(c(q[t],n))+"/>";case"youtube":return E(e,t,n,o,_.Youtube);case"vimeo":return E(e,t,n,o,_.Vimeo);case"wistia":return E(e,t,n,o,_.Wistia);case"b":case"u":case"i":case"table":case"tr":case"th":case"td":case"tbody":case"div":case"span":case"ul":case"li":return"<"+t+A(c(q[t],n))+" data-"+t+"='"+n+"'>"+o+"</"+t+">";case"p":return"<"+t+A(c(q[t],n))+" data-"+t+"=' "+n+"'>"+o+"</"+t+">";case"survey":return'<a data-survey-id="" class="walkme-custom-bbcode-survey" style="cursor: pointer;"'+A(c(q[t],n))+">"+o+"</a>";case"flash":return D(e,t,n,o)}var g=window.walkme_custom_bbcode_parser;if("function"==typeof g){var m=g(e,t,n,o);if(m)return m}return"["+t+(n?"="+n:"")+"]"+o+"[/"+t+"]"}function S(e,t,n,r){var o=n;if(o){var i=o.split(" ");if(!y(i[0],q[t])){var a=i[0];o=i.splice(1,i.length-1).join(" ")}}var s,u=c(q[t],o,{"class":"",style:"",target:"_blank"}),l={classes:u["class"],target:u.target,src:C(a||r),label:r,style:u.style,title:u.title,data:n.substring(Math.max(n.indexOf(" "),0)).replace(new RegExp("^"+a||r),"")};s=u.height&&u.width?T(u,l):x(u,l,B[t]);var d=bs.to_html(s,l);return d}function T(e,t){var n='<span id="walkme-new-window-link-{{{spanId}}}"'+(t.title?' title="{{{title}}}"':"")+'><a class="walkme-custom-bbcode-link {{{classes}}}" style="color: inherit; text-decoration:underline; {{{style}}}" href=# onclick="event.preventDefault ? event.preventDefault() : event.returnValue = false;window.open({{{srcForOpen}}},\'{{{target}}}\',{{{specs}}});" data-url=\''+t.data+"'>{{{label}}}</a></span>",r=i++;t.spanId=r;var o=I(e);return t.specs="'"+o+"'",t.srcForOpen="'"+t.src.replace(/\'/g,"")+"'",n}function I(e){for(var t=["width","height","channelmode","directories","fullscreen","left","top","location","menubar","resizable","scrollbars","status","titlebar","toolbar"],n="",r=t.length-1;r>=0;r--){var o=t[r];e[o]&&(n+=l("{0}={1},",o,e[o].replace(/\'/g,"")))}return n.length>0&&(n=n.substring(0,n.length-1)),n}function x(e,t,n){var r="<a"+(t.title?' title="{{{title}}}"':"")+' target="{{{target}}}" class="walkme-custom-bbcode-link {{{classes}}}" style="color: inherit; text-decoration:underline; {{{style}}}" {{{linkTypes}}}{{{src}}}" data-url=\''+t.data+"'>{{{label}}}</a>";return t.linkTypes=n,r}function C(t){var n=s();if(void 0==n)return t;for(var r=0;r<n.length;r++)if(e.isLike(t,n[r]))return t;return""}function D(e,t,n,r){var o=c(q[t],n,{width:420,height:315}),i='<div class="walkme-custom-flash-wrapper" style="width: {{{width}}}px; height: {{{height}}}px;"><object type="application/x-shockwave-flash" data="{{{swf}}}" allowNetworking="none" allowFullScreen="false" width="{{{width}}}" height="{{{height}}}"><param name="SRC" value="{{{swf}}}"/><param name="allowNetworking" value="none"/><param name="allowFullScreen" value="false"/></object></div>',a=bs.to_html(i,{swf:r,width:o.width,height:o.height});return a}function E(e,t,n,r,o){var i=d(q[t],n,{width:420,height:315});P(i);var a=N(i),s=j(o,t),u=s.url+r+"?"+a,l='<iframe data-{{{vendorName}}}-id="{{{videoId}}}" src="{{{src}}}" frameborder="0" {{{allowFullScreen}}} style="position:relative; width: {{{width}}}px; height: {{{height}}}px;"{{{additionalParams}}}></iframe>',c=bs.to_html(l,{vendorName:s.name,videoId:r,width:i.width,height:i.height,src:u,allowFullScreen:s.allowFullScreen,additionalParams:s.additionalParams});return c}function P(e){var t="autoplay";e[t]&&(e[t]="1")}function N(e){var t="",n=u(e);return delete n.height,delete n.width,wmjQuery.each(n,function(e,n){t+=l("{0}={1}&",e,n)}),t}function j(e,t){var n,r,i,a;switch(e){case _.Youtube:n=w(M[t]),r="youtube",i="allowfullscreen";break;case _.Vimeo:n=w(O[t]),r="vimeo",i="webkitAllowFullScreen mozallowfullscreen allowFullScreen";break;case _.Wistia:n=w(F[t]),r="wistia",i="allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen",a=' allowtransparency="true" scrolling="no" class="wistia_embed" name="wistia_embed"';break;default:o.Logger.error(new Error("Unsupported video vendor "+e))}var s={url:n,name:r,allowFullScreen:i,additionalParams:a};return s}function A(e){var t="";return mtjQuery.each(e,function(e,n){t+=e+'="'+n+'" '}),t=t.replace(/\s+$/,""),t?" "+t:t}var _={Youtube:0,Vimeo:1,Wistia:2};if(t.indexOf("[")<0)return t;var R=n("\\[([a-z][a-z0-9]*)=?([^\\]]+)?]((?:.|[\r\n])*?)\\[/\\1]","g"),L=n("^(\\d+)x(\\d+)[^\\]]*"),B={url:'href="',anchor:'name="',email:'href="mailto: '},M={youtube:"http://www.youtube.com/embed/",flash:""},O={vimeo:"http://player.vimeo.com/video/",flash:""},F={wistia:"http://fast.wistia.net/embed/iframe/",flash:""},G={font:"font-family:$1",size:"font-size:$1px",color:"color:$1"},Q={},W=["title"],U=["style","class"].concat(W),V=["width","height"].concat(U),H=["channelmode","directories","fullscreen","left","top","target","location","menubar","resizable","scrollbars","status","titlebar","toolbar"].concat(V),z=["border","cellspacing","cellpadding"].concat(U),$=["autoplay"].concat(V),q={table:z,tr:U,th:U,td:U,tbody:U,p:U,div:V,span:V,youtube:$,vimeo:$,wistia:$,wt:U,url:H,flash:V,img:W,b:W,u:W,i:W,ul:W,li:W,survey:W},X=["onblur","onchange","onclick","oncontextmenu","oncopy","oncut","ondblclick","onerror","onfocus","onfocusin","onfocusout","onhashchange","onkeydown","onkeypress","onkeyup","onload","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpaste","onreset","onresize","onscroll","onselect","onsubmit","ontextinput","onunload","onwheel"];for(var J in G)Q["\\["+J+"=([^\\]]+)]"]='<span style="'+G[J]+'">',Q["\\[/"+J+"]"]="</span>";var Y=v(t,Q),K=h(Y);return K},r.apply(null,arguments)}function fn(){function e(e,t){s=e,u=t}function t(){W.registerEventHandler("message",function(e){try{var t=i(e.data);"DEBUGGER_LOADED"==t.requestType&&n()}catch(r){ea("Error loading debugger from post message: "+r,4)}})}function n(e){o(e),u.dbgr.shouldClear=e;var t;t||(t=Hn()+"debugger/"+Vn()+"/"),u.dbgr||(u.dbgr={}),u.dbgr.rootPath=t,W.addScript(t+"walkme_debugger.js",null,r)}function r(){ea("Failed loading Walkme Debugger!!!",1);var e=u.dbgr;e&&e.debuggerWasLoaded&&e.debuggerWasLoaded()}function o(){u.dbgr||(u.dbgr={})}function a(){return s.getStorageManagerInstance()}var s,u,l=this,c="wm-dbg",d="wm-dbg-cnf";l.launchDebugger=function(e,t){l.isDebuggerOnWindow()||(e?a().saveData(d,e,tc):a().removeData(d),t&&(u.dbgr||(u.dbgr={}),u.dbgr.debuggerWasLoaded=t),n(!0),W.postMessageDescendantFrames(window.top,JSON.stringify({requestType:"DEBUGGER_LOADED"})))},l.closeDebugger=function(){if(l.isDebuggerOnWindow()){var e=u.dbgr.close;e&&e()}},l.loadDebuggerFromStorage=function(){t(),n()},l.isDebuggerOnWindow=function(){return!!u.dbgr},l.loadDebuggerForEditor=function(){l.closeDebugger(),a().saveData(d,{uiState:"wmd-minimize",noGoals:!0},tc),a().saveData(c,ws.ActiveAndReset,tc)},l.isDebuggerEnalbled=function(){return Pu.get().DebuggerSettings&&"1"==Pu.get().DebuggerSettings.IsInPublish},e.apply(null,arguments)}function pn(){function e(){}function n(e){i(e.stack)}var r=new t(this),o=[];r.Virtual.Public("analyze",function(e){e.bind("stackComplete",n)}),r.Virtual.Public("getData",function(){}),r.Virtual.Public("clearData",function(){}),r.Public("bind",function(e){o.push(e)}),r.Public("unbind",function(e){o=o.filter(function(t){return e!=t})});var i=r.Protected("dispatch",function(e){for(var t=0;t<o.length;t++)try{o[t](e)}catch(n){}});e.apply(null,arguments)}function gn(){function e(e){s.Extends(vn),i=new Tn,i.analyze(e)}function n(){l(),a=Ui(n,u)}function r(e){for(var t=0,n=0;n<e.length;n++){var r=e[n].totalTimeSync();r>t&&(t=r)}return t}function o(e,t){var n=e.totalTimeSync(),r=Math.ceil(100*n/t),o=e.getTraces();tracesString="";for(var i=0;i<o.length;i++)tracesString+=o[i].getName()+": "+o[i].totalTime()+(o[i].isAsync()?" async":"")+", ";console.log(o[0].getName()+": ("+tracesString.substring(0,tracesString.length-2)+")"),console.log(Array(r).join("-")+" (total time: "+n+")")}var i,a,s=new t(this),u=3e3;s.Override("start",function(){n()}),s.Override("stop",function(){a&&(a.clear(),a=null)});var l=s.Override("flush",function(){var e=i.getData();console.log(" ----------------------------------------------\n|                Top Ten Stacks                |\n ----------------------------------------------");for(var t=r(e),n=0;n<e.length;n++)o(e[n],t)});e.apply(null,arguments)}function mn(){function e(e,t,n){a.Extends(vn),o=t,i=n,stacksAnalyzer=new pn,stacksAnalyzer.analyze(e)}function n(e){try{var t=s[e.getName()];t&&i(function(){o(t,r(e),{timeSync:e.totalTimeSync(),timeTotal:e.totalTime(),playGuid:e.playState().playGuid,playNum:e.playState().playNum})},0)}catch(n){}}function r(e){var t=e.getArgs();switch(e.getName()){case"startNewTutorial":return _makeTutorial.getTutorials()[t[0]];case"executeTutorialStep":case"checkGoal":return t[0]}return null}var o,i,a=new t(this),s={startNewTutorial:"WalkthruProfilingEnd",executeTutorialStep:"StepProfilingEnd",checkGoal:"GoalProfilingEnd"};a.Override("start",function(){stacksAnalyzer.bind(n)}),a.Override("stop",function(){stacksAnalyzer.unbind(n)});a.Override("flush",function(){});e.apply(null,arguments)}function hn(){function e(){r(),n()}function t(e,t){v.length&&v[v.length-1].playState(t)}function n(){window._walkmeInternals&&(_walkmeInternals.bind("WalkthruGuid",t),_walkmeInternals.bind("StepPlayNum",t))}function r(){Ui=o(Ui),Wi=o(Wi)}function o(e){return function(t,n){var r=m,o=s("timeout",!0);m=[];var a=e(function(){u(o),m=r,t(),m=[],i(r)},n),l=a.clear;return a.clear=function(){u(o),i(r),l.apply(a)},a}}function i(e){for(var t=0;t<e.length;t++){var n=e[t];n.hasEnded()&&(p("stackComplete",{stack:n}),e.splice(t,1),t--)
}}function a(e,t){d(e);var n=new kn(e,t);return m.push(n),p("stackStart",{stack:n}),n}function s(e,t){for(var n=[],r=0;r<m.length;r++)n.push(m[r].startTrace(e,t));return n}function u(e){for(var t=0;t<e.length;t++)e[t].hasEnded()||e[t].end();e.length=0}function l(e,t,n,r){return function(){if(r){var n=a(e,arguments);v.push(n)}var o=s(e),l=t.apply(void 0,arguments);return u(o),i(m),r&&(c(n),v.pop()),l}}function c(e){for(var t=0;t<m.length;t++)if(m[t]==e)return void m.splice(t,1)}function d(e){var t=f(e);t&&(t.endAll(),i(m))}function f(e){for(var t=0;t<m.length;t++){var n=m[t].getTraces()[0];if(n&&n.getName()==e)return m[t]}}function p(e,t){if(h[e])for(var n=0;n<h[e].length;n++)try{h[e][n](t)}catch(r){}}this.LocalSVNRevision="$Rev: 3683 $";var g=this,m=[],h={},v=[];g.profile=function(e,t,n){return l(e,t,n,!0)},g.instrument=function(e,t,n){return l(e,t,n)},g.bind=function(e,t){h[e]||(h[e]=[]),h[e].push(t)},e.apply(null,arguments)}function vn(){function e(){}var n=new t(this);n.Virtual.Public("start"),n.Virtual.Public("stop"),n.Virtual.Public("flush"),n.Virtual.Public("startSession",function(){}),n.Virtual.Public("endSession",function(){}),e.apply(null,arguments)}function wn(){function e(e,t,n){d=e,p=t,g=n,r()}function t(e){for(var t in m)m.hasOwnProperty(t)&&m[t]&&e(m[t])}function n(){f=new hn,p(f)}function r(){zu.refreshGetData(null,function(){for(var e=zu.getData(u,[]),t=0;t<e.length;t++)s.start(e[t])})}function o(e){switch(e){case l.Console:return new gn(f);case l.Debugger:return new mn(f,bo,Ui);case l.Server:return new yn(f,zu,yl,al,g.getEndUserGuid(),la(),da())}}function i(e){zu.refreshGetData(null,function(){var t=zu.getData(u,[]);t=gd(t,function(t){return t!=e}),zu.saveData(u,t,nc)})}function a(e){zu.refreshGetData(null,function(){var t=zu.getData(u,[]);-1==ba(e,t)&&(t.push(e),zu.saveData(u,t,nc))})}this.LocalSVNRevision="$Rev: 3683 $";var s=this,u="wm-prf-stt",l={Console:1,Debugger:2,Server:3},c={};c[l.Console]=gn,c[l.Debugger]=mn,c[l.Server]=yn;var d,f,p,g,m={};s.start=function(e){f||n(),c[e]&&!m[e]&&(m[e]=o(e),m[e].start(),a(e))},s.stop=function(e){m[e]&&(m[e].stop(),m[e]=null,i(e))},s.startSession=function(e){t(function(t){t.startSession(e)})},s.endSession=function(){t(function(e){e.endSession()})},e.apply(null,arguments)}function yn(){function e(e,t,o,i,a,p,g){v.Extends(vn),l=i,c=a,d=p,f=g,r(o),m=t,h=m.getData(k,S),u=new Sn,u.bind(s),u.analyze(e),n()}function n(){var e=window.onbeforeunload;window.onbeforeunload=function(){e&&e(),w.flush()}}function r(e){g=e.register("pa",{actionUrl:"/Monitoring/AddMmt",technicalSuccessHandler:i,defaultDataStorageLifeSeconds:b,prefixForStorage:"pa",sendingThreshold:10,dataType:"profiling audit",requestParamsFunc:function(e){return{mmt:o(e),userGuid:l}}})}function o(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function i(e,t,n,r){r()}function a(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)&&void 0!=T[n]){var r=e[n];t.push({type:T[n],description:n,numOfSamples:r.size,average:r.average,variance:r.variance,max:r.max})}return t}function s(e){p&&e.totalStacksAnalyzed>=y&&w.flush()}var u,l,c,d,f,p,g,m,h,v=new t(this),w=this,y=100,b=3600,k="wm-prf-snk",S="default",T={startNewTutorial:0,executeTutorialStep:1,findElement:2,buildMenu:3,openMenu:4,buildPlayer:5,showPlayer:6,checkGoal:7,menuLanguageChange:8};v.Override("start",function(){p=!0}),v.Override("stop",function(){p=!1}),v.Override("flush",function(){var e=u.getData();if(e){u.clearData();var t={measurements:a(e),endUserGuid:c,browser:d,page:window.location.href,os:f,session:h};g.sendData(t)}}),v.Override("startSession",function(e){w.flush(),h=e,m.saveData(k,h,b)}),v.Override("endSession",function(){w.flush(),h=S,m.removeData(k)}),e.apply(null,arguments)}function bn(){function e(e,t){o=e,i=t}function t(){return(new Date).getTime()}var n,r,o,i,a=this;a.getStart=function(){return n},a.getEnd=function(){return r},a.start=function(){n=t()},a.end=function(e){r=e||t()},a.hasEnded=function(){return!!r},a.totalTime=function(){return r-n},a.getName=function(){return o},a.isAsync=function(){return i},e.apply(null,arguments)}function kn(){function e(e,t){n=e,r=t}function t(e){for(var t,n=0;n<i.length;n++)(!t||e(t,i[n]))&&(t=i[n]);return t}var n,r,o=this,i=[],a={};o.startTrace=function(e,t){var n=new bn(e,t);return i.push(n),n.start(),n},o.hasEnded=function(){if(0===i.length)return!1;for(var e=0;e<i.length;e++)if(!i[e].hasEnded())return!1;return!0},o.totalTime=function(){var e=t(function(e,t){return t.getStart()<e.getStart()}).getStart(),n=t(function(e,t){return t.getStart()>e.getStart()}).getEnd();return n-e},o.totalTimeSync=function(){for(var e=0,t=0;t<i.length;t++)i[t].isAsync()||(e+=i[t].totalTime());return e},o.endAll=function(){for(var e=0;e<i.length;e++)i[e].hasEnded()||i[e].end()},o.getTraces=function(){return i},o.getName=function(){return n},o.getArgs=function(){return r},o.playState=function(e){if(void 0===e)return a;for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])},e.apply(null,arguments)}function Sn(){function e(){o.Extends(pn)}function n(e){for(var t=Math.max.apply(Math,e),n=e.length,r=e.reduce(function(e,t){return e+t}),o=r/n,i=0,a=0;n>a;a++)i+=Math.pow(e[a]-o,2),e[a];return i/=n,{size:n,average:o,variance:i,max:t}}function r(e){if(e.stack){var t=e.stack.getName();i[t]||(i[t]=[]),i[t].push(e.stack.totalTimeSync()),a++,o._base.dispatch({stack:e.stack,totalStacksAnalyzed:a})}}var o=new t(this),i={},a=0;o.Override("analyze",function(e){e.bind("stackComplete",r)}),o.Override("getData",function(){if(0==a)return null;var e={};for(var t in i)i.hasOwnProperty(t)&&(e[t]=n(i[t]));return e}),o.Override("clearData",function(){i={},a=0}),e.apply(null,arguments)}function Tn(){function e(){r.Extends(pn)}function n(e){for(var t=0;o>t;t++)if(!i[t]||e.stack.totalTimeSync()>i[t].totalTimeSync())return i.splice(t,0,e.stack),i.length>o&&i.pop(),void r._base.dispatch(i)}var r=new t(this),o=10,i=[];r.Override("analyze",function(e){e.bind("stackComplete",n)}),r.Override("getData",function(){return i}),e.apply(null,arguments)}function In(e){var t=void 0;return mtjQuery.each(nu,function(n,r){return e==r?(t=n,!1):void 0}),t}function xn(){window.clearTimeout=function(e){Cn(e,fc)},window.clearInterval=function(e){Cn(e,pc)}}function Cn(e,t){var n=void 0!==jl[Al+e];n||t(e)}function Dn(e){Ja.createCallback(function(e,t){var n="set"+e;za.hasOwnProperty(n)&&za[n](t)}),Ja.initialize("Logger"),Ja.initialize("ElementFinder"),Ja.get("WalkmeLoader").start(function(){e&&e(za)})}function En(e){Zl=e}function Pn(){return _s.getAllUserGuids()||ul}function Nn(e,t){var n=void 0;if(t)switch(e){case eu.Cookie:n=jn(t),n||(n=void 0);break;case eu.Var:n=An(t)}return n}function jn(e){return Hu.getCookie(e)}function An(e){for(var t=e.split("."),n=window[t[0]],r=1;r<t.length;r++){if(void 0===n||null===n)return void 0;n=n[t[r]]}return n}function _n(){var e=window.jQuery||window.$;return e&&e.fn&&e.fn.jquery?e:void 0}function Rn(){return cc===tu.preview}function Ln(){return cc===tu.play}function Bn(){return cc===tu.production}function Mn(e,t){void 0==e.BalloonSettings&&t.length>0&&(e.BalloonSettings=t[0].Steps[0].Configuration)}function On(e,t){var n=e.css(t);return n?parseFloat(n):0}function Fn(e){var t=Dl;Dl=[],Gn({objectsArray:t,functionsToExecute:[function(e,t){e.destroy(!1,t)}],successCallback:e})}function Gn(e){function t(){if(0==a.length)return void(l&&l());i=u.length*a.length;for(var e=u.length-1;e>=0;e--)for(var t=a.length-1;t>=0;t--){if(d)return;var n=s?s(a[t]):a[t];u[e](n,r)}}function n(){if(0==u.length)return void(l&&l());i=u.length;for(var e=u.length-1;e>=0;e--){if(d)return;u[e](r,o)}}function r(){i--,0==i&&l&&l()}function o(){d||(d=!0,c&&c())}var i,a=e.objectsArray,s=e.selectorFunc,u=e.functionsToExecute,l=e.successCallback,c=e.failCallback,d=!1;a?t():n()}function Qn(){k.extendMtHidden()}function Wn(e){var t=u(e),n=Pu.get();return n&&(t.direction=n.Direction,t.showPoweredBy="1"==n.PoweredByLink,t.showPoweredByFormat=n.IsDisplayPoweredBy),t}function Un(e,t){for(var n=0;n<e.length;n++)e[n].userGuid=t}function Vn(){return za.LibVersion}function Hn(){var e=_s.getSettingsFile().LibFile,t=/http.+\/player\//.exec(e);return t[0]}function zn(){var e,t;e||(e=Hn()+"testme/"),t||(t="walkme_testme_"+Vn()+".js"),W.addScript(e+t)}function $n(){var e=zu.getData(Gl,ws.Deactive,za.getUserGuid());return e==ws.Active||e==ws.ActiveAndReset}function qn(){var e=zu.getData(ps,!1,za.getUserGuid());return e}function Xn(e){ea("after loading storage",4);var t=e?Jn:Yn;return $n()&&!ko()&&(Os.dbgr={debuggerWasLoaded:t},t=qu.loadDebuggerFromStorage),qn()&&(window._walkmeInternals.testme={},window._walkmeInternals.testme.testmeLoadedCallback=t,t=zn),t}function Jn(){ea("after loading storage for play",4),Vu.init(),Kn(),ml.enabled()?ml.start():zo(),ea("sending editor event: StorageManagerInitialized",4),wo("StorageManagerInitialized")}function Yn(){Kn();var e=za.Logger.timer("after loading storage"),t=za.Logger.timer("show all launchers");if(za.showAllLaunchers(),t.stop(),or(),ml.enabled())try{ml.start()}catch(n){za.Logger.customerLog(n,"failed to start pass ownership manager",1),zo()}else zo();if(Bn()){var r=za.getEndUserGuid();cl.auditUniqueEndUser(al,pl.getPermutation(),r)}var o=gl?gl.startWatching:tr;o(function(){Vu.init(),Zn(),Rn()||Ln()||Wu.reportEndUser(function(){za.removeWalkMe("reportEndUserFailed")}),e.stop()})}function Kn(){Gu.init(),yl.start(),za.setCrossDomainManager(Ja.get("CrossDomainManager"))}function Zn(){try{walkme_ready()}catch(e){}try{mt_ready()}catch(e){}za.isWalkMeVisible()&&!er()&&nr()}function er(){return!!window._walkmeTestme}function tr(e){e()}function nr(){var e=rr(),t=ml.enabled()?ml:hl;t.handlePermalink(e)||ei()}function rr(){var e=/walkme=([0-9]+)/,t=e.exec(window.location.href);return t&&t.length>1?t[1]:void 0}function or(){if(mtjQuery.browser.msie){var e=mtjQuery("a[href^='javascript:']"),t="click.walkme.ignoreUnload";e.off(t),e.on(t,function(){Bl=!0})}}function ir(e,t){for(var n=e.Steps,r=0;r<n.length;r++)ar(n[r],r,t)}function ar(e,t,n){e.StepIndex=t,e.Configuration&&-1!=e.Configuration?(e.End=e.Configuration.End,e.Duration=e.Configuration.Duration,e.Delay=e.Configuration.Delay,e.Position=e.Configuration.Position):e.Configuration=n.BalloonSettings,e.IgnorePosition=e.IgnorePosition||parseInt(ja(e.Settings,"ignorePosition",0))}function sr(e){return ur(e,"TaskProperties","Settings"),lr(e),e}function ur(e,t,n){void 0!==e[t]?e[n]=e[t]:e[t]=e[n]}function lr(e){e.RelatedDeployableId?e.Settings.WalkThruId=e.RelatedDeployableId:(e.RelatedDeployableType=nu.Tutorial,e.RelatedDeployableId=Number(e.Settings.WalkThruId))}function cr(){return!mc("walkmeIE7Support")&&wmjQuery.browser.msie&&wmjQuery.browser.version<8&&!window.postMessage}function dr(){if(cr())return ea("WalkMe is not supported on that browser"),!1;if(za.getBalloonDrawer(Pu.get().BalloonSettings).loadResources(_a().siblings("head")),fr(),_s.getStorageType()||(zu=As.byFeature()),zu===!1)return!1;if(wl.setFeatures(mc("blockJsonp"),mc("corsJsonpFallback")),ll=Ja.get("AbTestingManager"),!ll.shouldLoadWalkme())return!1;mc("overridetimeouts")&&xn(),za.profilerAPI=Ja.get("ProfilerManager"),Xu=new rn({deployables:Tu});var e=Pu.get();e.EndUserSettings&&Qu.setEndUserSettings(e.EndUserSettings),dc=mc("oldframesets");var t=e.TodoListSettings.isActive&&za.evaluateConditionTree(e.TodoListSettings.activateCondition);Ju=new on(Iu,t,Bu.get(),zu,al,za.getEndUserId(),za.Logger.error,Rn(),Ln(),pl.getPermutation,za.getEndUserGuid,aa,za);var n=Nu.length>0;n&&(Vu.enableMultiUserStorage(),rl=new cn({deployables:Nu,lib:za}),gl=new Et({deployablesGoalManager:Vu,experiments:rl.getAll(),lib:za,getEndUserGuid:za.getEndUserGuid,getPermutationId:pl.getPermutation,getAuditSource:aa,serverAddress:Bu.get(),storageManager:zu})),Zu=new un({deployables:Cu,lib:za,cdnServerName:Ou,deployablesGoalsManager:Vu,clickAuditManager:dl}),el=new nn({deployables:Au,lib:za}),nl=new ln({deployables:_u,lib:za}),tl=new sn({deployables:Du,deployablesGoalsManager:Vu,clickAuditManager:dl,lib:za}),Yu=new an({deployables:xu,lib:za}),ol=new vt({deployables:Eu,abPermutationManager:pl,recorderServerManager:Bu,lib:za}),pr();var r=Ja.get("AbTasksValidator");return r.shouldTrackAbTasks()?(Ku=new lt({todoListManager:Ju,goalsManager:js}),Ju.loadTasks(Ku.startWatchingTasks)):(_walkmeInternals.abTasksBlocked=!0,bo("AbTasksBlocked"),ea("Not tracking ab testing and tasks - blocked in this browser."),ll.disableReport()),ll.isAbTestingEnabled()&&za.setAnalyticsCustomFields(0,za.getEndUserId()),!0}function fr(){W.setDefault(Pu.get(),"TodoListSettings",{})}function pr(){il[nu.Tutorial]=Xu,il[nu.Content]=Zu,il[nu.Task]=Ju,il[nu.Launcher]=Yu,il[nu.Category]=el,il[nu.Collection]=nl,il[nu.Shuttle]=tl,il[nu.AbExperiment]=rl,il[nu.Survey]=ol}function gr(e){sc.push(e);var t=uc[uc.length-1];t&&t.Id==e.Id||uc.push(e)}function mr(){ea("onbeforeunload called",1),Bl?Bl=!1:(Ll=!0,Yi(),ml&&ml.enabled()?ml.loseOwnership(!1,!0):mc("noUnload")&&vr())}function hr(){Ll=!1,$i(Pl)}function vr(){setTimeout(function(){Ll=!1,Ki()},3e3)}function wr(e){try{e=e||0;var t=zu.getData(Fl,{},Pn()[0]),n=t[Wl],r=Tc(n),o=t[Vl],i=r.Steps[o+e];return i}catch(a){return null}}function yr(e){if($u.isFramesetsPage())for(var t=$u.getAllFramesDocuments(),n=0;n<t.length;n++)wmjQuery(e,t[n]).remove()}function br(e,t){return"undefined"!=typeof e&&null!=e?e:t}function kr(e){Sl=-1,Il=Us.NOT_RUNNING,Tl=-1,xl=[],Gu._currentPlayGUID="",oc=!1,sc=[],uc=[],Lu={},lc=-1,Ll=!1,Ml=!1,e||(Gu._currentPlayInitiator=null)}function Sr(e,t,n,r){for(var o=t;n>o;o++)Gu.auditStep(Tu[e].Steps[o],r,Tu[e].Steps.length)}function Tr(e){if(Fu[Tu[e].TutorialId]){var t=Fu[Tu[e].TutorialId].siteConfig;t&&Pu.set(t)}}function Ir(e){var t;return t=ja(Tu[e].Settings,"SafeStart",!1),t&&"0"!=t.enabled||(t=ja(Pu.get().Settings,"SafeStart",null)),t}function xr(e,t,n,r){for(var o=t;n>o;o++)r!=r.SkippedByActionStep&&bo("NewSkippedStep",Tu[e].Steps[o])}function Cr(e){var t={ClickEvent:e};yo("UserStoppedWalkthru",t),So("UserStoppedTutorial",t);var n=-1==Tl;n||Gu.auditStep(ia(),Hs.Exited,Wo().Steps.length),za.stopTutorial(n),yo("UserStoppedWalkthruAfterStop",t),So("UserStoppedTutorialAfterStop",t)}function Dr(e,t,n,r,o){try{$a=0,bo("LoadWt",Tu[e]),Tr(e),Zu.removeContent(),r=br(r,za.generateNewPlayGuid(Tu[e].TutorialId)),n=br(n,!0),t=br(t,0),0==t&&(t=ii(e)),bc(e,t,r,o,[],[]),aa()!=tu.play&&aa()!=tu.preview&&Vu.startWatchingDeployable(Tu[e],r),za.postWelcomeStep(e)}catch(i){_makeTutorial.Logger.error(i)}}function Er(e,t,n,r,o){function i(t){if(!oo(t)||1!=r)return t.StepIndex;if(Tu[e].Steps.length>t.StepIndex){var i=Er(e,t.StepIndex+1,n,r,o);return 0>i?i:t.StepIndex}}function a(e){var t=ao(e);if(t.getGoToData){var i=t.getGoToData(),a=Er(i.tutorialIndex,i.stepIndex,n,r,o);if(0>a)return a}else if("stopWt"==t.type)return s(-2);return e.StepIndex}function s(e){return yc=void 0,e}var u=Tu[e],l=u.Steps[t];if(r=br(r,1),n=br(n,0),yc||(yc=[]),Nr(yc,l.Id))return s(-5);var c=ho(l),d=!0;c!=Ks.STICKY_CONDITION&&(d=vo(l));var f=ja(l.Settings,"fake",!1),p=ja(l.Settings,"skipNotExists",!1),g=p||l.IsSkippable||!d||f;if(d&&!f&&za.findElement(l))return s(go(l)?a(l):ro(l)?i(l):t);o&&o.push({stepIndex:t,stepStatus:Pr(g,d)});var m=t+r;if(g){if(0>m)return s(-2);if(m==u.Steps.length){if(xl&&xl.length>n){var h=xl[xl.length-1-n];return s(Er(h.tutorialIndex,h.stepIndex,n+1,r,o))}return s(-2)}return s(Er(e,m,n,r,o))}return s(-1)}function Pr(e,t){return e?t?Hs.SkippedNotFound:Hs.SkippedByCondition:Hs.SupposedToShow}function Nr(e,t){return ba(t,e)<0?(e.push(t),!1):!0}function jr(e){var t;return t=Fu[e]?Fu[e].siteConfig:Pu.get()}function Ar(e,t,n,r,o,i){var a=pa(!0),s=u(n);o&&(s.displayX=!1);var l=za.getSiteConfig().BalloonSettings;l=u(l),wmjQuery.extend(l,i);var c=new za.Balloon({element:a,forceEmbedBalloonInIframe:!1,positionHelper:k,fixedSize:{width:t,height:0},stepSettings:s,htmlContent:e.htmlContent,text:{title:e.title||"",content:e.text||"",subText:e.subText||""},data:{type:vs.Popup},configuration:l,logger:za.Logger,drawer:za.getBalloonDrawer(l),siteConfig:za.getSiteConfig()});Dl.push(c),c.Show(!1,function(){var e=mtjQuery(c.getBalloonDiv());e.removeClass("walkme-custom-step-0"),mtjQuery("*",e).removeClass("walkme-custom-step-0"),r(e,l)})}function _r(e){var t=mtjQuery("<div></div>");return e=Yc(e),t.append(e),t}function Rr(e,t){var n=za.getSiteConfig(),r=_r(n.SafeStartPopupText),o={popupStepButtons:[{id:0,name:n.RedirectButtonText,action:5},{id:1,name:n.StayButtonText,action:6}]};Ar({htmlContent:r},400,o,function(n){Lr(n,e,t)})}function Lr(e,t,n){mtjQuery(".walkme-action-redirect",e).click(function(){Mr(t,zs.RedirectClicked,n)}),mtjQuery(".walkme-action-stay",e).click(function(){Or(n)}),mtjQuery(".walkme-action-close",e).attr("onclick","").unbind("click"),mtjQuery(".walkme-action-close",e).click(function(){Or(n)})}function Br(e,t,n){void 0!=t&&Qr(Gu._currentPlayGUID,e,t,n)}function Mr(e,t,n){var r=Tu[n],o=function(){Fr(e,n)};Wi(o,Vs),Br(t,r.Id,o)}function Or(e){var t=Tu[e].Id;Br(zs.StayClicked,t),Gr()}function Fr(e,t){Tl=0,Il=Us.WAITING_FOR_REDIRECT,Sl=t,Uo(),ui(e,!0),Gr()}function Gr(){za.releaseBalloons()}function Qr(e,t,n,r,o){try{if(!ra()){var i=wl.execute({url:Bu.get()+"/Statistics/UpdatePlaySummeryWithSafeStartInfo",dataType:"jsonp",data:{playGuid:e,safestartStatus:t,domain:window.location.host,source:aa(),tutorialId:n,timestamp:oa(),permutationId:pl.getPermutation(),endUserGuid:za.getEndUserGuid()},timeout:1e4});i.complete(function(e){r&&r(e)}),i.success(function(){}),i.error(function(e,t,n){_makeTutorial.Logger.error(e,"Redirection Error: "+t),o&&o(e,t,n)}),ea("Sent SafeStart update With Falg "+t+" to server at "+(new Date).toString())}}catch(a){_makeTutorial.Logger.error(a)}}function Wr(e){var t=jr(e.Id),n=t.BalloonSettings,r="v3"==n.BalloonVersion,o=ja(e.Settings,"cantPlayAlert",t.TutorialCantPlayText),i=o==t.TutorialCantPlayText,a="";if(i&&(Rn()||Ln())){var s=r?"14px":"15px",u="Oops, it seems that this walk-thru cannot be played from this current location.";o="Please note that your users will not be able to play the walk-thrus from this location either. In order to get this issue fixed, please enable the Safe start.";var l="http://support.walkme.com/customer/portal/articles/1178398-safe-start";a+="<h1 id='walkme-first-step-not-available-title' class='walkme-custom-first-step-not-available-text mt-custom-first-step-not-available-text CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+n.Font+";color: "+n.HeaderColor+"; font-weight: bold; font-size: "+s+"; border: none; margin: 10px; word-wrap: break-word;'>"+u+"</h1>",a+="<h2 id='walkme-first-step-not-available-content' class='walkme-custom-first-step-not-available-text mt-custom-first-step-not-available-text CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+n.Font+";color: "+n.HeaderColor+"; font-size: "+s+"; border: none; margin: 10px; word-wrap: break-word; font-weight: normal;'>"+o+"</h2>",a+='<a href="'+l+'" target="_blank" style="float: left; margin-left: 11px; text-decoration: underline; color: blue;">Read More</a>'}else{var s=r?"14px":"21px";o=za.parseBBCode(o),a+="<h1 class='walkme-custom-first-step-not-available-text mt-custom-first-step-not-available-text CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+n.Font+";color: "+n.HeaderColor+"; font-size: "+s+"; border: none; margin: 10px; word-wrap: break-word;'>"+o+"</h1>"}if(r){var c={popupStepButtons:[{id:0,name:"OK",action:7}]},d=wmjQuery("<div></div>");d.append(a);var f=!0;Ar({htmlContent:d},446,c,function(e){mtjQuery(".walkme-action-ok",e).click(function(){za.releaseBalloons()})},f)}else a+="<div style='float: right'>",a+=fi("walkme-custom-first-step-not-available-ok-button mt-custom-first-step-not-available-ok-button CUSTOM-TUTORIAL-ID","OK",n),a+="</div>",xa("first-step-not-available",a,420,e.TutorialId,Ur)}function Ur(e){mtjQuery(".walkme-custom-first-step-not-available-ok-button",e).click(Ca)}function Vr(){if(gc){for(var e=gc.length-1;e>=0;e--)gc[e].cleanResources();gc=[]}}function Hr(){zu.refreshGetData(),Wi(function(){var e=zu.getData(Ol,void 0,Wo().userGuid);1==e?(ea("Other window finished. Resuming walk-thru here."),zu.saveData(Ol,0,gu,Wo().userGuid),zo()):Hr()},500)}function zr(e,t){if("number"==typeof e)return e==t;for(var n=e.split(","),r=0;r<n.length;r++)if(t+""==n[r])return!0;return!1}function $r(e){Sc()||xl.push({tutorialIndex:Sl,stepIndex:void 0!=e?e:Tl+1,playGuid:Gu._currentPlayGUID,playInitiator:Gu._currentPlayInitiator,stepPlayHistory:sc,stepPlayStack:uc})}function qr(e){return Tu[e]}function Xr(e){for(var t=-1,n=0;n<Eu.length;n++)if(Eu[n].Id==e){t=n;break}return t}function Jr(e){var t=Xr(e);return t>=0?Eu[t]:null}function Yr(e){var t=cd(e,function(e){ea("Check walk-thru: "+e.TutorialId+" ("+ta(e.TutorialId)+")");var t=za.findElement(e);return ea(t?"First step found.":"First step not found."),{step:e,element:t}});return t=gd(t,function(e){return e.element}),cd(t,function(e){return e.step})}function Kr(e){try{ea("Multiple branch: Going through all walk-thrus.");var t=Ic(e),n=Yr(t);if(1==n.length)return n[0].TutorialId;if(!(n.length>1))return null;ea("can't decide which tutorial to play",5),ea(n.length+" walk-thrus match. Cannot choose which walk-thru to start.")}catch(r){za.Logger.error(r)}}function Zr(){return eo(Sl,Tl,0)}function eo(e,t,n){if(Tu[e].Steps.length>t+1){var r=Tu[e].Steps[t+1];return r.TutorialIndex=e,r}if(xl&&xl.length>n){var o=xl[xl.length-1-n];return eo(o.tutorialIndex,o.stepIndex-1,n+1)}return null}function to(){var e=Zr();return null==e?0:e.Delay}function no(){var e=Wo();ol.handleSurveyPlay(e,lu.WalkThruInterrupted,void 0,za.executeTutorialNextStep)}function ro(e){return e.Type&&e.Type==vs.Popup}function oo(e){return e.Type!=vs.Popup?!1:1==ja(e.Settings,"popup-play-condition",0)}function io(e){for(var t=0;t<xu.length;t++)if(xu[t].Id==e)return xu[t]}function ao(e){function t(e){if(ea("Checking condition..."),e)try{return za.evaluateConditionTree(e)}catch(t){}return!0}function n(e){this.isValid=function(){return!0},this.doAction=function(){li(),ui(e.redirectUrl,!0)||(li(),za.executeTutorialNextStep())}}function r(e,t){this.isValid=function(){return c(e.wtId)},this.doAction=function(){var n=e.wtId;if(1==e.returnToWt){var r=Ec(e.StepId,t.TutorialId);Do([n],r,!1)}else Do([n],r,!0)},this.getGoToData=function(){var t=Dc(e.wtId);return{tutorialIndex:t,stepIndex:0}}}function o(){this.type="stopWt",this.isValid=function(){return!0},this.doAction=function(){li(),za.stopTutorial()}}function i(e,t){this.isValid=function(){return d(e.StepId,t.TutorialId)},this.doAction=function(){var n=e.StepId,r=Ec(n,t.TutorialId);li(),r>Tl&&Sr(Sl,Tl+1,r,Hs.SkippedByActionStep),Tl=r,za.executeCurrentStep()},this.getGoToData=function(){var n=e.StepId,r=Ec(n,t.TutorialId),o=Dc(t.TutorialId);return{tutorialIndex:o,stepIndex:r}}}function a(){this.isValid=function(){return void 0!=window.WalkMePlayerAPI},this.doAction=function(){try{li(),WalkMePlayerAPI.toggleMenu()}catch(e){}za.executeTutorialNextStep()}}function s(e){this.isValid=function(){return!0},this.doAction=function(){Il=Us.WAITING_FOR_CONDITION,Uo();var t=kc(Tl),n={evaluationPollingIntervalMs:500,jqueryPollingIntervalMs:500,featureName:fs,elementName:"Wait for condition step: "+t.StepTitle},r=new xs(n),o=e.condition;r.onValueChanged(function(e){ko()&&bo("ActionConditionEvaluated",t,{isPassed:e}),e&&(li(),za.executeTutorialNextStep())}),r.evaluateAsync(o),gc.push(r)}}function u(e){this.isValid=function(){return!0},this.doAction=function(){return Uo(),Wi(function(){li(),za.executeTutorialNextStep()},1e3*e.duration),!0}}function l(){this.isValid=function(){return!0},this.doAction=function(){li(),Uo(),Ui(function(){location.reload(!0)},200)}}function c(e){for(var t=0;t<Tu.length;t++)if(Tu[t].TutorialId==e)return!0;return!1}function d(e,t){return-1!=Ec(e,t)}function f(e,n){this.isValid=function(){return!0};var r={stepId:n.Id,tutorialId:n.TutorialId};this.doAction=function(){if(zu.saveData(Yl,(new Date).getTime(),3600),t(e.condition))ml.switchOwner(r,!1),li(),za.executeTutorialNextStep();else{if(!ml.enabled())return ea("Reached pass ownership step but the feature is not supported, the next step will not be executed."),void za.tutorialFinished();Il=Us.PASSING_OWNERSHIP,Tl++,p()||Uo(),ml.switchOwner(r,!0)}}}function p(){var e=wr();return e&&Sl&&e.TutorialId==Sl.Id&&e.StepIndex<=Tl?!0:!1}function g(e){this.isValid=function(){return!0},this.doAction=function(){zu.saveData(e.dataKey,e.dataValue,e.dataDuration),li(),za.executeTutorialNextStep()}}var m={redirect:n,refresh:l,branchWt:r,stopWt:o,playStep:i,openPlayerMenu:a,waitForCond:s,delay:u,passOwnership:f,setWalkMeData:g};if(void 0!=Lu[e.Id])return Lu[e.Id];var h=ja(e.Settings,"action",null);return h?(Lu[e.Id]=new m[h.actionType](h.arguments,e),Lu[e.Id]):(ea("No action core. aborting..."),null)}function so(e){var t=e;return sc.length>1&&(t=kc(sc[sc.length-2].Idx)),zr(e.End,ms.NOTHING)||zr(t.End,ms.NOTHING)}function uo(e){return"Func"==e.nodeType?"ElementClicked"==e.funcName:"And"==e.nodeType||"Or"==e.nodeType?uo(e.leftSon)||uo(e.rightSon):!1}function lo(){if(!nd(sc)||sc.length<2)return!0;for(var e=0;e<sc.length-1;e++){var t=sc[e].Idx,n=Tu[Sl].Steps[t];if(!nd(n.Settings.action))return!1}return!0}function co(){for(var e=Pu.get().StepsInfoText,t=Tu[Sl].Steps,n=0,r=0,o=0;o<t.length;o++)fo(t[o])&&(n++,Tl>=o&&r++);return mc("floatingsubtext")?(e=e.replace("{0}",hu+r+vu),e=e.replace("{1}",wu+n+yu)):(e=e.replace("{0}",r),e=e.replace("{1}",n)),e}function fo(e){return!(e.Type==vs.Action||parseInt(ja(e.Settings,"isInvisible",0))||parseInt(ja(e.Settings,"fake",0)))}function po(e){if(null!=e){var t=kc(e);return go(t)}return!1}function go(e){return e.Type&&e.Type==vs.Action?!0:!1}function mo(e){var t=cd(e,Dc),n=ba(-1,t);return void 0==n||-1==n}function ho(e){return ja(e.Settings,Ys,Ks.PLAY_CONDITION)}function vo(e){var t=ja(e.Settings,"skipStepCond","");if(t.length>0)try{return za.evaluateCondition(t)?!1:!0}catch(n){return!0}var r=ja(e.Settings,"PSCTEnabled",0);if(1!=r)return go(e)&&"never"==ja(e.Settings,"whenToFire","")?!1:!0;var o=ja(e.Settings,"PSCT","");if(""==o)return!0;try{return za.evaluateConditionTree(o)}catch(n){return!1}}function wo(e,t){try{var n=Io(e);t&&(n.ExtraData=t),walkme_editor_event(n)}catch(r){}}function yo(e,t){wo(e,t);try{var n=Io(e);t&&(n.ExtraData=t),walkme_event(n)}catch(r){}}function bo(e,t,n){try{if(!window.wmjQuery)return;wmjQuery(_walkmeInternals).trigger(e,[t,n]),wmjQuery(_walkmeInternals).trigger("AllEvents",[e,t,n])}catch(r){za.Logger.error(r)}}function ko(){return qu.isDebuggerOnWindow()}function So(e,t){try{var n=Io(e);t&&(n.ExtraData=t),mt_event(n)}catch(r){}}function To(e,t){try{var n=Io(e);t&&wmjQuery.extend(n,t),walkme_automation_event(n)}catch(r){}}function Io(e){var t={Type:e},n=Wo();return n&&(t.WalkthruId=n.TutorialId,t.StepIndex=Tl),t}function xo(e,t){var n=Dc(t);if(n>-1){var r=Pc(e,Tu[n]);if(r)return r}return null}function Co(e,t){return Tu[e]&&Tu[e].Steps[t]?Tu[e].Steps[t]:void 0}function Do(e,t,n){Il=Us.WAITING_FOR_SPLIT,1!=n&&$r(t),Cl=e,Uo(),li(),za.resumeSplit()}function Eo(e,t){for(var n=0;n<t.length;n++)e.unbind(t[n]+".mt");return!1}function Po(e,t,n,r,o){za.releaseBalloons(),n&&(za.shouldHandlePageAsFramesets()&&$u.checkIfAnyFrameIsUnloaded(t),null!=r&&(Bl=No(mtjQuery(r.target)))),Il=Us.RUNNING,Uo(),li(void 0==o),void 0!=o&&(Tl=o),e&&void 0==o?_makeTutorial.tutorialFinished():Wi(function(){_makeTutorial.executeTutorialNextStep()},t)}function No(e){if(mtjQuery.browser.msie){var t=!1;if("a"==e[0].nodeName.toLowerCase())t=e;else{var n=e.parents("a");n.length>0&&(t=mtjQuery(n[0]))}if(t&&t.attr("href")&&0==t.attr("href").indexOf("javascript:"))return!0}return!1}function jo(e,t){var n=ja(e.Settings,du,!1);if(n){var r=parseInt(ja(e.Settings,fu,null));if(r==cu.soft&&t)return;Ao(e,r)}}function Ao(e,t){var n=function(e){var t=e.drawable&&e.drawable.isDrawn();return!e.actionInProgress&&!t},r=function(e){return Oo(e)};Tt.registerSticky({identifier:e.Id,stickinessType:t,redrawFunction:za.getCommonUtils().encloseCall(r,e),shouldDrawFunction:za.getCommonUtils().encloseCall(n,e)})}function _o(e,t){for(var n=[],r=0;r<e.length;r++)t!=r&&n.push(e[r]);return n}function m(e){var t=[];return wmjQuery.each(e,function(e){t.push(e)}),t}function h(e){var t=[];return wmjQuery.each(e,function(n){t.push(e[n])}),t}function Ro(e){var t=e.Settings.action;switch(t.actionType){case"playWt":return null!=Xu.getById(parseInt(t.arguments.wtId));case"playContent":return null!=Zu.getById(parseInt(t.arguments.contentId))}return!0}function Lo(e,t){e.actionInProgress=!0;var n=mc("hideLauncherWithoutLink");if(n&&!Ro(e))return e.actionInProgress=!1,!1;var r=ja(e.Settings,"PlayLauncherConditionTree",null);return e.element=void 0,r?Bo(e,t,r):Fo(e,t,!0)}function Bo(e,t,n){if(!e.evaluator){var r={featureName:as,elementName:e.Name},o=new xs(r);e.evaluator=o,o.onValueChanged(function(n){n?Fo(e,t,!0):e.actionInProgress=!1}),o.evaluateAsync(n)}return e.evaluator.getCachedValue()}function Mo(e){var t=za.findElement(e.IdentifySettings);return t?(e.element=t,!0):(e.actionInProgress=!1,!1)}function Oo(e){return Mo(e)?Fo(e):!1}function Fo(e,t,n){return e.element&&n||e.element&&(!e.evaluator||e.evaluator.getValue())||n&&Mo(e)?Go(e,t):void 0}function Go(e,t){var n=e.element;ka(n);var r=Yu.getMinClickDelay(e),o="none"!=e.Settings.action.actionType,i=new Y({element:n,settings:e.Settings,lib:za,position:e.Position,launcherId:e.Id,userGuid:e.userGuid,positionHelper:k,addFunctionality:o,cdnServer:Ou,clickAuditManager:dl,delayBetweenClicks:r});e.drawable=i,e.drawable.evaluator=e.evaluator;var a=function(n){return function(){n.show(function(){n.setTimeoutOn(),t&&t(),e.actionInProgress=!1})}}(i);return Qo(e,a),!0}function Qo(e,t){var n=W.isTrue(e.Settings,"hasDelay",!1);if(n){var r=ja(e.Settings,"delayInSeconds",0);Ui(t,1e3*r)}else t()}function Wo(){return Tu[Sl]}function Uo(){var e=void 0,t=void 0,n=void 0,r=Wo(),o=r?r.TutorialId:-1,i=r?r.userGuid:al;Il==Us.RUNNING||Il==Us.WAITING_FOR_PAGE_CHANGE?(e=Tl+1,r.Steps.length<=Tl+1&&(t=1)):Il==Us.WAITING_FOR_SPLIT?(e=Tl,n=Cl):e=Tl;var a=Vo(o,e,t,n);zu.saveData(Fl,a,gu,i)}function Vo(e,t,n,r){var o={};return o[Wl]=e,o[Ul]=Il,o[Vl]=t,o[Hl]=$a,o[zl]=Gu._currentPlayGUID,o[$l]=Gu._currentPlayInitiator,o[ql]=xl,o[Xl]=n,o[Jl]=sc,o[Ql]=r,o}function Ho(){for(var e=Pn(),t=0;t<e.length;t++){var n=e[t];zu.removeData(Fl,n)}}function zo(){ea("Restoring cross user state",5);for(var e=Pn(),t=0;t<e.length;t++){var n=e[t],r=Jo(n);if(r)return n}return!1}function $o(e,t){return f(e)?parseInt(e,10):t}function qo(e){var t=Xo(e),n=Co(t.tutorial,t.step);return n&&(t.isTutorialFinished||t.state!=Us.WAITING_FOR_ELEMENT_EVENT&&t.state!=Us.WAITING_FOR_NEXT_BUTTON_CLICK||ja(n.Settings,"sticky",0)||n.IsSkippable||(ea("page change happened while waiting for element - pausing walkthru",2),t.state=Us.PAUSED)),t}function Xo(e){var t=zu.getData(Fl,{},e),n=$o(t[Wl],-1),r={state:$o(t[Ul],Us.NOT_RUNNING),step:$o(t[Vl],-1),playNum:t[Hl]||$a,tutotrialGUID:t[zl],playInitiator:t[$l],splitPointStack:br(t[ql],[]),isTutorialFinished:br(t[Xl],0),stepPlayHistory:br(t[Jl],[]),tutorial:Dc(n),splitTutorialIds:br(t[Ql],[])};return r}function Jo(e){function t(){Wi(function(){_makeTutorial.executeCurrentStep()},1e3*r.Delay)}var n=qo(e);$a=n.playNum,xl=n.splitPointStack,sc=n.stepPlayHistory,Sl=n.tutorial,Il=n.state,Tl=n.step,n.tutotrialGUID&&(Gu._currentPlayGUID=n.tutotrialGUID),Gu._currentPlayInitiator=n.playInitiator;var r=Co(Sl,Tl);if(Il!=Us.WAITING_FOR_PAGE_CHANGE&&Il!=Us.PASSING_OWNERSHIP||!r||(Tl--,li(!0),Tl++),ea("isTutorialFinished: "+n.isTutorialFinished,5),1!=n.isTutorialFinished||Il!=Us.RUNNING&&Il!=Us.WAITING_FOR_PAGE_CHANGE&&Il!=Us.PASSING_OWNERSHIP)if(ea("Continue from cookie: currentTutorial: "+Sl+" -- currentState: "+Il+" -- currentStep: "+Tl+" -- currentPlayGUID: "+Gu._currentPlayGUID+" -- currentUserGUID: "+e,5),!r||Il!=Us.RUNNING&&Il!=Us.WAITING_FOR_ELEMENT&&Il!=Us.WAITING_FOR_STICKY_ELEMENT&&Il!=Us.WAITING_FOR_PAGE_CHANGE&&Il!=Us.WAITING_FOR_CONDITION&&Il!=Us.PASSING_OWNERSHIP)if(r&&Il==Us.WAITING_FOR_REDIRECT)Dr(Sl,0,!1,Gu._currentPlayGUID,Gu._currentPlayInitiator);
else if(r&&Il==Us.WAITING_FOR_OWNERSHIP)_makeTutorial.startNewTutorial(Sl,Tl,!1,Gu._currentPlayInitiator);else if(!r||Il!=Us.WAITING_FOR_ELEMENT_EVENT&&Il!=Us.WAITING_FOR_NEXT_BUTTON_CLICK)if(Il==Us.WAITING_FOR_SPLIT)Cl=n.splitTutorialIds,za.resumeSplit();else{if(Il!=Us.PAUSED)return kr(),Uo(),ea("Invalid cookie data. Not running tutorial. (userGuid : "+e+")",5),!1;ea("Tutorial was paused while restoring state from cookie. This can happen if auto start is defined with sonar on an element that causes SPA page change. Please define the autostart without sonar",1),za.releaseBalloons(),Xi(),kr(),Uo()}else ja(r.Settings,"sticky",0)?(ea("Sticky - keep looking for element",5),Il=Us.WAITING_FOR_STICKY_ELEMENT,t()):r.IsSkippable&&(Wo().Steps.length==Tl+1?za.tutorialFinished():(Tl++,Il=Us.RUNNING,t()));else t();else za.tutorialFinished();return!0}function Yo(e,t){var n=Array();if(!e.Conditions)return n;for(var r=0;r<e.Conditions.length;r++)e.Conditions[r].GroupType==t&&(void 0==e.Conditions[r].IsEnabled||1==e.Conditions[r].IsEnabled)&&n.push(e.Conditions[r]);return n}function Ko(e,t){var n=Array();if(!e.Conditions)return n;for(var r=0;r<e.Conditions.length;r++)e.Conditions[r].Type==t&&(void 0==e.Conditions[r].IsEnabled||1==e.Conditions[r].IsEnabled)&&n.push(e.Conditions[r]);return n}function Zo(e){return Ko(e,Js.FIRST_STEP_MUST_EXIST).length>0?!0:!1}function ei(){ea("Trying to find a walkthru that can auto start",1,cs),Fs.clearCache();for(var e=0;e<Tu.length;e++)ti(e)}function ti(e){function t(e){var t=ni(e),n=ja(e.Settings,"ASRep","visit");return za.checkRepeatCookie(t,n)}var n,r=Tu[e];ea("Checking tutorial named: "+r.Name,4,cs);var o=ja(r.Settings,"ASEnabled",0);if(o){if(n=t(r),!n.shouldStart)return ea("Repeat condition doesn't meet, not auto starting: "+r.Name,3,cs),!1;var i=ja(r.Settings,"ASCTEnabled",0);if(1!=i)return ea("Non-conditional autostart, trying to auto start "+r.Name,3,cs),ri(e,n);ea("Autostart is enabled for tutorial: "+r.Name,3,cs);var a=ja(r.Settings,"ASCT","");if(""!=a)try{var s={stopPollingAfterEvaluateTrue:!1,featureName:cs,elementName:r.Name},u=new xs(s),l=!1;u.onEvaluated(function(t){if(t){ea("Autostart condition met, trying to auto start: "+r.Name,3,cs),Fs.clearCache();var o=ri(e,n,l);o&&-1!=n.repeatCookieExpiry&&u.cleanResources()}bo("WtAutoStartConditionEvaluated",r,{isPassed:t})}),u.evaluateAsync(a),l=!0,u.getCachedValue()||ea("Condition didn't meet, not starting tutorial: "+r.Name,3,cs)}catch(c){}}var d=Yo(r,Xs.Action);if(d.length>0&&(n=t(r),n.shouldStart))for(var f=0;f<d.length;f++)if(oi(e,r,d[f],n))return!0;return!1}function ni(e){return"wm-ASRep-"+e.TutorialId}function ri(e,t,n){if(Fs.checkSouldAutoStart(e,n)){t.store();var r={type:$s.AUTOSTART,objectId:qr(e).TutorialId};return za.startNewTutorial(e,void 0,void 0,r),!0}return!1}function oi(e,t,n,r){switch(n.Type){case Js.AUTO_START:if(Rc(n.Content))return ri(e,r)}return!1}function ii(e){for(var t=Tu[e],n=Ko(t,Js.SKIP_FIRST_STEP),r=0;r<n.length;r++){var o=n[r];if(Rc(o.Content)){var i=o.ExtraData,a=i?i-1:1;return ea("The walk-thru has a skip step condition ("+o.Content+") which is true. Skipping to: "+a),a}}return 0}function ai(e,t){var n=Tu[e],r=Ko(n,Js.REDIRECT);return 0==r.length?!1:si(r[0],t)}function si(e,t){return ui(e.Content,t)}function ui(e,t){if(!za.getCommonUtils().isValidUrl(e))return!1;e=jd(e,["&"]);var n=Bc(window.location.href),r=Lc(e),o=Bc(r);return n==o?!1:(t&&md(r),!0)}function li(e){e=br(e,!0);var t=ia();bo("StepCompleted",t),e?(Gu.auditStep(t,Hs.Performed,Wo().Steps.length),ci(t)):Gu.auditStep(t,Hs.MovedBack,Wo().Steps.length)}function ci(e){var t=ja(e.Settings,"resumeOtherWindow",!1);t&&zu.saveData(Ol,1,gu,Wo().userGuid)}function di(e,t){e[t]&&"transparent"!=e[t]||(e[t]=wmjQuery.browser.msie?"#00000000":"transparent")}function fi(e,t,n,r){n=za.FixConfiguration(n),n.ButtonBorderColor=n.ButtonBorderColor||"#6c84a6";var o="rtl"==Pu.get().Direction?"right":"left";di(n,"ButtonBgColor"),di(n,"ButtonBgColor2");var i=n.ButtonBgColor,a=n.ButtonBgColor2,s=n.ButtonShadowWidth,u=n.BalloonButtonRadius,l=i!=a,c="CSS-RESET "+(l?"background:-moz-linear-gradient(top, "+i+", "+a+");background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+i+"), color-stop(100%,"+a+"));background:-webkit-linear-gradient(top, "+i+" 0%,"+a+" 100%);background:-o-linear-gradient(top, "+i+" 0%,"+a+" 100%);background:-ms-linear-gradient(top, "+i+" 0%,"+a+" 100%);background:linear-gradient(to bottom, "+i+" 0%,"+a+' 100%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="'+i+'", endColorstr="'+a+'",GradientType=0 );':"background-color:"+i+";")+"border: 1px solid "+n.ButtonBorderColor+";color:"+n.ButtonTextColor+"; cursor: pointer; display: inline-block; float: none; font-size: 14px; font-weight: normal;font-family: Arial; margin-"+o+": 6px; padding: 2px 14px; text-align: center; text-decoration: none; position: static;overflow: visible;-moz-box-shadow: 0 0 "+s+"px rgba(0, 0, 0, 0.4);-webkit-box-shadow: 0 0 "+s+"px rgba(0, 0, 0, 0.4); box-shadow: 0 0 "+s+"px rgba(0, 0, 0, 0.4); -moz-border-radius:"+u+"px;-webkit-border-radius:"+u+"px;border-radius:"+u+"px;";return i!=a&&wmjQuery.browser.msie&&(c+="border-radius: 0px;"),l&&W.isGradientUsingFilter(c)&&(c+="background: url("+Ou+"/player/resources/images/spacer.gif) repeat;"),c=c.replace(/CSS-RESET/g,ou),c+=r?r:"","<button class='"+e+"' type='button' style='"+c+"'>"+t+"</button>"}function pi(e){return e.Type==vs.Popup&&e.LinkedTutorialIds&&mo(e.LinkedTutorialIds.split(";"))?(Do(e.LinkedTutorialIds.split(";")),!0):!1}function gi(e){mtjQuery(".walkme-action-close, .walkme-action-cancel",e).click(function(e){Cr(e)}),mtjQuery(".walkme-action-next, .walkme-action-start",e).click(function(){vi()}),mtjQuery(".walkme-action-back",e).click(function(){hi()}),mtjQuery(".walkme-action-done",e).click(function(){wi()}),mtjQuery(".walkme-custom-bbcode-survey",e).click(function(){no()}),mtjQuery(".walkme-action-start-wt",e).each(function(){mtjQuery(this).click(function(){var e=parseInt(mtjQuery(this).attr("data-walkthru-id")),t=-1!=Tl?kc(Tl).Id:-1;WalkMeAPI.startWalkthruById({id:e,fromStep:0,playInitiator:{type:$s.BBCODE,objectId:t}})})})}function mi(e){e.durationHandler&&(e.durationHandler.clear(),e.durationHandler=null)}function hi(){yo("BackButtonClicked"),So("BackButtonClicked");var e=kc(Tl);mi(e),uc.pop();var t=yi(lc-1);t||(Il=Us.RUNNING,za.releaseBalloons(function(){li(!1),Tl=lc-1,za.executeTutorialNextStep()}))}function vi(){yo("NextButtonClicked"),So("NextButtonClicked");var e=kc(Tl);bo("StepWasTriggered",e),mi(e);var t=yi();t||(Il=Us.RUNNING,za.releaseBalloons(function(){pi(e)||(li(),za.executeTutorialNextStep())}))}function wi(){yo("DoneButtonClicked"),So("DoneButtonClicked");var e=kc(Tl);if(bo("StepWasTriggered",e),mi(e),!pi(e)){var t=yi();t||(li(),za.tutorialFinished())}}function yi(e){for(var t,n=0;n<Dl.length;n++)Dl[n].releaseEvents(e)&&(t=!0);return t}function bi(){try{return Tu[0].UserId}catch(e){return-1}}function ki(e){return e.offset().top<=0&&"relative"==e.css("position")&&(la().indexOf("IE")<0||"visible"==e.css("overflow-x")&&"visible"==e.css("overflow-y"))&&("IE 9"!=la()||Si(e))}function Si(e){try{var t=wmjQuery("<div />");t.important({position:"absolute",top:0,visibility:"hidden"}),e.append(t);var n=t.offset().top;return t.remove(),n>0}catch(r){return!1}}function Ti(e,t){return(new Date).getTime()-e<t}function Ii(){return bl&&Ti(kl,Su)?bl:(bl=xi(),kl=(new Date).getTime(),bl)}function xi(){var e={top:0,left:0};if(!mc("collapsedMargins"))return e;var t=wmjQuery("body"),n=0;if(ki(t)){{t.css("margin-top")}t.find("> div").each(function(){var e=wmjQuery(this),t=e.offset().top,r=e.position().top;if(parseInt(e.css("margin-top"),10)>0){var o=t-r;o>n&&(n=o)}})}return e.top+=n,e}function Ci(e,t){for(var n=e,r=za.getUiUtils().getStyle(e,t);r&&"static"==r.position;)n=n.parentNode,r=za.getUiUtils().getStyle(n,t);var o=za.getBodyInheritedMargin();o.top=Ni(o.top),o.left=Ni(o.left);var i={top:o.top,left:o.left},a=Ii();if(i.top+=a.top,i.left+=a.left,r)for(Ei(i,n,r,"margin"),Pi(i,n,r),Di(i,n,r),n=n.parentNode,r=za.getUiUtils().getStyle(n,t);r;)Ei(i,n,r,"margin"),Ei(i,n,r,"padding"),Pi(i,n,r),Di(i,n,r),n=n.parentNode,r=za.getUiUtils().getStyle(n,t);return i}function Di(e,t,n){"static"!=n.position&&(e.top+=Ni(n.top),e.left+=Ni(n.left))}function Ei(e,t,n,r){e.top+=Ni(n[r+"Top"]),e.left+=Ni(n[r+"Left"])}function Pi(e,t,n){/(html|body)/i.test(t.tagName)||(e.top+=ji(n.borderTopWidth),e.left+=ji(n.borderLeftWidth))}function Ni(e){return"string"==typeof e&&(e=e.replace("px","")),isNaN(e)?0:parseInt(e)}function ji(e){var t=1,n=3,r=5,o=0;switch(e){case"thin":o=t;break;case"medium":o=n;break;case"thick":o=r;break;default:o=Math.round(parseFloat(e))}return o}function Ai(e){var t=!0;return e.parentsUntil("html").each(function(e,n){"relative"!=mtjQuery(n).css("position")&&(t=!1)}),t}function _i(e,t,n){e.css("border",""+t.BalloonBorderWidth+"px solid "+t.BorderColor),di(t,"Color"),di(t,"BalloonColor2");var r=void 0!=t.BalloonColor2?t.BalloonColor2:t.Color,o=void 0!=t.BalloonRadius?t.BalloonRadius:15,i=""+o+"px";if(e.css("-moz-border-radius",i),e.css("-webkit-border-radius",i),e.css("border-radius",i),t.Color==r?e.css("background",t.Color):(e.css("background","-moz-linear-gradient(top, "+t.Color+", "+r+")"),e.css("background","-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+t.Color+"), color-stop(100%,"+r+"))"),e.css("background","-webkit-linear-gradient(top, "+t.Color+" 0%,"+r+" 100%)"),e.css("background","-o-linear-gradient(top, "+t.Color+" 0%,"+r+" 100%)"),e.css("background","-ms-linear-gradient(top, "+t.Color+" 0%,"+r+" 100%)"),e.css("background","linear-gradient(to bottom, "+t.Color+" 0%,"+r+" 100%)"),e.css("filter","progid:DXImageTransform.Microsoft.gradient( startColorstr='"+t.Color+"', endColorstr='"+r+"',GradientType=0 )"),-1==e.css("background-image").indexOf("gradient")&&(e.css("background-image","url('"+Ou+"/player/resources/images/spacer.gif')"),e.css("background-repeat","repeat")),Ha()||e.css("border-radius","0px")),!n){var a="0px 0px";switch(parseInt(t.Position)){case iu.Top:a="-3px -3px";break;case iu.Right:a="4px -4px";break;case iu.Bottom:a="4px 4px";break;case iu.Left:a="-4px 4px"}var s=" 3px rgba(0, 0, 0, 0.2)";e.css("-moz-box-shadow",a+s),e.css("-webkit-box-shadow",a+s),e.css("box-shadow",a+s)}}function Ri(e,t){var n=e.left+t.left,r=e.top+t.top,o=e.right-e.left,i=e.bottom-e.top,a=e.right+t.left,s=e.bottom+t.top;return{top:r,left:n,width:o,height:i,right:a,bottom:s}}function Li(e,t){if(!e)return void(t&&t());var n=mtjQuery("iframe",e);0==n.length?Ui(function(){e.remove(),t&&t()},1):(n.attr("src",""),Ui(function(){n.hide(),n.remove(),e.remove(),t&&t()},1))}function Bi(e){for(var t=Vc(e),n={top:0,left:0},r=0;r<t.length;r++){var o=t[r].offset();n.top+=o.top,n.top-=t[r][0].contentWindow.document.body.scrollTop||t[r][0].contentWindow.document.documentElement.scrollTop,n.left+=o.left,n.left-=t[r][0].contentWindow.document.body.scrollLeft||t[r][0].contentWindow.document.documentElement.scrollLeft}return n}function Mi(e){try{if("1.7.1"!=e.jquery)return;var t=e[0].ownerDocument.documentMode;if(7==t||8==t){var n=e.data("iframe");if(n&&"FRAME"==n[0].tagName)return!0}}catch(r){}}function Oi(e,t){if(Mi(e)){var n=e[0].ownerDocument;t.top+=n.body.scrollTop||n.documentElement.scrollTop,t.left+=n.body.scrollLeft||n.documentElement.scrollLeft}}function Fi(e,t){t=wmjQuery.extend({},ku,t);var n=Bi(e),r=e.offset();n.top+=r.top,n.left+=r.left,Oi(e,n);var o=Hc(mc("fixIframeScroll")?e:mtjQuery(window)),i=o.top()+t.top,a=o.left()+t.left,s=o.height()-t.bottom+(o.top()-0),u=o.width()-t.right+(o.left()-0),l=Uc(n.top,n.left+e.width(),n.top+e.height(),n.left,i,u,s,a);return l}function Gi(e,t,n,r,o){r=r||window;var i=this;i.timeoutsDict=n;var a=function(){i.clear(),e.apply(r,o||arguments)};this.id=setTimeout(a,t),i.timeoutsDict[this.id]=i,jl[Al+this.id]=this.id,this.pause=function(){this.cleared||(delete i.timeoutsDict[this.id],fc(this.id))},this.resume=function(){this.cleared||(this.id=setTimeout(a,10),i.timeoutsDict[this.id]=i)}}function Qi(e,t,n,r,o){this.timeoutsDict=n,r=r||window;var i=function(){e.apply(r,o||arguments)};this.id=setInterval(i,t),n[this.id]=this,jl[Al+this.id]=this.id}function Wi(e,t){return new Gi(e,t,Pl)}function Ui(e,t){return new Gi(e,t,El)}function Vi(e,t){return new Qi(e,t,Pl)}function Hi(e){qi(e,function(e){e.clear()})}function zi(e){qi(e,function(e){Nl.push(e),e.pause()})}function $i(){for(var e=0;e<Nl.length;e++)Nl[e].resume();Nl.length=0}function qi(e,t){for(var n in e)if(e.hasOwnProperty(n))try{t(e[n])}catch(r){}}function Xi(){ml&&ml.enabled()?zi(Pl):Hi(Pl),oc=!1}function Ji(){Xi(),za.releaseLibTimeouts()}function Yi(){zi(Pl),zi(El)}function Ki(){$i(Pl),$i(El)}function Zi(){for(var e=0;e<_l.length;e++)try{_l[e].element.off(_l[e].eventName)}catch(t){}_l=new Array}function ea(e,t,n){za.Logger.customerLog(e,t,n)}function ta(e){for(var t=0;t<Tu.length;t++)if(Tu[t].TutorialId==e)return Tu[t].Name;return""}function na(){var e="withCredentials"in new XMLHttpRequest;return e}function ra(){var e=!1,t=!!window.wm_no_audit,n=!!jn("wm-no-audit"),r=mc("blockJsonp")?na():!0;return!r||!Bu.get()||mc("noAudit")||e||t||n}function oa(){var e=new Date;return e.getTime()}function ia(){var e=Wo();return e&&e.Steps[Tl]}function aa(){return cc}function sa(){return mc("disableWidgetOpenFullUrl")?"":window.location.href}function ua(){return navigator.userAgent}function la(){var e=ua(),t="Unknown",n="",r=-1;if(-1!=(r=e.indexOf("Opera")))if(t="Opera",/Version\/(\S+)/.test(e))n=RegExp.$1;else{var o=Math.max(e.lastIndexOf(" "),e.lastIndexOf("/"));n=e.substring(o+1)}else-1!=(r=e.indexOf("MSIE"))?(t="IE",n=ca(e,r+5)):-1!=(r=e.indexOf("Chrome"))?(t="Chrome",n=e.substring(r+7,e.lastIndexOf(" "))):(r=-1!=e.indexOf("Safari"))?(t="Safari",/Version\/(\S+)/.test(e)&&(n=RegExp.$1)):/Firefox\/(\S+)/.test(e)?(t="Firefox",n=RegExp.$1):-1!=e.indexOf("Trident")&&-1!=(r=e.indexOf("rv:"))?(t="IE",n=ca(e,r+3)):(nameOffset=e.lastIndexOf(" ")+1)<(r=e.lastIndexOf("/"))&&(t=e.substring(nameOffset,r),n=e.substring(r+1));var i=t+" "+n;return i.substring(0,21)}function ca(e,t){var n=e.substring(t).indexOf(".");return e.substring(t,t+n)}function da(){var e=ua(),t="Unknown";return-1!=e.indexOf("Win")&&(t="Windows"),-1!=e.indexOf("Mac")&&(t="MacOS"),-1!=e.indexOf("X11")&&(t="UNIX"),-1!=e.indexOf("Linux")&&(t="Linux"),-1!=e.indexOf("Android")&&(t="Android"),(-1!=e.indexOf("iPad")||-1!=e.indexOf("iPod")||-1!=e.indexOf("iPhone"))&&(t="iOS"),t}function fa(e){try{if(ra())return!0;if(mc("disableAuditErrorLog"))return!0;if(ac++,ac>5)return;var t=l("_currentTutorial={0};_currentStep={1};_currentState={2};_currentPlayGUID={3};_isInRecorder={4};_userGuid={5};LibVersion={6};UA={7};",Sl,Tl,Il,Gu._currentPlayGUID,rc,al,za.SVNRevision,navigator.userAgent);ea(e+" ExtraData: "+t)}catch(n){}}function pa(e){var t=_a();if(0==t.length)return!1;var n=mtjQuery("#walkme-popup-element",t);if(n.length<=0||e){var r="walkme-popup-element";e&&(r+="-"+n.length),n=mtjQuery(t[0].ownerDocument.createElement("div")),n.attr({id:r}),n.css("width","0px;"),n.css("height","0px;"),mtjQuery(t.append(n))}return n.data("iframe",t),n}function ga(e,t){return e.length>=t.length&&e.lastIndexOf(t)+t.length==e.length}function ma(e,t){return 0==e.indexOf(t)}function ha(e){return void 0!=e&&e.length>0}function va(){this.NumNodeRemove=0,this.NumNodeDiff=0,this.SumNodeDiff=0}function wa(e){return"html"==e[0].tag&&"body"==e[1].tag?e.slice(2):"html"==e[0].tag&&"body"!=e[1].tag?e.slice(1):void za.Logger.error(!1,"Fatal in removeBodyAndHtmlFromXpathArray: "+qc(e))}function ya(e){for(var t=0,n=e.length-1;n>t;){var r=e[t];e[t]=e[n],e[n]=r,t++,n--}}function ba(e,t,n){var r;if(t)for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n;return-1}function ka(e,t){if(za.isWalkMeVisible()&&ha(za.getCustomCssProp())){var n=Ia(e);if(n){var r="wm_custom_css_set";rc&&n.data(r,!1);var o=n.data(r);(t||!o)&&(o&&Sa(n),Ta(n,r))}}}function Sa(e){wmjQuery("#walkme-custom-css",e).remove()}function Ta(e,t){var n=za.getCustomCssProp();n=jd(n,["&",'"',"'",">"]),za.ResourceManager.injectCss(n,"walkme-custom-css",e,null,"walkme-player-css"),e.data(t,!0)}function Ia(e){if(!e){var t;return za.shouldHandlePageAsFramesets()&&(t=Aa(wmjQuery(_makeTutorial.getBiggestFrame()))),wmjQuery("head",t)}return rc||e.data("iframe")?e.parents("html").children("head"):void 0}function xa(e,t,n,r,o){var i=jr(r),a=i.BalloonSettings,s='<div class="mt-to-destroy walkme-custom-popup mt-custom-popup walkme-custom-popup-'+e+" mt-custom-popup-"+e+' CUSTOM-TUTORIAL-ID mt-to-destroy" id="walkme-popup-body" style="CSS-RESET width:'+n+'px">'+t+"</div>";s=s.replace(/CSS-RESET/g,ou),s=s.replace(/CUSTOM-TUTORIAL-ID/g,"walkme-custom-walkthru-"+r);var u=_a();u.append(s),Pd=mtjQuery("#walkme-popup-body",u),Pd.css({position:"fixed","z-index":uu,padding:"8px 12px 12px 12px","font-family":"Arial"}),_i(Pd,a,!1);var l=0;mtjQuery.each(mtjQuery("[width], [style*=width]",Pd),function(e,t){mtjQuery(t).width()>l&&(l=mtjQuery(t).width())}),Pd.width()<l&&Pd.css("width",l+"px"),za.centerElementInPage(Pd,!1),Rl=Vi(function(){za.centerElementInPage(Pd,!0)},1e3),za.isQuirksMode()||za.shouldHandlePageAsFramesets()||U.displayOverlay(2147483630,!0),Pd.fadeIn("slow"),gi(Pd),o&&o(Pd)}function Ca(e){Rl&&Rl.clear(),U.removeOverlay(),Li(Pd,e),Pd=null}function Da(e,t){return void 0===e?t:e}function Ea(e,t,n,r,o,i){this.width=e,this.height=t,this.point_direction=Da(n,0),this.angle=Da(r,0),this.color=Da(o,"red"),this.background=Da(i,"transparent")}function Pa(e){return e?0==e.length?!1:!0:!1}function Na(e,t){return Pa(e)&&t in e?!0:!1}function ja(e,t,n){return Pa(e)&&Na(e,t)?e[t]:n}function Aa(e){var t=e[0];if(void 0==t)return[];var n;try{n=t.contentDocument?t.contentDocument:t.contentWindow?t.contentWindow.document:[],n=mtjQuery(n)}catch(r){W.handleCrossDomainError(r),n=[]}return n}function _a(e,t){if(window.walkme_get_top_container){var n=window.walkme_get_top_container();if(n)return mtjQuery(n)}var r;return r=e?e.parents("body"):mtjQuery("body"),(0==r.length||"FRAMESET"==Ua(r[0]))&&(r=e?e.parents("html"):t||!za.shouldHandlePageAsFramesets()?mtjQuery("html"):mtjQuery("body",Aa(mtjQuery(za.getBiggestFrame())))),r}function Ra(e,t){var n=_n(),r=e.parents("div"),o=fd(r,function(e){var e=n(e);return void 0!=e.data&&void 0!=e.data("jsp")?e:void 0});return o?wmjQuery(o).find(".jspPane"):t}function La(){var e="Lib on "+walkme_lib_notify_ServerName+": "+za.SVNRevision;if(za.isQuirksMode())return void ea(e,5);var t=bs.to_html("<div id='walkme-dev-mode-alert' class='walkme-to-remove' style='z-index: {{{popupBalloonZindex}}}; position: fixed; top: 0; left: 30px; background-color: {{{backgroundColor}}}; font-size: 15px;'>{{{message}}}</div>",{popupBalloonZindex:uu,backgroundColor:Ba(walkme_lib_notify_ServerName),message:e}),n=_a(null,!0);mtjQuery("#walkme-dev-mode-alert",n).remove(),n.append(t)}function Ba(e){var t;switch(e){case"Dev":t="lightblue";break;case"QA":t="red";break;case"Test":t="yellow";break;case"local":t="lightgreen";break;default:t="pink"}return t}function Ma(){try{if(FB._inCanvas&&FB.Canvas.getPageInfo)return 1==window.walkme_dont_use_fb_scroll?!1:!0}catch(e){return!1}}function Oa(e,t,n,r,o,i,a,s){if(void 0==a||null==a)var a={top:0,left:0};n>500&&(n=0);var u=(i-mtjQuery(e).outerHeight())/2+r+a.top,l=(o-mtjQuery(e).outerWidth())/2+n+a.left;u=Math.round(u>0?u:0),l=Math.round(l>0?l:0),Math.abs(u-mtjQuery(e).offset().top)<2&&Math.abs(l-mtjQuery(e).offset().left)<2||(u+="px",l+="px",mtjQuery(e).css({position:"absolute",margin:0}),t?(s=s?s:{duration:400},mtjQuery(e).animate({top:u,left:l},s)):mtjQuery(e).css({top:u,left:l}))}function Fa(e,t){FB.Canvas.getPageInfo(function(n){Ga(e,t,n)})}function Ga(e,t,n){Oa(e,t,n.scrollLeft,n.scrollTop,mtjQuery(window).width(),n.clientHeight)}function Qa(e){function t(e,t){for(var n=e.split("."),r=t,o=0;o<n.length;o++)r=r[n[o]];return r}var n={result:null,iframe:null},r=new Array;if(e.params)for(var o=0;o<e.params.length;o++)r.push(e.params[o].value);var i=window;if(e.iframe){if(i=mtjQuery(e.iframe),0==i.length)throw"Iframe not found: "+e.iframe;i=i.contents()[0],i=i.parentWindow||i.defaultView,n.iframe=mtjQuery(e.iframe)}var a=t(e["function"],i);if(!a)throw"Function not found: "+e["function"];var s;if(e["this"]){if(s=t(e["this"],i),!s)throw"'This' not found: "+e["this"]}else s=-1==e["function"].indexOf(".")?null:t(e["function"].substring(0,e["function"].lastIndexOf(".")),i);var u=a.apply(s,r);return n.result=u,n}function Wa(e){this.evaluate=function(t){function n(t){if("Func"==t.nodeType){var r=e.getFunctionsByLibNameType(t.funcName),o=[];o.push(t.funcArgs);var i=r.apply(this,o);return t.result=i,i}if("And"==t.nodeType){var i=n(t.leftSon)&&n(t.rightSon);return t.result=i,i}if("Or"==t.nodeType){var i=n(t.leftSon)||n(t.rightSon);return t.result=i,i}return!1}return null==t?!0:n(t)}}function Ua(e){var t=e.tagName;return t.toUpperCase&&(t=t.toUpperCase()),t}function Va(e,t,n,r,i){function a(){c=t.get(),f=n.getEndUserId,d=r.error}function s(e){try{if(p||ra())return!0;var t=c.Settings.abTesting.testNumber,n=void 0!=window.wm_customData?wm_customData.abTestingData:null;wl.execute({url:i.get()+"/Statistics/AddAbTestingWidgetVisible",data:{userGuid:al,endUserId:f(),testNumber:t,isVisible:e,customDataSerialized:o(n)}})}catch(r){d(r,"Could not report ab testing result to server")}}function u(t,n,r){var o=t+c.Settings.abTesting.testNumber,i=e.getData(o);if(i===!0||i===!1)return i;var a=l(1,100);return i=n>=a,e.saveData(o,i,nc),r&&r(i),i}function l(e,t){return Math.floor(Math.random()*(t-e+1)+e)}this.LocalSVNRevision="$Rev: 4006 $";var c,d,f,p,g=this,m="wm-absl-",h="wm-abss-";g.shouldLoadWalkme=function(){try{return g.isAbTestingEnabled()?u(m,c.Settings.abTesting.loadPercentage):!0}catch(e){return d(e,"Could not check if Walkme should be loaded according to AB Testing"),!0}},g.shouldShowWidget=function(){try{if(!g.isAbTestingEnabled())return!0;var e=h;return window.walkme_ab_imp_cookie&&(e+=f()+"-"),u(e,c.Settings.abTesting.showPercentage,s)}catch(t){return d(t,"Could not check if widget should be shown according to AB Testing"),!0}},g.isAbTestingEnabled=function(){var e=c.Settings&&c.Settings.abTesting&&parseInt(c.Settings.abTesting.enabled),t=mc("abtesting")&&e&&!Rn()&&!Ln();return t},g.disableReport=function(){p=!0},a.apply(null,arguments)}function Ha(){return!wmjQuery.browser.msie||wmjQuery.browser.version>=10&&document.documentMode&&document.documentMode>=10}var za=this,$a=0,qa=0;this.MTVersion="1.0",this.SVNRevision="$MasterRev: 4610 $",this.LibVersion="533",this.LocalSVNRevision="$Rev: 4608 $",this.SpecialRevision="no";var Xa=function(e){e=e||{},e.version="0.3.3";return e.logger=function(){},e.log=function(t,n,r){n&&(t="[class="+n.name()+"] "+t),e.logger("DI - "+t,r||4)},e.error=function(t,n,r){e.log(t,n,r)},e.createContext=function(){function t(e){for(;e.indexOf(" ")>=0;)e=e.replace(" ","");return e}var n={map:{}};return n.entry=function(e){return n.map[e]},n.register=function(t,r,o){var i=e.entry(t,n).type(r).args(o);return n.map[t]=i,i},n.has=function(e){return null!=n.entry(e)},n.get=function(t,r){return n.has(t)||e.error("Object["+t+"] is not registered"),n.entry(t).getObject(r)},n.create=function(t,r){return n.entry(t).strategy()==e.strategy.singleton&&e.error("Attempt to create singleton object ["+t+"]"),n.has(t)?n.entry(t).create(r):void e.error("Object["+t+"] is not registered")},n.initialize=function(){function e(e){var t=n.entry(e);t.initialize()&&t.strategy().initialize()&&n.get(e)}return function(t){if(t)e(t);else for(var t in n.map)e(t)}}(),n.clear=function(){this.map={}},n.resolve=function(t){var r=t.load(),o={};return n.eachDependency(t.dependencies(),function(i,a){var s=n.get(i,r);n.ready(s,n.entry(i)),null==s&&e.error("Dependency ["+t.name()+"."+a+"]->["+i+"] can not be satisfied",t),o[a]=s}),o},n.eachDependency=function(n,r){if(n)for(var o=t(n).split(","),i=0;i<o.length;i++){var a=o[i];if(a){var s=e.dependencyExpression(a);r(s.name,s.property,i)}}},n.ready=function(t,r){var o=r.wasReady();if(r.wasReady(!0),!o){e.log("created class",r);var i=n.createCallback();i&&i(r.name(),t),t&&"function"==typeof t.ready&&(r.wasReady(!0),t.ready.call(t,r.injector().ready(t,r)))}return t},n.createCallback=function(){var e;return function(t){return 0==arguments.length?e:(e=t,n)}}(),n},e.dependencyExpression=function(e){var t={},n=e,r=e;if(e.indexOf("=")>0){var o=e.split("=");n=o[0],r=o[1]}return t.name=r,t.property=n,t},e.entry=function(t,n){function r(e){s[e]=function(t){return arguments.length?(l[e]=t,s):l[e]}}function o(e,t){return void 0!=t&&s.type(t),s.factory(e),s}function i(e,t){return void 0!=t&&s.dependencies(t),s.load(e),s}var a,s={};s.name=function(){return t};for(var u=["load","wasReady","strategy","injector","type","dependencies","args","factory","initialize"],l={},c=0;c<u.length;c++){var d=u[c];r(d)}return s.depsDictionary=function(e){return arguments.length?(l.depsDictionary=e,s):(!l.depsDictionary&&l.strategy.test(a)&&s.depsDictionary(n.resolve(s)),l.depsDictionary)},l.strategy=e.defaults.strategy,l.factory=e.defaults.factory,l.injector=e.defaults.injector,l.load=e.defaults.load,l.wasReady=!1,l.initialize=!0,s.create=function(t,r,o){o=o||e.load.recursive;var i=l.strategy.test(a,o);if(r)return i;i&&(t=l.injector.create(t?t:l.args,s,n,o));var u=l.strategy.create(a,l.factory,l.type,t,n,s,o);return n.ready(u,s)},s.getObject=function(e){return s.create(void 0,void 0,e)},s.object=function(e){return arguments.length?(a=e,s):s.create()},s.asFunction=function(t){return o(e.factory.func,t)},s.asInstance=function(t){return o(e.factory.instance,t)},s.asCtor=function(t){return o(e.factory.constructor,t)},s.asSingleton=function(){return s.strategy(e.strategy.singleton)},s.asProto=function(){return s.strategy(e.strategy.proto)},s.injectToCtor=function(){return s.injector(e.injector.ctor)},s.injectToReady=function(){return s.injector(e.injector.ready)},s.injectToProperty=function(){return s.injector(e.injector.property)},s.flatDependencies=function(t){return i(e.load.flat,t)},s.recursiveDependencies=function(t){return i(e.load.recursive,t)},s},e.strategy={proto:{test:function(e,t){return!0&&(!t||t())},initialize:function(){return!1},create:function(e,t,n,r,o,i,a){return e=t(n,r,i),a()&&i.injector().ready(e,i),i.depsDictionary(void 0),i.wasReady(!1),e}},singleton:{test:function(e,t){return!e&&(!t||t())},initialize:function(){return!0},create:function(e,t,n,r,o,i,a){return e||(e=t(n,r,i),a()&&i.injector().ready(e,i),i.object(e),i.wasReady(!1)),e}}},e.factory={constructor:function(t,n,r){return n instanceof Array?(n.length>30&&e.error("trying to create a class with too many args!",r),new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24],n[25],n[26],n[27],n[28],n[29])):new t(n)},func:function(e,t){return t instanceof Array?e.apply(e,t):e(t)},instance:function(e){return e}},e.injector={property:{create:function(e){return e},ready:function(e,t){var n=t.depsDictionary();for(var r in n)e[r]=n[r];var o=t.args();void 0==o||n.hasOwnProperty("args")||(e.args=o)}},ready:{create:function(e){return e},ready:function(e,t){var n=t.args(),r=t.depsDictionary();return void 0==n||r.hasOwnProperty("args")||(r.args=n),r}},ctor:{create:function(e,t,n){var r=[],o=t.depsDictionary();if(n.eachDependency(t.dependencies(),function(e,t,n){r[n]=o[t]}),e){e=e instanceof Array?e:[e];for(var i=0;i<e.length;i++)r.push(e[i])}return r},ready:function(){}}},e.load={flat:function(){return!1},recursive:function(){return!0}},e.defaults={strategy:e.strategy.singleton,factory:e.factory.constructor,injector:e.injector.ctor,load:e.load.recursive},e}(),Ja=Xa.createContext();Ja.register("LibInitializer").asCtor(e).dependencies("Lib,StorageManager,AbPermutationManager,EndUsersManager,ConditionTreeEvaluator,CommonUtils,SettingsFile,WmInternals");var Ya=null;this.Init=function(){Rs=(new Date).getTime(),Ya.startInitializer()},this.dataFileLoaded=function(){Ya.dataFileLoadedWrapper()};var Ka="passOwnership",Za="auditSteps",es="goals",ts="sticky",ns="balloon",rs="resources",os="FramesetsUtils",is="elementFinder",as="showLaunchers",ss="tasks",us="content",ls="hl",cs="autostart",ds="salesforce",fs="superstep",ps="wm-load-testme",gs={Cookies:"cookies",LocalStorage:"localStorage",IndexedDB:"indexedDB"},ms={NOTHING:0,NEXT_BUTTON:1,CLICK:2,HOVER:3,PAGE_CHANGED:4,KEY_PRESSED:5,DURATION:6},hs={FreeText:0,RadioButton:1,CheckBox:2},vs={Normal:0,Popup:1,Action:2},ws={Deactive:0,Active:1,ActiveAndReset:2},ys={};!function(e,t){function n(e){return String(null===e||void 0===e?"":e)}function r(e){return e=n(e),l.test(e)?e.replace(o,"&amp;").replace(i,"&lt;").replace(a,"&gt;").replace(s,"&#39;").replace(u,"&quot;"):e}e.Template=function(e,n,r,o){this.r=e||this.r,this.c=r,this.options=o,this.text=n||"",this.buf=t?[]:""},e.Template.prototype={r:function(){return""},v:r,t:n,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},rp:function(e,t,n,r){var o=n[e];return o?(this.c&&"string"==typeof o&&(o=this.c.compile(o,this.options)),o.ri(t,n,r)):""},rs:function(e,t,n){var r=e[e.length-1];if(!c(r))return void n(e,t,this);for(var o=0;o<r.length;o++)e.push(r[o]),n(e,t,this),e.pop()},s:function(e,t,n,r,o,i,a){var s;return c(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ls(e,t,n,r,o,i,a)),s=""===e||!!e,!r&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,t,n,r){var o=e.split("."),i=this.f(o[0],t,n,r),a=null;if("."===e&&c(t[t.length-2]))return t[t.length-1];for(var s=1;s<o.length;s++)i&&"object"==typeof i&&o[s]in i?(a=i,i=i[o[s]]):i="";return r&&!i?!1:(r||"function"!=typeof i||(t.push(a),i=this.lv(i,t,n),t.pop()),i)},f:function(e,t,n,r){for(var o=!1,i=null,a=!1,s=t.length-1;s>=0;s--)if(i=t[s],i&&"object"==typeof i&&e in i){o=i[e],a=!0;break}return a?(r||"function"!=typeof o||(o=this.lv(o,t,n)),o):r?!1:""},ho:function(e,t,n,r,o){var i=this.c,a=this.options;a.delimiters=o;var r=e.call(t,r);return r=null==r?String(r):r.toString(),this.b(i.compile(r,a).render(t,n)),!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ls:function(e,t,n,r,o,i,a){var s=t[t.length-1],u=null;if(!r&&this.c&&e.length>0)return this.ho(e,s,n,this.text.substring(o,i),a);if(u=e.call(s),"function"==typeof u){if(r)return!0;if(this.c)return this.ho(u,s,n,this.text.substring(o,i),a)}return u},lv:function(e,t,r){var o=t[t.length-1],i=e.call(o);return"function"==typeof i&&(i=n(i.call(o)),this.c&&~i.indexOf("{{"))?this.c.compile(i,this.options).render(o,r):n(i)}};var o=/&/g,i=/</g,a=/>/g,s=/\'/g,u=/\"/g,l=/[&<>\"\']/,c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(ys),function(e){function t(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function n(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function r(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var r=1,o=e.length;o>r;r++)if(t.charAt(n+r)!=e.charAt(r))return!1;return!0}function o(e,t,n,r){for(var s=[],u=null,l=null;e.length>0;)if(l=e.shift(),"#"==l.tag||"^"==l.tag||i(l,r))n.push(l),l.nodes=o(e,l.tag,n,r),s.push(l);else{if("/"==l.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+l.n);if(u=n.pop(),l.n!=u.n&&!a(l.n,u.n,r))throw new Error("Nesting error: "+u.n+" vs. "+l.n);return u.end=l.i,s}s.push(l)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return s}function i(e,t){for(var n=0,r=t.length;r>n;n++)if(t[n].o==e.n)return e.tag="#",!0}function a(e,t,n){for(var r=0,o=n.length;o>r;r++)if(n[r].c==e&&n[r].o==t)return!0}function s(e){return e.replace(b,"\\\\").replace(v,'\\"').replace(w,"\\n").replace(y,"\\r")}function u(e){return~e.indexOf(".")?"d":"f"}function l(e){for(var t="",n=0,r=e.length;r>n;n++){var o=e[n].tag;"#"==o?t+=c(e[n].nodes,e[n].n,u(e[n].n),e[n].i,e[n].end,e[n].otag+" "+e[n].ctag):"^"==o?t+=d(e[n].nodes,e[n].n,u(e[n].n)):"<"==o||">"==o?t+=f(e[n]):"{"==o||"&"==o?t+=p(e[n].n,u(e[n].n)):"\n"==o?t+=m('"\\n"'+(e.length-1==n?"":" + i")):"_v"==o?t+=g(e[n].n,u(e[n].n)):void 0===o&&(t+=m('"'+s(e[n])+'"'))
}return t}function c(e,t,n,r,o,i){return"if(_.s(_."+n+'("'+s(t)+'",c,p,1),c,p,0,'+r+","+o+',"'+i+'")){_.rs(c,p,function(c,p,_){'+l(e)+"});c.pop();}"}function d(e,t,n){return"if(!_.s(_."+n+'("'+s(t)+'",c,p,1),c,p,1,0,0,"")){'+l(e)+"};"}function f(e){return'_.b(_.rp("'+s(e.n)+'",c,p,"'+(e.indent||"")+'"));'}function p(e,t){return"_.b(_.t(_."+t+'("'+s(e)+'",c,p,0)));'}function g(e,t){return"_.b(_.v(_."+t+'("'+s(e)+'",c,p,0)));'}function m(e){return"_.b("+e+");"}var h=/\S/,v=/\"/g,w=/\n/g,y=/\r/g,b=/\\/g,k={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};e.scan=function(e,o){function i(){v.length>0&&(w.push(new String(v)),v="")}function a(){for(var e=!0,t=S;t<w.length;t++)if(e=w[t].tag&&k[w[t].tag]<k._v||!w[t].tag&&null===w[t].match(h),!e)return!1;return e}function s(e,t){if(i(),e&&a())for(var n,r=S;r<w.length;r++)w[r].tag||((n=w[r+1])&&">"==n.tag&&(n.indent=w[r].toString()),w.splice(r,1));else t||w.push({tag:"\n"});y=!1,S=w.length}function u(e,t){var r="="+I,o=e.indexOf(r,t),i=n(e.substring(e.indexOf("=",t)+1,o)).split(" ");return T=i[0],I=i[1],o+r.length-1}var l=e.length,c=0,d=1,f=2,p=c,g=null,m=null,v="",w=[],y=!1,b=0,S=0,T="{{",I="}}";for(o&&(o=o.split(" "),T=o[0],I=o[1]),b=0;l>b;b++)p==c?r(T,e,b)?(--b,i(),p=d):"\n"==e.charAt(b)?s(y):v+=e.charAt(b):p==d?(b+=T.length-1,m=k[e.charAt(b+1)],g=m?e.charAt(b+1):"_v","="==g?(b=u(e,b),p=c):(m&&b++,p=f),y=b):r(I,e,b)?(w.push({tag:g,n:n(v),otag:T,ctag:I,i:"/"==g?y-I.length:b+T.length}),v="",b+=I.length-1,p=c,"{"==g&&("}}"==I?b++:t(w[w.length-1]))):v+=e.charAt(b);return s(y,!0),w},e.generate=function(t,n,r){var o='var _=this;_.b(i=i||"");'+l(t)+"return _.fl();";return r.asString?"function(c,p,i){"+o+";}":new e.Template(new Function("c","p","i",o),n,e,r)},e.parse=function(e,t,n){return n=n||{},o(e,"",[],n.sectionTags||[])},e.cache={},e.compile=function(e,t){t=t||{};var n=e+"||"+!!t.asString,r=this.cache[n];return r?r:(r=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t),this.cache[n]=r)}}(ys),function(e){e.to_html=function(t,n,r){var o=t;return"string"==typeof o?o=this.compile(t):"function"==typeof o&&(o=new e.Template(o)),o.render(n,r)}}(ys);var bs=ys,ks=/["\\\x00-\x1f\x7f-\x9f]/g,Ss={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};Ja.register("Logger").asCtor(y).dependencies("CookiesManager"),Ja.register("WalkmeLoader").asCtor(b).dependencies("Lib"),Ja.register("PositionHelper").asCtor(k).dependencies("Lib"),Ja.register("CookiesManager").asCtor(S),Ja.register("CookiesStorageManager").asCtor(T).asProto().injectToProperty().dependencies("cookiesManager=CookiesManager"),Ja.register("StorageManagerFactory").asCtor(C).dependencies("StorageManagerFactoryParams,SettingsFile,FeaturesManager"),Ja.register("SettingsFile").asCtor(D),Ja.register("TypedDataSender").asCtor(N).asProto(),Ja.register("ServerDataSenderManager").asCtor(j).dependencies("Lib,Logger,RecorderServerManager,ServerDataSenderManagerParams,StorageManager"),Ja.register("GoalsManager").asCtor(A).dependencies("ConditionTreeEvaluator,Lib,GoalsManagerParams,Logger"),Ja.register("WalkMeGoalsManager").asCtor(_).dependencies("StorageManager,GoalsManager,Lib,AbPermutationManager,GetAuditSourceFunc,ServerDataSenderManager,Logger");mtjQuery.extend(mtjQuery.easing,{easeOutBounce:function(e,t,n,r,o){return(t/=o)<1/2.75?7.5625*r*t*t+n:2/2.75>t?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeOutBack:function(e,t,n,r,o,i){return void 0==i&&(i=1.70158),r*((t=t/o-1)*t*((i+1)*t+i)+1)+n},easeOutElastic:function(e,t,n,r,o){var i=1.70158,a=0,s=r;if(0==t)return n;if(1==(t/=o))return n+r;if(a||(a=.3*o),s<Math.abs(r)){s=r;var i=a/4}else var i=a/(2*Math.PI)*Math.asin(r/s);return s*Math.pow(2,-10*t)*Math.sin(2*(t*o-i)*Math.PI/a)+r+n}}),O=new O,Ja.register("CommonUtils").asCtor(W);var W,U=new U(za);this.Balloon=function(){function e(e){return nt=e.positionHelper,ct=e.element,rt=e.forceEmbedBalloonInIframe,st=e.dontShowIoBalloon,Nt=e.isFirstStep,$=e.isViewStep,tt=e.siteConfig,et=ja(tt.Settings,"displayTO")||Qt,e.fixedSize&&(xt=e.fixedSize.width,Ct=e.fixedSize.height),It=e.stepSettings,e.text&&(ht=e.text.title,wt=e.text.subText,vt=Yc(e.text.content)),q=e.end,e.buttons&&(ft=e.buttons.next,pt=e.buttons.done,gt=e.buttons.back,mt=e.buttons.submit),kt=e.htmlContent,yt=e.innerHtml,bt=e.outterHtml,z=e.position,e.data&&(Dt=e.data.stepId,Et=e.data.tutorialId,Pt=e.data.type),t(e.isCaptureBalloon,$),Tt=e.configuration,za.FixConfiguration(Tt),at=e.logger,ut=at.wrapCustomerLog(ns),ka(ct),X=e.drawer,ct?(dt=!ct.data("iframe")||rt?!0:za.shouldHandlePageAsFramesets(),e.isCaptureBalloon&&o(),void r(Tt)):void(dt=!0)}function t(e,t){var n={lib:_makeTutorial,element:ct,settings:It,drawableType:"balloon",drawableId:Dt,monitor:!t&&!e,defaultSettings:e,cssKeysValues:[{id:Dt,name:"step"},{id:Et,name:"walkthru"}]};ot=new L(n),it=new B(n)}function n(){var e=kt?kt.html():za.parseBBCode(vt),t={title:za.parseBBCode(ht),content:e,customHtml:{inner:yt,outter:bt},stepIndexText:wt},n={balloonData:t,userGuid:al,nextButton:ft,doneButton:pt,backButton:gt,configuration:Tt,content:vt,title:ht,subtext:wt,settings:It,end:q,stepType:Pt,submitButton:mt,contentDiv:kt};return n}function r(e){var t=e.AnimateFirst&&!Nt||St||$,n=e.Vibrate&&!St;Ot=new M(e.Animation,n),t&&Ot.disableAnimation()}function o(){St=!0,dt=!1,St&&Ot&&Ot.disableAnimation()}function i(e,t,r,o){var i=dt?_a(e):_a(null,!0);K=X.generateBalloonDiv(i,St,Et,Dt,Pt,n()),gi(K),dt&&K.data("iframe",e.data("iframe"));var a=X.fixSize(K,e,dt,r,o);if(Pt&&Pt==vs.Popup)lt.showPopupBalloon(K);else{var s=nd(Tt.BalloonRadius)?Tt.BalloonRadius:15;lt.showNormalBalloon(K,a,t,i,s)}return K}function a(e,t,n,r){if(e.positionType==iu.Right||e.positionType==iu.Left){var o=mtjQuery(Gc(ct)).height();if(t.height+e.top>o){var i=X.arrowHeight()+1,a=n.top+n.height/2,s=a-t.height/2,u=a-t.height+i+r/2;u=Math.max(0,u);var l=a-i-r/2,c=o-t.height-1,d=Math.min(c,l);e.top=s,e.top=Math.min(d,e.top),e.top=Math.max(e.top,u),e.top=Math.max(0,e.top)}}return e}function s(){J&&(J.clear(),J=null)}function u(){for(var e=0;e<jt.length;e++)try{jt[e]()}catch(t){}jt.length=0}function l(e){if(e)try{e.unbind(),mtjQuery("*",e).unbind()}catch(t){}}function c(e,t){return Pt!=vs.Popup&&t!=Gt.None&&"fixed"!=e.css("position")?!0:!1}function d(e,t,n,r){var o=ja(It,Ft,Gt.Animated);e=e&&c(ct,o);var a=!1;e&&(a=f(ct));var s=i(ct,z,n,r);!a&&e?m(ct,null,function(){var e=function(){b(ct,g(It))};St||!A(e)?Ot.animate(t):t&&t()},It,z,o):Ot.animate(t),X.manipulationsForInlineCss(s)}function f(e){var t=_n();if(!t)return!1;var n=e.parents("div"),r=fd(n,function(e){var e=t(e);return nd(e.data)&&nd(e.data("jsp"))?e:void 0});return r?(t(r).data("jsp").scrollToElement(e,!0,!1),!0):!1}function p(e,t,n,r,o){return 0==n||2==n?e+t+r>o:e>o}function g(e){var t=ja(e,"endScroll",-1);return t>=0?{distance:parseInt(t,10),unit:ja(e,"scrollUnit","%"),force:ja(e,"forceScroll",0)}:void 0}function m(e,t,n,r,o,i){try{var a,s=i==Gt.Animated&&!e.data("iframe")&&1!=ja(r,"scrollOld","0"),u=!1,l=g(r);if(s){a=T(e,o,l);try{I(a,e,l,o,n)&&(u=!0)}catch(c){}}u&&i!=Gt.Normal||(a=e,y(a,e,o,l,n))}catch(c){at.error(c)}}function h(e,t){return"px"==t.unit?t.distance:Hc(e).height()*t.distance/100}function v(e,t){if(t&&t.force){var n=h(e,t);return{top:n,bottom:0}}return ku}function w(e,t,n){return Fi(e,t)&&F(e,n)}function y(e,t,n,r,o){var i=v(e,r);w(e,i,n)||S(e,r,!0,null!=t.data("iframe")),o&&o()}function b(e,t){var n=v(e,t);if(!Fi(K,n)){var r=e.offset().top>K.offset().top;S(K,t,r)}}function S(e,t,n,r){t&&!r?window.scrollTo(0,e.offset().top-h(e,t)):e[0].scrollIntoView(n)}function T(e,t,n){var r,o=Z[0],i=e,a=Hc(e),s=v(e,n),u=e.offset().top<K.offset().top||e.offset().top+e.height()<K.offset().top+K.height(),l=a.top()-0+a.height()-0;!n||1!=t&&3!=t?u?(r=l-s.bottom<=e.offset().top+e.height()+K.height()+o.height()?"down":"up",i="down"==r?K:e):(r=a.top()+s.top>=e.offset().top-K.height()-o.height()?"up":"down",i="down"==r?e:K):i=e.outerHeight()>K.height()?e:K;var c=p(e.height(),K.height(),t,o.height(),a.height()-0);return c&&(i=K),i}function I(e,t,n,r,o){function i(i){var a={duration:"slow",rootElement:i,elementToFindScrollableFor:t,complete:function(){o&&o()},heightLimit:!mc("noHgtLmt")};if(n){var s=K.height();a.endScroll={scrollOptions:n,balloonHeight:C(t,r,s),totalDrawnHeight:x(t,r,s)}}return e.scrollintoview(a)}return za.isQuirksMode(ct[0])?!1:i("html")?!0:w(t,v(t,n),r)?!1:i("body")}function x(e,t,n){var r=e.outerHeight(),o=Hc(e).height()-0;return p(r,n,t,X.arrowHeight(),o)?n:0==t||2==t?r+n+X.arrowHeight()+1-parseInt(ja(It,"topOffset",0)):Math.max(r,n)}function C(e,t,n){var r=e.height(),o=parseInt(ja(It,"topOffset",0));return 0==t?n+X.arrowHeight()+1-o:2==t?r+n+X.arrowHeight()+1-o:n>r?n-o:(r-n)/2+n-o}function D(){switch(Il){case Us.WAITING_FOR_ELEMENT_EVENT:case Us.WAITING_FOR_NEXT_BUTTON_CLICK:case Us.WAITING_FOR_PAGE_CHANGE:return!0;default:return!1}}function E(){P()?(ut("Sticky - keep looking for element.",5),za.releaseBalloons(),Il=Us.WAITING_FOR_STICKY_ELEMENT,za.executeCurrentStep()):N()?(Ll=!1,ut("Skippable - continue to next step."),za.executeTutorialNextStep()):Il!=Us.WAITING_FOR_PAGE_CHANGE&&(ut("Stopping walk-thru."),za.releaseBalloons(),Il=Us.PAUSED,yo("WalkthruStopped"),So("TutorialStopped"))}function P(){return ja(Wo().Steps[Tl].Settings,"sticky",0)}function N(){return Wo().Steps[Tl].IsSkippable}function j(){return Pt==vs.Popup}function A(e){var t={top:0,left:0},n=!1,r=!1;if(dt){var o=ct.offset();t.top=Math.floor(o.top),t.left=Math.floor(o.left)}else{var i=nt.getPosRelativeToWindow(ct[0],window,!0);t.top=i.top,t.left=i.left,_()&&(n=!0)}Oi(ct,t),F(ct,z)||(n=!0);var a=ct.height(),s=ct.width();_t=null;var u=R(t.top,t.left,a,s);return O(t.top,t.left,a,s),u?(ut("Element position changed, destroying it",5,ns),r=!0,_t=nt.getElementBounds(ct,dt,window,It),lt.destroy(!0,function(){ut("Finished destorying balloon",5,ns),n||Y||(ut("Redrawing balloon",5,ns),lt.Show(!1,function(){_t=null,e&&e()}))})):e&&e(),r}function _(){var e=ct.data("iframe");return e&&nt.isElementScrolledOut(ct,e,z)}function R(e,t,n,r){return null!=Rt&&null!=Lt&&null!=Bt&&null!=Mt&&(Rt!=e||Lt!=t||Bt!=n||Mt!=r)}function O(e,t,n,r){Rt=e,Lt=t,Bt=n,Mt=r}function F(e,t){if(mc("disableIEVRTP"))return!0;var n=W(e);if(n)return!0;var r=G(e,t),o=e.parents("div"),i=!dd(o,function(e){var e=mtjQuery(e),t=e.css("overflow"),n=Q(t),o=V(r,e);return n&&o});return i}function G(e,t){var n=e.offset(),r=e.height(),o=e.width(),i={top:n.top,left:n.left};switch(t){case 0:i.left+=o/2;break;case 1:i.top+=r/2,i.left+=o;break;case 2:i.top+=r,i.left+=o/2;break;case 3:i.top+=r/2;break;default:at.error(new Error("Unknown balloon position"))}return i}function Q(e){return"auto"==e||"scroll"==e||"hidden"==e}function W(e){var t=e.css("position");return"absolute"==t||"fixed"==t}function V(e,t){var n=t.offset();return H(e.top,n.top,t.outerHeight())||H(e.left,n.left,t.outerWidth())}function H(e,t,n){var r=t+n;return t>e||e>r}this.LocalSVNRevision="$Rev: 4135 $";var z,$,q,X,J,Y,K,Z,et,tt,nt,rt,ot,it,at,st,ut,lt=this,ct=null,dt=!0,ft=!1,pt=!1,gt=!1,mt=!1,ht="",vt="",wt="",yt="",bt="",kt="",St=!1,Tt="",It="",xt=0,Ct=0,Dt=0,Et=0,Pt=vs.Normal,Nt=!1,jt=[],At=[],_t=null,Rt=null,Lt=null,Bt=null,Mt=null,Ot=null,Ft="scroll",Gt={Animated:0,Normal:1,None:2},Qt=800;this.onDestroy=function(e){jt.push(e)},this.setReleaseEvents=function(e){At=e},this.releaseEvents=function(e){for(var t,n=0;n<At.length;n++)try{At[n](e)&&(t=!0)}catch(r){}return t},this.SetTimeoutOn=function(){j()||J||(J=Wi(function(){lt.elementDisplayTimeoutFunction()},200))},this.getArrowHeight=function(){return X.arrowHeight()},this.AddSubmitButton=function(){mt=!0},this.showNormalBalloon=function(e,t,n,r,o){var i=X.arrowHeight()+1;n=nd(n)?n:pu;var s=nt.getDrawingArea(ct,!dt),u=_t||nt.getElementBounds(ct,dt,window,It),l=X.decideWhereToPop(u,t,n,i,s);Ot.setPosition(l.positionType);var c=ja(It,"z-index","2147483630");X.addPositionClass(e,l),Z=X.drawArrows(ct,Dt,l,t,u,r),l=a(l,t,u,o);var d=Tt.BalloonBorderWidth,f=X.hasBorder()?1:0;e.css("top",l.top-f*d+"px"),e.css("left",l.left-f*d+"px");var p=za.isQuirksMode(ct[0]);l.positionType==iu.Top&&e.css("top",l.top-2*f*d+1+"px"),l.positionType==iu.Bottom&&e.css("top",l.top-1+"px"),l.positionType==iu.Left&&(e.css("left",l.left-2*f*d+1+"px"),p&&e.css("left",l.left-2*f*d+"px")),l.positionType==iu.Right&&e.css("left",l.left-1+"px"),e.css("width",t.width+"px"),p&&e.css("width",t.width+2*f*d+"px"),e.css("height",t.height+"px"),Qc(e,c);for(var g=0;g<Z.length;g++)Qc(Z[g],c);p&&X.fixQuirksMode(e),X.fixArrows({balloonDiv:e,arrowsDivs:Z,result:l,isInCaptureMode:St,isQuirksMode:p});var m=1==ja(It,"isInvisible",0);if(m){e.hide();for(var g=0;g<Z.length;g++)Z[g].hide()}else Ot.prepare(e,Z)},this.showPopupBalloon=function(e){var t=ja(It,"z-index",uu);e.css({"z-index":t,"min-width":X.minPopupWidth()+"px"});var n=parseInt(ja(It,"leftOffset",0)),r=parseInt(ja(It,"topOffset",0)),o={top:r,left:n};za.centerElementInPage(e,!1,o);var i=U.canDisplayOverlay(),a=1==ja(It,"fadeBackground",1)||1==ja(It,"fadeBackground",!0)||"True"==ja(It,"fadeBackground","True");i&&a&&U.displayOverlay(t,!0);var s=za.isQuirksMode(ct[0]);s&&X.fixQuirksMode(e),Ot.prepare(e),Ot.postAnimation(function(){k.registerResizeAndScrollEvents({element:e,offset:o})})},this.getBalloonDiv=function(){return K},this.getElement=function(){return ct},this.getBalloonHTML=function(){return X.generateHtml(n())},this.Show=function(e,t){var n=dt?Ia(ct):wmjQuery("head"),r=function(){try{j()||!St&&!ot.shouldShow(ct,It)||ot.highlight();var n=dt?ct:mtjQuery("body"),r=Hc(n),o=xt>0?xt:0,i=Ct>0?Ct:0;if(r.width()<=200?(0==z||2==z||void 0==z)&&(o=r.width()-ct.position().left-20,120>o&&(o=120)):!mc("noHgtLmt")&&r.height()<=200&&(0==z||2==z||void 0==z)&&(z=1),!_t){if(dt){var a=ct.offset();Rt=Math.floor(a.top),Lt=Math.floor(a.left)}else{var s=nt.getPosRelativeToWindow(ct[0],window,!0);Rt=s.top,Lt=s.left}Bt=ct.height(),Mt=ct.width()}!st&&it.shouldShow(ct,It)&&it.highlight(),d(e,t,o,i)}catch(u){at.error(u)}};St?r():X.loadResources(n,r)},this.destroy=function(e,t){e||(Y=!0,s(),u()),l(K),Ot.disableAnimation(),Ot.destroy(function(){try{ot.unhighlightElement(ct,"balloon"),it.unhighlightElement(ct,"balloon")}catch(e){at.error(e,"error removing highlighting elements for balloon")}t&&t()})},this.elementDisplayTimeoutFunction=function(){var e=nt.isElementVisible(ct);e?(A(),J=Wi(lt.elementDisplayTimeoutFunction,et)):(ut("Element not visible anymore.",5,ns),lt.destroy(!1,function(){D()&&E()}))},e.apply(null,arguments)},Ja.register("Balloon").asCtor(this.Balloon).asProto(),Ja.register("DrawableLauncher").asCtor(Y).asProto(),Ja.register("AuditStepsManager").asCtor(K).dependencies("Lib,ServerDataSenderManager,AbPermutationManager,AuditStepsManagerParams,Logger,WmAjax"),Ja.register("EndUsersManager").asCtor(Z).dependencies("StorageManager,Logger,JQueryElementFinder,Lib,GenerateGuidFunc"),Ja.register("EndUserLoggerManager").asCtor(et).dependencies("StorageManager,Logger,EndUsersManager,SiteConfigManager,AbPermutationManager,Lib,RecorderServerManager");var Ts={};Ts.fixed=function(e){var t=new Ts.regular;return t.setValue(e),t},Ts.noMemory=function(){function e(e){n=e}var t,n,r,o=this;o.onGotValue=function(){},o.getValue=function(e){return e?r:r=n()},o.hasValue=function(){return!0},o.onResourceClean=function(e){t=e},o.cleanResources=function(){t&&t()},e.apply(null,arguments)},Ts.regular=function(){function e(){}var t,n,r,o=this,i=!1;o.onGotValue=function(e){n=e},o.setValue=function(e){t=e,i=void 0!==e,n&&n(o.getValue())},o.getValue=function(){return t},o.hasValue=function(){return i},o.onResourceClean=function(e){r=e},o.cleanResources=function(){r&&r()},o.setPollingInterval=function(e){_PollingInterval=e},o.getPollingInterval=function(){return _PollingInterval},e.apply(null,arguments)},Ts.complex=function(){function e(e,n,a){r=e,o=n,i=a,r.onGotValue(t),o.onGotValue(t)}function t(){var e=s.hasValue()&&n?!0:!1;e&&n(s.getValue())}var n,r,o,i,a,s=this;s.getValue=function(e){return e?a:a=i(r.getValue,o.getValue)},s.onGotValue=function(e){n=e},s.hasValue=function(){return i(r.hasValue,o.hasValue)},s.cleanResources=function(){r.cleanResources(),o.cleanResources()},e.apply(null,arguments)},this.ConditionFunctions=function(e,t,n){function r(e,t){return e=s(e),t=s(t),e=parseFloat(e),t=parseFloat(t),f(e)&&f(t)?e>t:!1}function a(e,t){return e=s(e),t=s(t),e=parseFloat(e),t=parseFloat(t),f(e)&&f(t)?t>e:!1}function s(e){return e&&"string"==typeof e&&e.replace?e.replace(/,|\$|\u20AC|\u20AA|¥|¢|£/g,""):e}function u(e,t){return n.isLike(e,t)}function l(e){var t=e.split(":"),n=Number(t[0]),r=Number(t[1]);return 60*n+r}function c(e){var t=new RegExp("[ 	"+String.fromCharCode(160)+"\r\n\f]+","gi");return e=e.replace(t," "),e=wmjQuery.trim(e)}function d(e,n,r){var o=function(){var n=t.findElementsByjQueryComplexSelector(e.jQuerySelector);return 0===n.length&&(n=!1),n};return g(n,r,o)}function p(e){var t=y();return e.IdentifySettings?(t.ElementDescription=i(o(e.IdentifySettings.ElementDescription)),t.IsIgnoreText=parseInt(e.IdentifySettings.IgnoreText),t.StepSensitivity=parseInt(e.IdentifySettings.Sensitivity),t.IsIgnoreId=parseInt(e.IdentifySettings.IgnoreId),t.IgnorePosition=parseInt(e.IdentifySettings.IgnorePosition),t.IsIdentifyByText=parseInt(e.IdentifySettings.IsIdentifyByText)):t.ElementDescription=i(o(e.ElementDescription)),t}function g(e,t,n){function r(){var i=n();return i?(t=-1,m(e,o,i)):0>t?new Ts.fixed(!1):(o.setValue(!1),Ui(r,t),o)}var o=new Ts.regular;return o.onResourceClean(function(){t=-1}),r()}function m(e,t,n){var r=".mtCond",o=function(){ea("An event was fired for condition checker result. (event:'"+e+"', element specified below) ",3),ea(n[0],3),t.setValue(!0)};return n.on(e+r,o),t.onResourceClean(function(){try{ea("Stopped listening for event in condition checker result. (event:'"+e+"', element specified below) ",5),ea(n[0],5),n.off(e+r,o)}catch(t){}}),t}function h(t,n,r){var o=function(){var n=p(t),r=e.findElement(n,null);return r};return g(n,r,o)}function v(e,t){return e/=t,e--,Math.sqrt(1-e*e)}this.LocalSVNRevision="$Rev: 4070 $";var w=this,y=function(){var e={Id:-1,TutorialId:-1,StepText:"",StepTitle:"",ElementDescription:"",StepIndex:-1,ConfigurationId:"1",Configuration:null,StepSensitivity:1,Type:-1,Settings:{},Duration:4,Delay:0};return e};this.getElementTextForEditor=function(e){var t=i(e);return w.getElementText(t)},this.getElementStrength=function(t){var n=i(t),r=p(n),o={score:-1},a=e.findElement(r,null,o);return a?o.score:void 0},this.getElementText=function(t){var r=p(t),o=e.findElement(r,!1);return o===!1?!1:n.checkElementText(wmjQuery(o))};var b=function(e,t,n){return d(e,"hover",n)},k=function(e,t,n){return d(e,"click",n)},S=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length>0},T=function(e){return 0==t.findElementsByjQueryComplexSelector(e.jQuerySelector).length},I=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length>parseInt(e.jQueryLength)},x=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length<parseInt(e.jQueryLength)},C=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length==parseInt(e.jQueryLength)},D=function(e){return t.findElementsByjQueryComplexSelector(e.jQuerySelector).length!=parseInt(e.jQueryLength)},E=function(e){for(var t=parseInt(e.StepId),n=0;n<sc.length;n++)if(sc[n].Id==t)return!0;return!1},P=function(e){return!E(e)},N=function(e){var t=new Date(jd(e.DateInput,["&"])),n=new Date;return n.setHours(0,0,0,0),t-n==0},j=function(e){return!N(e)},A=function(e){var t=new Date(jd(e.DateInput,["&"])),n=new Date;return n.setHours(0,0,0,0),n>=t},_=function(e){var t=new Date(jd(e.DateInput,["&"])),n=new Date;return n.setHours(0,0,0,0),t>=n},R=function(e){var t=new Date;return Number(e.DateInput)==t.getDay()},L=function(e){var t=new Date;return Number(e.DateInput)==t.getMonth()},B=function(e){var t=new Date;return Number(e.DateInput)==t.getFullYear()},M=function(e){var t=new Date,n=60*t.getHours()+t.getMinutes();return n>=l(e.TimeInput)},O=function(e){var t=new Date,n=60*t.getHours()+t.getMinutes();return n<=l(e.TimeInput)},F=function(e){var t=jd(e.UrlInput,["&"]);return Bc(t.toLowerCase())==Bc(vc().toLowerCase())},G=function(e){return!F(e)},Q=function(e){var t=jd(e.UrlInput,["&"]);return Bc(vc()).toLowerCase().indexOf(Bc(t).toLowerCase())>=0},W=function(e){return!Q(e)},U=function(t){var n=p(t);return 0!=e.findElement(n,!1)},V=function(e,t){return h(e,"hover",t)},H=function(e,t){return h(e,"click",t)},z=function(e){return!U(e)},$=function(t){var n=p(t);return 0!=e.findElement(n,!0)},q=function(e){return!$(e)},X=function(e){var t=w.getElementText(e),n=jd(e.ElementText,["&",'"',"'",">","<"]);return t===!1?!1:c(t.toLowerCase())==c(n.toLowerCase())},J=function(e){return!X(e)},Y=function(e){var t=w.getElementText(e);return t===!1?!1:r(t,e.ElementText)},K=function(e){var t=w.getElementText(e);return t===!1?!1:a(t,e.ElementText)},Z=function(e){var t=w.getElementText(e),n=jd(e.ElementText,["&",'"',"'",">","<"]);return t===!1?!1:u(c(t),c(n))},et=function(e){return!Z(e)},tt=function(e){var t=jd(e.UrlInput,["&"]);if(0==t.indexOf("regexp:"))return Rc(t);var n=Bc(vc()),r=Bc(t);return u(n,r)},nt=function(e){return!tt(e)},rt=function(e){var n=jd(e.jQueryText,["&",'"',"'"]);return c(t.getjQueryElementText(e.jQuerySelector).toLowerCase())==c(n.toLowerCase())},ot=function(e){return!rt(e)},it=function(e){return r(t.getjQueryElementText(e.jQuerySelector),e.jQueryText)},at=function(e){return a(t.getjQueryElementText(e.jQuerySelector),e.jQueryText)},st=function(e){var n=jd(e.jQueryText,["&",'"',"'"]);return u(c(t.getjQueryElementText(e.jQuerySelector)),c(n))},ut=function(e){return!st(e)},lt=function(e){var t=jd(e.UrlInput,["&"]);return Bc(t.toLowerCase())==Bc(wc().toLowerCase())},ct=function(e){return!lt(e)},dt=function(e){var t=jd(e.UrlInput,["&"]);return Bc(wc().toLowerCase()).indexOf(Bc(t.toLowerCase()))>=0},ft=function(e){return!dt(e)},pt=function(e){var t=jd(e.UrlInput,["&"]),n=Bc(wc()),r=Bc(t);return u(n,r)},gt=function(e){return!pt(e)},mt=function(e){return u(la(),"*"+e.BrowserName+"*")},ht=function(e){return!mt(e)},vt=function(){return window.self!==window.top},wt=function(e){return!vt(e)},yt=4e3,bt=function(){var e=zu.getData(Yl);if(!e)return!1;var t=((new Date).getTime()-e)/2,n=t>yt?yt:v(t,yt)*yt;return Rs+n>e},kt=function(e){return!bt(e)},St=function(e){var t=Hu.getCookie(e.CookieName),n=jd(e.CookieInput,["&",'"',"'"]);return t===!1?!1:t.toLowerCase()==n.toLowerCase()},Tt=function(e){return!St(e)},It=function(e){var t=Hu.getCookie(e.CookieName);return t===!1?!1:r(t,e.CookieInput)},xt=function(e){var t=Hu.getCookie(e.CookieName);return t===!1?!1:a(t,e.CookieInput)},Ct=function(e){var t=Hu.getCookie(e.CookieName),n=jd(e.CookieInput,["&",'"',"'"]);return t===!1?!1:u(t,n)},Dt=function(e){return!Ct(e)},Et=function(e){var t=Hu.getCookie(e.CookieName);return t!==!1},Pt=function(e){return!Et(e)},Nt=function(e){var t=zu.getData(e.DataKey,void 0);if(void 0===t)return!1;null===t&&(t="null");var n=jd(e.DataValue,["&",'"',"'"]);return t.toString().toLowerCase()==n.toLowerCase()},jt=function(e){return!Nt(e)},At=function(e){var t=zu.getData(e.DataKey,void 0);return void 0===t?!1:r(t,e.DataValue)},_t=function(e){var t=zu.getData(e.DataKey,void 0);return void 0===t?!1:a(t,e.DataValue)},Rt=function(e){var t=zu.getData(e.DataKey,void 0);if(void 0===t||null===t)return!1;var n=jd(e.DataValue,["&",'"',"'"]);return u(t,n)},Lt=function(e){return!Rt(e)},Bt=function(e){var t=zu.getData(e.DataKey,void 0);return void 0!==t},Mt=function(e){return!Bt(e)},Ot=function(e){var t=Nn(eu.Var,e.WindowVarName),n=jd(e.WindowVarInput,["&",'"',"'"]);return void 0===t||null===t?!1:t.toString().toLowerCase()==n.toLowerCase()},Ft=function(e){return!Ot(e)},Gt=function(e){var t=Nn(eu.Var,e.WindowVarName);return void 0===t?!1:r(t,e.WindowVarInput)},Qt=function(e){var t=Nn(eu.Var,e.WindowVarName);return void 0===t?!1:a(t,e.WindowVarInput)},Wt=function(e){var t=Nn(eu.Var,e.WindowVarName),n=jd(e.WindowVarInput,["&",'"',"'"]);return void 0===t||null===t?!1:u(t.toString(),n)},Ut=function(e){return!Wt(e)},Vt=function(e){var t=Nn(eu.Var,e.WindowVarName);return void 0===t||null===t?!1:!0},Ht=function(e){return!Vt(e)},zt=function(e){var t=null,n=jd(e.LanguageName,["&",'"',"'"]);try{t=walkme_get_language()}catch(r){t="default"}return n.toLowerCase()==t.toLowerCase()},$t=function(e){return!zt(e)},qt=function(e){var t=null,n=jd(e.LanguageName,["&",'"',"'"]);try{t=walkme_get_language()}catch(r){t="default"}return u(t,n)},Xt=function(e){return!qt(e)},Jt=function(t){var n=parseInt(t.StepId),r=parseInt(t.TutorialId),o=Dc(r),i=Ec(n,r);if(o>-1&&i>-1){var a=Tu[o].Steps[i];return e.findElement(a,!1)!==!1}return!1},Yt=function(e){return!Jt(e)},Kt=function(e){var t=parseInt(e.StepId),n=parseInt(e.TutorialId),r=Dc(n),o=Ec(t,n);if(o>-1&&r>-1){var i=Er(r,o);if(i>=0)return!0}return!1},Zt=function(e){return!Kt(e)},en=function(t){var n=parseInt(t.StepId),r=parseInt(t.TutorialId),o=Dc(r),i=Ec(n,r);if(o>-1&&i>-1){var a=Tu[o].Steps[i];return e.findElement(a,!0)!==!1}return!1},tn=function(e){return!en(e)},nn=function(e){var t=parseInt(e.GoalId);return gl&&gl.isGoalReached(t)},rn=function(e){return!nn(e)},on=function(e){return sn(e)},an=function(e){return!sn(e)},sn=function(e){var t=parseInt(e.TaskId),n=parseInt(e.GoalId);return Ju.isTaskGoalReached(t,n)},un=function(e){var t=wmjQuery("#tsidLabel"),n=jd(e.SfTabInput,["&",'"',"'",">","<"]);return 0==t.length?!1:c(t.text().toLowerCase())==c(n.toLowerCase())},ln=function(e){return!un(e)},cn=function(e){var t=wmjQuery("#tsidLabel"),n=jd(e.SfTabInput,["&",'"',"'",">","<"]);return 0==t.length?!1:c(t.text().toLowerCase()).indexOf(c(n.toLowerCase()))>=0},dn=function(e){return!cn(e)},fn={Accounts:"salesforce.com/001/",Contacts:"salesforce.com/003/",Opportunities:"salesforce.com/006/",Documents:"salesforce.com/015/",Cases:"salesforce.com/500/",Solutions:"salesforce.com/501/",Contracts:"salesforce.com/800/",Reports:"salesforce.com/00O/",Leads:"salesforce.com/00Q/",Dashboards:"salesforce.com/01Z/",CustomTabs1:"salesforce.com/a00/",Products:"salesforce.com/a01/"},pn={MainPage:"o",New:"e"},gn=function(e){var t={};return t.UrlInput=""+fn[e.SfType]+pn[e.SfModoule],Q(t)},mn=function(e){return!gn(e)},hn={jQueryTrue:S,jQueryFalse:T,jQueryLengthBigger:I,jQueryClicked:k,jQueryHovered:b,jQueryLengthSmaller:x,jQueryLengthEquals:C,jQueryLengthNotEquals:D,jQueryTextEquals:rt,jQueryTextNotEquals:ot,jQueryTextBigger:it,jQueryTextSmaller:at,jQueryTextLike:st,jQueryTextNotLike:ut,StepPlayed:E,StepNotPlayed:P,StepCanPlay:Kt,StepCannotPlay:Zt,StepIsVisible:en,StepIsNotVisible:tn,StepExists:Jt,StepNotExists:Yt,UrlEquals:F,UrlNotEquals:G,UrlContains:Q,UrlNotContains:W,UrlLike:tt,UrlNotLike:nt,DateEquals:N,DateNotEquals:j,DateFrom:A,DateUntil:_,DateIsDay:R,DateIsMonth:L,DateIsYear:B,TimeFrom:M,TimeUntil:O,ReferrerUrlEquals:lt,ReferrerUrlNotEquals:ct,ReferrerUrlContains:dt,ReferrerUrlNotContains:ft,ReferrerUrlLike:pt,ReferrerUrlNotLike:gt,ElementExists:U,ElementNotExist:z,ElementVisible:$,ElementNotVisible:q,ElementClicked:H,ElementHovered:V,ElementTextEquals:X,ElementTextNotEquals:J,ElementTextBigger:Y,ElementTextSmaller:K,ElementTextLike:Z,ElementTextNotLike:et,BrowserEquals:mt,BrowserNotEquals:ht,ContainerIsIframe:vt,ContainerNotIframe:wt,WindowIsNew:bt,WindowIsNotNew:kt,CookieExists:Et,CookieNotExists:Pt,CookieEquals:St,CookieNotEquals:Tt,CookieBigger:It,CookieSmaller:xt,CookieLike:Ct,CookieNotLike:Dt,WalkMeDataExists:Bt,WalkMeDataNotExists:Mt,WalkMeDataEquals:Nt,WalkMeDataNotEquals:jt,WalkMeDataBigger:At,WalkMeDataSmaller:_t,WalkMeDataLike:Rt,WalkMeDataNotLike:Lt,LanguageEquals:zt,LanguageNotEquals:$t,LanguageLike:qt,LanguageNotLike:Xt,WindowVarEquals:Ot,WindowVarNotEquals:Ft,WindowVarBigger:Gt,WindowVarSmaller:Qt,WindowVarLike:Wt,WindowVarNotLike:Ut,WindowVarExists:Vt,WindowVarNotExists:Ht,TaskGoalReached:on,TaskGoalNotReached:an,ExperimentGoalReached:nn,ExperimentGoalNotReached:rn,SalesforceTabEquals:un,SalesforceTabNotEquals:ln,SalesforceTabContains:cn,SalesforceTabNotContains:dn,SalesforceUrlEquals:gn,SalesforceUrlNotEquals:mn},vn=[];vn.StepPlayed=!1,vn.StepNotPlayed=!1,vn.StepCanPlay=!1,vn.StepCannotPlay=!1,vn.LanguageEquals=!1,vn.LanguageNotEquals=!1,vn.LanguageLike=!1,vn.LanguageNotLike=!1,vn.TaskGoalReached=!1,vn.TaskGoalNotReached=!1,vn.jQueryClicked=!1,vn.jQueryHovered=!1,vn.ElementClicked=!1,vn.ElementHovered=!1,vn.ExperimentGoalReached=!1,vn.ExperimentGoalNotReached=!1;var wn=["ElementClicked","ElementHovered","jQueryClicked","jQueryHovered"];this.isFuncAsync=function(e){return wmjQuery.inArray(e,wn)>=0},this.getFunctionsByLibNameType=function(e){return hn[e]},this.canAssertFunction=function(e){return void 0==vn[e]||0!=vn[e]},this.evaluationPreviewForEditor=function(e){zu||(zu=getStorageManager());var t=i(e);return w.evaluationPreview(t)},this.evaluationPreview=function(e){var t=this.getFunctionsByLibNameType(e.funcName),n=[];return n.push(e.funcArgs),this.canAssertFunction(e.funcName)?t.apply(this,n)?Zs.TRUE:Zs.FALSE:Zs.CANNOT_ASSERT},this.evaluationTreePreviewForEditor=function(e){var t=i(e);return w.evaluationTreePreview(t)},this.evaluationTreePreview=function(e){function t(e){if("Func"==e.nodeType)return w.evaluationPreview(e);var n=t(e.leftSon),r=t(e.rightSon);return"And"==e.nodeType?n==Zs.TRUE&&r==Zs.TRUE?Zs.TRUE:n==Zs.CANNOT_ASSERT||r==Zs.CANNOT_ASSERT?Zs.CANNOT_ASSERT:Zs.FALSE:"Or"==e.nodeType?n==Zs.TRUE||r==Zs.TRUE?Zs.TRUE:n==Zs.CANNOT_ASSERT||r==Zs.CANNOT_ASSERT?Zs.CANNOT_ASSERT:Zs.FALSE:void 0}return null==e?Zs.TRUE:t(e)}},Ja.register("ConditionFunctions").asCtor(this.ConditionFunctions).dependencies("Lib,JQueryElementFinder,CommonUtils"),Ja.register("ConditionEvaluator").asCtor(tt).initialize(!1);var Is=function(){function e(e){var t=new RegExp("^\\[\\d+\\]$","i");if(t.test(e)){var n=parseInt(e.substring(1,e.length-1));return d.functions.length>=n&&void 0!=d.functions[n]?new c(d.functions[n]):(d.errorStack.push("Function id doesn't exist!"),!1)}return d.errorStack.push("function token isn't in the form [funcId]. recieved:"+e),!1}function t(e){return e?new l(e):(d.errorStack.push("Failed to create NOT node."),!1)}function n(e,t,n){if(t&&n){if("OR"==e.toUpperCase())return new u(t,n);if("AND"==e.toUpperCase())return new s(t,n)}return d.errorStack.push("Failed to create "+e.toUpperCase()+" node."),!1}function r(e){for(var t=Array(),n=0;n<e.length;n++)if("("==e.charAt(n))t.push("(");else if(")"==e.charAt(n)){if(0==t.length)return!1;t.pop()}return 0==t.length}function o(e){if(e=mtjQuery.trim(e),e=e.replace("  "," "),e=e.replace("( ","("),e=e.replace(/not\(/gi,"not ("),e=e.replace(/and\(/gi,"and ("),e=e.replace(/or\(/gi,"or ("),"("!=e.charAt(0)||")"!=e.charAt(e.length-1))return e;var t=e.substring(1,e.length-1);return r(t)?t:e}function i(r){var s=o(r),u=s.split(" ");switch(u.length){case 0:d.errorStack.push("Error - a try to build tree with empty expression");break;case 1:return e(u[0]);case 2:return"NOT"==u[0].toUpperCase()?t(i(u[1])):(d.errorStack.push("Ilegal expression"),!1);case 3:return"NOT"==u[0].toUpperCase()?t(i(u[1]+" "+u[2])):n(u[1],i(u[0]),i(u[2]));default:for(var l=Array(),c=0;c<u.length;c++){if(0==c&&u[c].length>=3&&"NOT"==u[c].substr(0,3).toUpperCase())return t(i(u.join(" ").substr(3)));for(var f=!1,p=0;p<u[c].length;p++)"("==u[c].charAt(p)?(f=!0,l.push("(")):")"==u[c].charAt(p)&&(f=!0,l.pop());if(!f&&0==l.length&&a(u[c]))return n(u[c],i(u.splice(0,c).join(" ")),i(u.splice(1,u.length-1).join(" ")))}return d.errorStack.push("Ilegal expression"),!1}}function a(e){return e.match(/not/i)||e.match(/or/i)||e.match(/and/i)?!0:!1}function s(e,t){this.leftSon=e,this.rightSon=t,this.evaluate=function(){return this.leftSon.evaluate()&&this.rightSon.evaluate()}}function u(e,t){this.leftSon=e,this.rightSon=t,this.evaluate=function(){return this.leftSon.evaluate()||this.rightSon.evaluate()}}function l(e){this.son=e,this.evaluate=function(){return!this.son.evaluate()}}function c(e){this.func=e,this.evaluate=function(){return this.func()
}}this.LocalSVNRevision="$Rev: 1318 $",this.functions=Array(),this.treeNode=null,this.errorStack=Array();var d=this;this.setFunction=function(e,t){if(void 0==e||void 0==t||0>t)throw"Wrong arguments.";return this.functions[t]=e,!0},this.evaluate=function(){if(null!=this.treeNode)return this.treeNode.evaluate();throw"Evaluation tree doesn't exist - No expression was set."},this.setExpression=function(e){if(void 0!=e&&e.length>0&&r(e)){if(this.treeNode=i(e),this.treeNode)return!0;var t=this.errorStack.join("\n");throw this.errorStack=this.errorStack.splice(),t}return this.errorStack.push("Ilegal expression!"),!1}};Ja.register("StorageManager").asFunction(function(e){return e.bySettingsFile()}).dependencies("StorageManagerFactory"),Ja.register("FramesetsUtils").asCtor(ct).dependencies("Logger,CommonUtils");var wt=new wt;Ja.register("PlayManager").asCtor(yt).dependencies("PlayManagerParams"),Ja.register("PassOwnershipManager").asCtor(bt).initialize(!1),Ja.register("TabbedOwnershipManager").asCtor(kt).initialize(!1),Ja.register("FramedOwnershipManager").asCtor(St).initialize(!1);var Tt=new Tt;Ja.register("AbPermutationManager").asCtor(Dt).dependencies("StorageManager,EndUsersManager,Lib,RecorderServerManager"),Ja.register("ElementFinder").asCtor(Pt).dependencies("Lib,JQueryElementFinder"),Ja.register("AnalyticsManager").asCtor(jt).dependencies("StorageManager,GenerateGuidFunc,Logger,WmAjax"),Ja.register("ClickAuditManager").asCtor(At).dependencies("Lib,GetOsTypeFunc,GetAuditSourceFunc,RecorderServerManager"),Ja.register("JQueryElementFinder").asCtor(_t).dependencies("CommonUtils"),Ja.register("WmAjax").asCtor(Rt),Ja.register("AbTasksValidator").asCtor(Lt).dependencies("Lib"),Ja.register("ResourceManager").asCtor(Bt).dependencies("Logger,CommonUtils"),Ja.register("UIChangeTracker").asCtor(Mt).dependencies("Lib,SiteConfigManager,FeaturesManager"),Ja.register("AutoStartHelper").asCtor(Ot);var xs=function(){var e=function(){function t(t){new _t;w=_makeTutorial.ConditionFunctionsObj,t=t||{},S=t.evaluationPollingIntervalMs||-1,I=t.elementPollingIntervalMs||-1,x=t.jqueryPollingIntervalMs||2e3,mc("stickySonar")||(x=-1),T=void 0!==t.stopPollingAfterEvaluateTrue?T:!0,b=t.featureName,k=t.elementName,e.registerInstance(A)}function n(e){h&&h.cleanResources(),y&&y.clear(),e||(S=-1,T=-1,I=-1,x=-1)}function r(e,t){E&&(t=void 0===t?!1:t,ea(k+" - ConditionChecker calls onValueChanged",4,b),E(e,t))}function o(e,t){C&&(t=void 0===t?!1:t,ea(k+" - ConditionChecker calls onPreEvaluation",5,b),C(e,t))}function i(e,t){D&&(t=void 0===t?!1:t,ea(k+" - ConditionChecker calls onEvaluated",5,b),D(e,t))}function a(){P&&(ea(k+" - ConditionChecker calls onResourcesClean",4,b),P())}function s(e){u(e),l(e)}function u(e){ea(k+" - ConditionChecker evaluates async tree",5,b),o(void 0,!0),h=g(e),h.onGotValue(function(e){T&&e&&A.cleanResources(),e!==v&&(r(e,!0),v=e),i(e,!0)}),j=!m(e),r(h.getValue(),!0),i(A.getCachedValue(),!0)}function l(){A.isPollingEvaluation()&&(j?(v=A.getCachedValue(),y=Ui(function(){c()},S)):ea(k+" will not be polled, since its' conditions are only asynchrnous ",3,b))}function c(){var e=d(),t=f(e);p(e),A.isPollingEvaluation()&&!t?y=Ui(function(){c()},S):A.cleanResources()}function d(){o(),ea(k+" - ConditionChecker reevaluating tree conditions",5,b);var e=h.getValue();return e}function f(e){return e&&(ea(k+" - ConditionChecker reevaluating tree conditions",5,b),T)?(ea(k+" - ConditionChecker stopped polling tree evaluation after 'true' evaluation",5,b),!0):!1}function p(e){v!==e&&(r(e),v=e),i(h)}function g(e){function t(e){function r(){return o.apply(this,i)}if("Func"==e.nodeType){var o=w.getFunctionsByLibNameType(e.funcName),i=[];i.push(e.funcArgs),i.push(I),i.push(x);var a=null;return a=w.isFuncAsync(e.funcName)?r():new Ts.noMemory(r),n(a,e),a}if("And"==e.nodeType){var s=t(e.leftSon,I,x),u=t(e.rightSon,I,x),a=new Ts.complex(s,u,function(e,t){return e()&&t()});return n(a,e),a}if("Or"==e.nodeType){var s=t(e.leftSon,I,x),u=t(e.rightSon,I,x),a=new Ts.complex(s,u,function(e,t){return e()||t()});return n(a,e),a}return!1}function n(e,t){var n=e.hasValue;e.hasValue=function(){return t.result=n(),t.result};var r=e.getValue;e.getValue=function(){return t.result=r(),t.result}}var r;return r=null==e?Ts.fixed(!0):t(e,I,x)}function m(e){return"Func"==e.nodeType?w.isFuncAsync(e.funcName):"And"==e.nodeType||"Or"==e.nodeType?m(e.leftSon)&&m(e.rightSon):!1}var h,v,w,y,b,k,S,T,I,x,C,D,E,P,N,j,A=this;A.getValue=function(){return h.getValue()},A.getCachedValue=function(){return h.getValue(!0)},A.getElementPollingInterval=function(){return S},A.isPollingElement=function(){return I>=0},A.isPollingJquery=function(){return x>=0},A.isPollingEvaluation=function(){return S>=0},A.isPollingEvaluationNeeded=function(){return j},A.getElementPollingInterval=function(){return I},A.getJqueryPollingInterval=function(){return x},A.getEvaluationPollingInterval=function(){return S},A.getStopPollingAfterEvaluateTrue=function(){return T},A.cleanResources=function(){ea(k+" - ConditionChecker cleans resources",5,b),n(),_makeTutorial.getUiTracker().unbind(N),a(),e.unregisterInstance(A)},A.onValueChanged=function(e){E=e},A.onPreEvaluation=function(e){C=e},A.onEvaluated=function(e){D=e},A.onResourcesClean=function(e){P=e},this.evaluateAsync=function(e){N=function(){n(!0),s(e)},_makeTutorial.getUiTracker().bind(N),s(e)},t.apply(null,arguments)};return e.instances={},e.sequence=0,e.registerInstance=function(t){t._id=e.sequence,++e.sequence,e.instances[t._id]=t},e.unregisterInstance=function(t){delete e.instances[t._id]},e.cleanResources=function(){for(var t in e.instances)e.instances.hasOwnProperty(t)&&e.instances[t].cleanResources();instances={}},e}();Ja.register("ConditionChecker").asCtor(xs).asProto(),Ja.register("SiteConfigManager").asCtor(Ft).args([[]]),Ja.register("RecorderServerManager").asCtor(Ft).args([""]),Ja.register("SalesForceManager").asCtor(Gt).dependencies("SalesForceVarsExtractor"),Ja.register("SalesForceVarsExtractor").asCtor(Qt).dependencies("Lib,StorageManager,SiteConfigManager");var Cs={Visible:"visible",Invisible:"invisible",Completed:"completed",Uncompleted:"uncompleted",StrikedOut:"strike-out",Active:"active",Inactive:"inactive",ProgressBar:"progress-bar",Default:"default",Search:"search",SearchProviders:"search-providers",Video:"video",Article:"article",Accessible:"accessible"},Ut=new Ut(za);Ja.register("UiDataProvider").asCtor(en).dependencies("Lib");var en;Ja.register("BBCodeParser").asCtor(dn).dependencies("CommonUtils,SiteConfigManager,RecorderServerManager"),Ja.register("DebuggerManager").asCtor(fn).dependencies("Lib,WmInternals"),Ja.register("ProfilerManager").dependencies("StorageManager,ProfileLibFunctions,EndUsersManager").asCtor(wn).initialize(!1),Ja.register("Lib").asInstance(za);var k=Ja.get("PositionHelper"),Ds="wm-dmn",Es="displayWidgetCondition",Ps=!1;window.walkme_lib_in_dev&&(Ps=!0);var Ns,js,As,_s,Rs,Ls,Bs,Ms,Os,Fs,Gs=70,Qs=1,Ws=-1e5,Us={NOT_RUNNING:0,RUNNING:1,WAITING_FOR_ELEMENT:2,WAITING_FOR_ELEMENT_EVENT:3,PAUSED:4,WAITING_FOR_SPLIT:5,WAITING_FOR_NEXT_BUTTON_CLICK:6,WAITING_FOR_PAGE_CHANGE:7,WAITING_FOR_STICKY_ELEMENT:8,WAITING_FOR_CONDITION:9,PASSING_OWNERSHIP:10,WAITING_FOR_REDIRECT:11,WAITING_FOR_OWNERSHIP:12},Vs=2500,Hs={SupposedToShow:0,Shown:1,Performed:2,SkippedNotFound:3,SkippedByCondition:4,MovedBack:5,Exited:6,FakeFound:7,SkippedByTutorialCondition:8,SkippedStartedFromBiggerStep:9,NonValidActionStep:10,SkippedByActionStep:11},zs={PopupShown:1,AutoRedirect:2,StayClicked:3,RedirectClicked:4},$s={NONE:0,WIDGET:1,API:2,LAUNCHER:3,TASK:4,BRANCHING:5,AUTOSTART:6,PERMALINK:7,BBCODE:8,CHAT_AGENT:9},qs={Widget:0,LightBox:1,NewTab:2,SameTab:3},Xs={Show:1,Action:2},Js={URL:0,FIRST_STEP_MUST_EXIST:1,AUTO_START:2,REDIRECT:3,SKIP_FIRST_STEP:4},Ys="PSCTMode",Ks={PLAY_CONDITION:0,STICKY_CONDITION:1,BOTH:2},Zs={TRUE:0,FALSE:1,CANNOT_ASSERT:2},eu={Cookie:0,Var:1},tu={production:0,preview:1,play:2,test:3},nu={Tutorial:0,Task:1,Launcher:2,LabelGroup:3,Survey:4,AbExperiment:5,Category:6,Content:7,Collection:8,Shuttle:9},ru={Cookie:"cookie",CrossDomain:"crossdomain",JStorage:"jstorage",HiddenIframe:"hiddeniframestorage",CrossDomainLocalStorage:"crossdomain_ls",CrossDomainCookies:"crossdomain_ck"},ou="display: block; padding: 0; margin: 0;	vertical-align: baseline; border-collapse: inherit; background: none; border-spacing: 1px 1px; line-height: normal; border: none none; height: auto; text-indent: inherit;  font-family: Arial; letter-spacing: normal; text-align: left; text-transform: none; font-weight: normal; outline: invert none medium; width: auto;  border-top: none; border-right: none; border-bottom: none; border-left: none; direction: ltr; position: static; top: auto; left: auto;",iu={Top:0,Right:1,Bottom:2,Left:3},au=["top","right","bottom","left"],su={Center:0,Start:1,End:2},uu=2147483631,lu={WalkThruCompleted:0,WalkThruExited:1,Both:2,WalkThruInterrupted:3},cu={soft:0,strong:1},du="isSticky",fu="stickinessType",pu=iu.Bottom,gu=60,mu=2e3,hu="##START_OF_CURRENT##",vu="##END_OF_CURRENT##",wu="##START_OF_TOTAL##",yu="##END_OF_TOTAL##",bu=6e3,ku={top:0,left:0,bottom:0,right:0},Su=5e3,Tu=[],Iu=[],xu=[],Cu=[],Du=[],Eu=[],Pu=null,Nu=[],ju=[],Au=[],_u=[],Ru={},Lu={},Bu=null,Mu="",Ou="",Fu={},Gu=null,Qu=null,Wu=null,Uu=null,Vu=null,Hu=null,zu=null,$u=null,qu=null,Xu=null,Ju=null,Yu=null,Ku=null,Zu=null,el=null,tl=null,nl=null,rl=null,ol=null,il={},al=null,sl={},ul=[],ll=null,cl=null,dl=null,fl=null,pl=null,gl=null,ml=null,hl=null,vl=null,wl=null,yl=null;za.ConditionFunctionsObj=null;var bl,kl,Sl=-1,Tl=-1,Il=Us.NOT_RUNNING,xl=[],Cl=[],Dl=[],El={},Pl={},Nl=[],jl={},Al="wm-",_l=Array(),Rl=null,Ll=!1,Bl=!1,Ml=!1,Ol="wm-wfow",Fl="wm-prsst",Gl="wm-dbg",Ql="sti",Wl="tId",Ul="stt",Vl="step",Hl="spn",zl="plgd",$l="pint",ql="splt",Xl="fnsh",Jl="sph",Yl="wm-cond-win",Kl=6e4,Zl=480,ec=86400,tc=31536e3,nc=31536e4,rc=!1,oc=(Array(),!1),ic=Array(),ac=0,sc=[],uc=[],lc=-1,cc=tu.production,dc=!1,fc=window.clearTimeout,pc=window.clearInterval,gc=[];window._walkmeInternals=window._walkmeInternals||{},Ja.register("WmInternals").asInstance(window._walkmeInternals);var mc;za.setCookiesManager=function(e){Hu=e},za.setLogger=function(e){za.Logger=e},za.setFramesetsUtils=function(e){$u=e},za.setSettingsFile=function(e){_s=e},za.setAutoStartHelper=function(e){Fs=e},za.setJQueryElementFinder=function(e){fl=e},za.setElementFinder=function(e){vl=e},za.setConditionFunctions=function(e){za.ConditionFunctionsObj=e},za.setConditionTreeEvaluator=function(e){Uu=e},za.setBBCodeParser=function(e){Ms=e},za.setResourceManager=function(e){za.ResourceManager=e},za.setStorageManagerFactory=function(e){As=e},za.setStorageManager=function(e){zu=e},za.setEndUsersManager=function(e){Qu=e},za.setAbPermutationManager=function(e){pl=e},za.setLibInitializer=function(e){Ya=e},za.setWmAjax=function(e){wl=e},za.setSiteConfigManager=function(e){Pu=e},za.setEndUserLoggerManager=function(e){Wu=e},za.setUiDataProvider=function(e){en=e},za.setAnalyticsManager=function(e){cl=e},za.setClickAuditManager=function(e){dl=e},za.setRecorderServerManager=function(e){Bu=e},za.setServerDataSenderManager=function(e){yl=e},za.setAuditStepsManager=function(e){Gu=e},za.setGoalsManager=function(e){js=e},za.setWalkMeGoalsManager=function(e){Vu=e},za.setDebuggerManager=function(e){qu=e},za.setWmInternals=function(e){Os=e},za.setPlayManager=function(e){hl=e},za.setCrossDomainManager=function(e){za.crossDomainManager=e,ml||(ml=e)},za.setFeaturesManager=function(e){mc=e.isFeatureEnabled},Ja.register("StorageManagerFactoryParams").asInstance({getAllUserGuids:Pn,setAuditStepCookieSeconds:En}),za.getMustache=function(){return bs},za.elkState=function(e){W.elementLastKeeper.setState(e)},this.getStorageManagerInstance=function(e){return e?As.byType(e):zu},this.getAnimator=function(){return M},za.getABPermutationId=function(){return pl.getPermutation()},za.getEndUserGuid=function(){return Qu.getEndUserGuid()},za.getDataFileExtraData=function(){return sl},za.setCustomCssProp=function(e){Bs=e,bo("NewCustomCss",Bs)},za.getCustomCssProp=function(){return Bs},za.getUiTracker=function(){return Ja.get("UIChangeTracker")},this.getTodoListManager=function(){return Ju},this.setPlayInitiator=function(){},this.getPlayInitiatorEnum=function(){return $s},this.UiProperties=function(){return Cs},za.getUiUtils=function(){return U},za.getCommonUtils=function(){return W},za.getFramesetsUtils=function(){return $u},za.getPositionHelper=function(){return k},this.removeAllStepAuditsLogs=function(){Gu&&Gu.removeAllStepAuditsLogs()},this.releaseAllElements=function(e){Gn({functionsToExecute:[za.releaseBalloons,za.releaseLaunchers],successCallback:e})},this.releaseBalloons=function(e){ea("Releasing balloons",5,ns),Vr(),Gn({functionsToExecute:[Fn,Ca,function(e){U.removeOverlay(),e&&e()}],successCallback:e})},this.releaseLaunchers=function(e,t,n){var r=function(e,t){e.drawable?e.drawable.destroy(t):t&&t()};Gn({objectsArray:za.getLaunchers(),functionsToExecute:[r],successCallback:function(){n||za.setLaunchers([]),e&&e()}})},za.getUserGuid=function(){return al},this.setUserGuidForEditor=function(e){ul=[e],al=e},this.setTutorialsForEditor=function(e,t){try{for(var n=i(e),r=0;r<n.length;r++)n[r].userGuid=t;za.setTutorials(n)}catch(o){za.Logger.error(o)}},this.setSurveysForRecorder=function(e){var t=i(e);Eu=t},this.getLaunchers=function(){return xu},this.setLaunchers=function(e){Ru={},xu=e},this.setTutorials=function(e){Tu=e,Lu={};for(var t=0;t<Tu.length;t++)ir(Tu[t],Pu.get())},this.getTutorials=function(){return Tu},this.getSiteConfig=function(e){return e&&Ns?Ns:Pu.get()},this.getWalkthrusLabels=function(){var e=ja(Pu.get().Settings,"labels",null);return e&&1==e.useLabels?ju:null},this.getSurveys=function(){return Eu},this.setSiteConfig=function(e){Pu.set(e),za.setCustomCssProp(Pu.get().CustomCss);try{ka(null)}catch(t){if(!mc("loadNoStyle"))return void _makeTutorial.removeWalkMe("set custom css failed")}Qn()},za.setSiteConfigForEditor=function(e){var t=i(e);za.setSiteConfig(t)},za.getBalloonDrawer=function(e){var t,n=Wn(e),r={lib:za,resourceManager:za.ResourceManager,logger:za.Logger,balloonSettings:n};return t="v3"==n.BalloonVersion?new X(r):new q(r)},this.resetBalloonDrawer=function(){Ls=null},this.appendWalkMeConfigData=function(e){Nu=Nu.concat(e.Experiments)},this.appendDataPackage=function(e,t){var n=e;void 0===e.Tutorials&&(n={Tutorials:e,SiteConfig:t});var r=n.Tutorials,o=n.SiteConfig,i=br(n.Tasks,[]),a=br(n.Labels,[]),s=br(n.Surveys,[]),u=br(n.Launchers,[]),l=br(n.Shuttles,[]),c=br(n.Contents,[]),d=br(n.Categories,[]),f=br(n.Collections,[]);sl=br(n.ExtraData,{isOldDataFile:!0}),al=br(n.UserGuid,"No-User-Guid"),ul.push(n.UserGuid),Ya.isNewLanguage()&&(Tu=[],Pu.set([]),ju=[],Iu=[],xu=[],Du=[],Cu=[],Eu=[],Au=[],_u=[]),Mn(o,r),o&&0==Pu.get().length&&(Ns=o,za.setSiteConfig(o));for(var p=0;p<r.length;p++)ir(r[p],o),Fu[r[p].TutorialId]={siteConfig:o,isPackageHidden:Ya.isNextDataPackageIsHidden()},r[p].userGuid=al;for(var p=0;p<i.length;p++)sr(i[p]);Un(u,al),Un(c,al),Tu=Tu.concat(r),ju=ju.concat(a),Iu=Iu.concat(i),xu=xu.concat(u),Du=Du.concat(l),Cu=Cu.concat(c),Eu=Eu.concat(s),Au=Au.concat(d),_u=_u.concat(f)},this.isTutorialPackageHidden=function(e){var t=Fu[e.TutorialId];return t?t.isPackageHidden:!1},this.setRecorderServer=function(e){Bu.set(e);var t=Ya.getPlayerServer();null!==t&&void 0!==t&&Bu.set(t)},this.setPetaServerName=function(e){void 0!=e&&(Mu=e)},this.getPlayerServer=function(){return Bu.get()},this.setCdnServer=function(e){Ou=e},this.setInRecorder=function(e){rc=e},this.setAnalyticsCustomFields=function(e,t){return ic[e]=t,!0},this.getSupportedLanguages=function(){return Ya.getSupportedLanguages()},this.getCurrentLanguage=function(){return Ya.getCurrentLanguage()},this.changeLanguage=function(e,t){za.releaseLaunchers(),Ya.changeLanguage(e,function(){bo("languageChanged",{language:e}),t&&t()})},this.tempClearUserCompletedTasks=function(e,t){Ju.tempClearUserCompletedTasks(e,t)},this.loadTasks=function(e,t){Ju.loadTasks(e,t)},this.getApiTasks=function(e){return Ju.getApiTasks(e)},this.getWalkmeOOP=function(){return t},za.launchDebuggerForEditor=function(e,t){var n=i(e);qu.launchDebugger(n,t)},za.loadDebuggerForEditor=function(){qu.loadDebuggerForEditor()},za.launchDebugger=function(e,t){qu.isDebuggerEnalbled()&&qu.launchDebugger(e,t)},za.closeDebugger=function(){qu.closeDebugger()},za.searchTermChangedOnWidget=function(e){"walkmetracker"!=e||ko()||za.launchDebugger()},this.widgetLoaded=function(e){e&&e.bind("on-activate",function(){za.getUiUtils().fixFlash()})},this.triangleLoaded=function(e){this.dataFinishedLoading(e)};var hc;this.dataFinishedLoading=function(e){var t=za.Logger.timer("lib init");if(mc("sfVars")){var n=Ja.get("SalesForceManager");n.extractSalesForceVars()}if(window.walkme_data_finished_loading_callback&&walkme_data_finished_loading_callback(),void 0===hc&&(hc=window.onbeforeunload,window.onbeforeunload=function(e){return mr(e),hc?hc(e):void 0}),!dr())return za.removeWalkMe("initWalkMeClassesFailed"),za.initFailed=!0,!1;var r=Xn(e);return t.stop(),zu.init(r)===!1?(za.removeWalkMe("storageManagerInitFailed"),!1):!0},this.initWalkmeClassesForCustomizePlayer=function(){zu=As.byType(ru.Cookie)},Ja.register("ServerDataSenderManagerParams").asInstance({defaultDataStorageLifeSeconds:Zl,dateSenderLogFeature:"serverDataSender"}),Ja.register("AuditStepsManagerParams").asInstance({cookieSeconds:Zl}),Ja.register("GoalsManagerParams").asInstance({checkInterval:mu}),Ja.register("PlayManagerParams").asInstance({checkIfExists:Er,getTutorialByIndex:qr}),Ja.register("CrossDomainManager").dependencies("FeaturesManager,StorageManager").initialize(!1).asFunction(function(e,t){var n;return n=e.isFeatureEnabled("po_frames")||e.isFeatureEnabled("passOwnership")?"FramedOwnershipManager":e.isFeatureEnabled("po_tabs")?"TabbedOwnershipManager":"PassOwnershipManager",Ja.entry(n).args({storageManager:t,errorHandler:za.Logger.error,userGuid:al,owner:window,terminateTutorialFunction:function(){uc=[],za.releaseBalloons(),Xi()},restoreStateFunc:Jo,isFeatureEnabled:mc,allUserGuids:Pn(),topWindow:top,isPlayMode:Ln(),resumeAfterUnloadFunc:hr,getStepFunc:xo,peekNextCookieStepFunc:wr,logger:za.Logger}),Ja.get(n)}),za.startContentById=function(e){return Zu?(Zu.activateById(e),!0):!1},za.getDeployablesManager=function(e){return il[e]},za.getUiDataProvider=function(){return en},Ja.register("FeaturesManager").dependencies("SiteConfigManager").asCtor(function(e){var t=this;t.isFeatureEnabled=function(t){var n=e.get();return"undefined"!=n.Features&&n.Features?n.Features.indexOf(t)>-1:!1}}),za.auditClick=function(e,t){t=nd(t)?t:-1,dl&&e&&dl.SendClickAudit(e,t)},za.isFeatureActive=function(e){return mc(e)},this.getEndUserId=function(){var e=!ll.isAbTestingEnabled();return Qu.getEndUserGuid(e)},this.playerCreationComplete=function(e){{var t=mtjQuery("#mt-menu-closed, #walkme-menu-closed");mtjQuery("#mt-menu-open, #walkme-menu-open")}if(!e){var n=O.create({config:Pu.get(),utils:za,player:t});n.setupAttenGrab()}},this.destroyAll=function(e){ea("destroyAll - begin",1),Fu={},Ji(),Zi(),xs.cleanResources(),js&&js.cleanResources(),za.releaseAllElements(function(){ea("destroyAll - releaseAllElements finished",1);var t=Ou.replace("http://","").replace("https://","");mtjQuery("script[src*='"+t+"']").not("script[src*='maketutorial_lib']").not("[src*='jquery']").not("[src*='wmjQuery']").remove(),mtjQuery(".mt-to-destroy, .walkme-to-destroy").remove(),yr(".mt-to-destroy, .walkme-to-destroy"),window._walkmePlayer&&window._walkmePlayer.destroyWalkMePlayer&&window._walkmePlayer.destroyWalkMePlayer(),window.walkmeWidget&&window.walkmeWidget.destroyWalkMePlayer&&window.walkmeWidget.destroyWalkMePlayer(),e&&(ea("destroyAll - calling user callback",1),e())})},this.removeWalkMe=function(e){ea(l("removeWalkMe called with reason {0}",e));try{window.walkme_remove_walkme_callback&&walkme_remove_walkme_callback(e)}catch(t){}za.destroyAll(function(){for(var e in jl)e&&e.indexOf&&0===e.indexOf(Al)&&fc(jl[e]);Ja.get("ResourceManager").emptyStyleSheets(),window._makeTutorial=window.MakeTutorialAPI=window.WalkMeAPI=window.WalkMeDataClass=window.WalkmeWidget=window.WalkmeSnippet=void 0,window.wmPreviewSnippet=void 0,window.wmSnippet=void 0,window.walkme_lib_in_dev=void 0,window.walkme_lib_notify_ServerName=void 0;var t=Ou.replace("http://","").replace("https://","");wmjQuery("script[src*='"+t+"']").remove(),wmjQuery("script[src*='maketutorial']").remove(),wmjQuery("script[src*='wmjQuery']").remove(),wmjQuery("link[id^='mt-css']").remove(),mt_cdn_server_name=void 0,mt_get_user_settings_url=void 0;_a();wmjQuery(".walkme-to-remove").remove(),yr(".walkme-to-remove "),k.removeScrollAndResizeEvents();var n=Ja.get("UIChangeTracker");n&&(n.stop(),n=null),wmjQuery=mtjQuery=void 0})};var vc=function(){return window.location.href},wc=function(){return document.referrer};this.startNewTutorial=function(e,t,n,r){try{ea("startNewTutorial : Index = "+e+". From Step = "+t),za.getUiUtils().fixFlash(),Tr(e);var o=!1;if(Gu._currentPlayInitiator=r,t=br(t,0),n=br(n,!1),!ml.canStartPlaying(Il))return Il=Us.WAITING_FOR_OWNERSHIP,Sl=e,Tl=t,Gu._currentPlayInitiator=r,Uo(),ml.walkthruStarted(function(){Il=Us.NOT_RUNNING,ml.reset()}),!0;n||(kr(!0),ml.enabled()||Ho(),Ca()),bo("StartNewWt",Tu[e]);var i=[],a=t;t=hl.findFirstStep(e,t,i);var s=0==t;if(t>0&&!n){var u=aa();u==tu.play||u==tu.preview?xr(e,a,t,Hs.SkippedStartedFromBiggerStep):(o=!0,Sr(e,0,t,Hs.SkippedStartedFromBiggerStep))}else 0==t&&(t=ii(e),t>0&&!n&&(o=!0,Sr(e,0,t,Hs.SkippedByTutorialCondition)));if(!ai(e,!1)&&0>t){if(n)return!1;var l=Ir(e);if(null!=l&&1==l.enabled){var c,d=!1,f=l.url;1==l.autoRedirect?(c=zs.AutoRedirect,d=!0):(c=zs.PopupShown,Rr(f,e));for(var p=0;p<i.length;p++)Gu.auditStep(Tu[e].Steps[i[p].stepIndex],i[p].stepStatus,Tu[e].Steps.length,!1),Br(c,Tu[e].Id);d&&Mr(f,zs.AutoRedirect,e)}else{for(var p=0;p<i.length;p++){var g=i[p].stepStatus==Hs.SupposedToShow;Gu.auditStep(Tu[e].Steps[i[p].stepIndex],i[p].stepStatus,Tu[e].Steps.length,g),xr(e,i[p].stepIndex,i[p].stepIndex+1,i[p].stepStatus)}Wr(Tu[e])}}else{if(n)return!0;Dr(e,t,s,o?Gu._currentPlayGUID:void 0,r)}}catch(m){return za.Logger.error(m),!1}return bo("WtHasGuid",Tu[e],{playGuid:Gu._currentPlayGUID}),bo("WalkthruGuid",{playGuid:Gu._currentPlayGUID}),!0},this.stopTutorial=function(e){ko()&&bo("TutorialStopped",kc(Tl)),Xi(),Zi(),za.releaseBalloons(),Il=Us.NOT_RUNNING;var t=Tl;Tl=-1,e||Uo(),ml&&ml.enabled()&&ml.loseOwnership(!0);var n=Wo();n&&ol.handleSurveyPlay(n,lu.WalkThruExited,t)},this.postWelcomeStep=function(e){-1==Tl&&ai(e,!0)||za.executeTutorialNextStep()};var yc=void 0,bc=function(e,t,n,r,o,i){Xi(),Zi(),za.releaseBalloons(),Il=Us.RUNNING,Sl=e,Tl=t-1,Gu._currentPlayGUID=n,Gu._currentPlayInitiator=r,sc=o,uc=i,Uo()};this.lib_error=function(e,t){za.Logger.error(e,t)},this.executeTutorialNextStep=function(){if($u.isLoadingFrames())return void Wi(za.executeTutorialNextStep,200);if(oc)return void ea("executeTutorialNextStepNotFinished - skipping this executeTutorialNextStep",5);if(Ml)return Ml=!1,ea("executeTutorialNextStep: waiting for other window",5),ea("Waiting for other window..."),void Hr();if(Ll)return void ea("executeTutorialNextStep: not executing, dontContinueTutorial=true",5);if(Wo().Steps.length-1==Tl)return void za.tutorialFinished();oc=!0;var e=to();ea(l("Next step including split is: {0} seconds",e),5,ns),Wi(function(){function e(){oc=!1,za.executeCurrentStep()}Tl++,Tl>0&&!zr(kc(Tl-1).End,ms.NOTHING)?za.releaseBalloons(e):e()},1e3*e)},this.executeCurrentStep=function(){var e=kc(Tl);Cc(e)};var kc=function(e){return Wo()&&Wo().Steps[e]},Sc=function(){return Wo().Steps.length<=Tl+1},Tc=function(e){var t=Dc(e);return Tu[t]},Ic=function(e){var t=cd(e,function(e){return Tc(e).Steps[0]});return t},xc=function(){return xl&&xl.length>0?xl.pop():null};this.tutorialFinished=function(){za.releaseBalloons(),Il=Us.NOT_RUNNING,Uo();var e=xc(),t={hadSplit:!!e};yo("WalkthruCompleted",t),So("TutorialCompleted",t);var n=Wo();bo("WalkthruCompleted",n,t),Ju.updateTutorialCompleted(n.TutorialId),ol.handleSurveyPlay(n,lu.WalkThruCompleted,Tl),e?(bo("BackFromBranch",Tu[e.tutorialIndex]),bc(e.tutorialIndex,e.stepIndex,e.playGuid,e.playInitiator,e.stepPlayHistory,e.stepPlayStack),za.executeTutorialNextStep()):ml.loseOwnership()},this.checkRepeatCookie=function(e,t){var n={shouldStart:!0,repeatCookieExpiry:-1};return"always"==t||("visit"==t&&(e+="-v"),1==zu.getData(e)?n.shouldStart=!1:f(t)?n.repeatCookieExpiry=t:"visit"==t?n.repeatCookieExpiry=ec:"once"==t?n.repeatCookieExpiry=nc:za.Logger.error(new Error("checkRepeatCookie bad value: "+t))),n.store=function(){n.repeatCookieExpiry>=0&&zu.saveData(e,1,n.repeatCookieExpiry)},n},this.getLauncherAction=function(e){function t(){this.doAction=function(){try{void 0!=window.WalkMePlayerAPI&&WalkMePlayerAPI.toggleMenu()}catch(e){ea(l("Failed opening menu. Exception: {0}",o(e)))}}}function n(t){this.isValid=function(){return!0},this.doAction=function(){try{var n=t.playWtFromBeginning?0:Ec(t.StepId,t.wtId);if(-1==n){var r=l("Step with id: {0} was not found in walkthru with id {1}",t.StepId,t.wtId);ea(r)}else WalkMeAPI.startWalkthruById({id:parseInt(t.wtId),fromStep:n,playInitiator:{type:$s.LAUNCHER,objectId:e}})}catch(i){var a="Failed starting walkthru with id {0}, starting from step {1}. Exception is: {2}",r=l(a,t.wtId,t.StepId,o(i));ea(r)}}}function r(e){this.isValid=function(){return!0},this.doAction=function(){try{var t=e.contentId;WalkMeAPI.startContentById(t)}catch(n){var r="Failed playing content with id {0}. Exception is: {1}",i=l(r,e.wtId,o(n));ea(i)}}}function i(){this.isValid=function(){return!0},this.doAction=function(){}}var a={none:i,playWt:n,openMenu:t,playContent:r};if(void 0!=Ru[e])return Ru[e];var s=io(e),u=ja(s.Settings,"action",null);return u?(Ru[e]=new a[u.actionType](u.arguments,s),Ru[e]):(ea("No action core. aborting..."),null)};var Cc=function(e){qa!=e.Id&&$a++,e.playNumber=$a,qa=e.Id,bo("StepPlayNum",{playNum:$a});var t=l("Processing step # {0} . Step title: {1}. Walkthru: {2}",e.StepIndex+1,e.StepTitle,Tu[Sl].Name);if(ea(t),bo("NewStepStarted",e),mc("highPerf")||or(),Il!=Us.WAITING_FOR_STICKY_ELEMENT&&Il!=Us.WAITING_FOR_ELEMENT&&Il!=Us.WAITING_FOR_CONDITION){var n=go(e)?Hs.Shown:Hs.SupposedToShow;Gu.auditStep(e,n,Wo().Steps.length)}var r=ho(e),o=vo(e);if(bo("PlayStepCondition",e,{isPassed:o}),!o&&(r==Ks.PLAY_CONDITION||r==Ks.BOTH&&Il!=Us.WAITING_FOR_STICKY_ELEMENT))return ea("Play step condition is false. Skipping step."),Gu.auditStep(e,Hs.SkippedByCondition,Wo().Steps.length),bo("StepWasSkipped",e),void za.executeTutorialNextStep();if(oo(e)){var i=Er(Sl,e.StepIndex,0,1);if(-1==i)return ea("Keep looking for element after popup."),bo("LookingForElement",e),Il=Us.WAITING_FOR_ELEMENT,Wi(function(){_makeTutorial.executeCurrentStep()},500),void Uo();if(-2==i||-5==i){var a="Popup play condition isn't met, skipping the popup.";return-5==i&&(a="Loop detecetd"),ea(a),Gu.auditStep(e,Hs.SkippedNotFound,Wo().Steps.length),bo("StepWasSkipped",e),void za.executeTutorialNextStep()}}var s=void 0;if(o||Il!=Us.WAITING_FOR_STICKY_ELEMENT){var u={};s=za.findElement(e,null,u),e.Score=u.score}else ea("Sticky PlayCondition isn't met."),s=!1;if(s){s&&s!==!0&&(ea("Element found:"),ea(s)),bo("ElementFound",e),yo("BeforeNewStepShown"),So("BeforeNewStepShown");var c=uc[uc.length-1]?uc[uc.length-1].Idx:null;if(gr({Idx:e.StepIndex,Id:e.Id}),ja(e.Settings,"fake",!1))return ea("This is a fake step. Continue to next step."),Uo(),Gu.auditStep(e,Hs.FakeFound,Wo().Steps.length),bo("StepIsFaked",e),void za.executeTutorialNextStep();var d=!1;if(Il=Us.RUNNING,go(e))return void Wi(function(){ao(e).doAction()},100);var f=e.StepTitle,p=e.StepText,g=kc(Tl),m=1e3,h=g.LinkedTutorialIds?!0:!1,v=[];if(h){var w=g.LinkedTutorialIds.split(";"),y=mo(w);y?(ea("This is a branched step. Branched walk-thru's: "+g.LinkedTutorialIds),v.push(Nc(s,["click","mousedown"],w,m))):(ea("Branch walk-thru id, not found: "+g.LinkedTutorialIds),h=!1)}var b=!1,S=!1,T=-1,I=Zr(),x=null==I;zr(g.End,ms.NEXT_BUTTON)&&(Il=Us.WAITING_FOR_NEXT_BUTTON_CLICK,x?S=!0:(I.IsSkippable||ja(I.Settings,"skipNotExists",!1)||ho(I)!=Ks.STICKY_CONDITION&&!vo(I)||ja(I.Settings,"fake",!1))&&-2==Er(I.TutorialIndex,I.StepIndex)?S=!0:b=!0);var C;if(zr(g.End,ms.NOTHING)?x||(d=!0):zr(g.End,ms.HOVER)?(C=["mouseenter"],v.push(Ac(s,e,C,x,500))):zr(g.End,ms.CLICK)&&!h?(C=["click","mousedown","mouseup"],mc("noFocusTrigger")||C.push("focus"),v.push(Ac(s,e,C,x,m))):zr(g.End,ms.KEY_PRESSED)?(C=["keydown","paste","change"],v.push(Ac(s,e,C,x,2e3))):zr(g.End,ms.PAGE_CHANGED)?(Il=Us.WAITING_FOR_PAGE_CHANGE,Ll=!0):zr(g.End,ms.DURATION)&&(g.durationHandler=Wi(function(){li(),za.executeTutorialNextStep()},1e3*g.Duration)),g.Settings.additionalTriggers){bo("StepAdditionalTriggerCBSet",g);var D={elementName:f||p},E=new xs(D);E.onValueChanged(function(e){if(bo("StepAdditionalTriggered",g),e){Ll=!1,g.durationHandler&&(g.durationHandler.clear(),g.durationHandler=null);var t=uo(g.Settings.additionalTriggers);Po(x,m,t)}}),E.evaluateAsync(g.Settings.additionalTriggers),gc.push(E)}if(Tl>0&&zr(g.End,ms.NEXT_BUTTON)&&!po(c)){if(T=Er(Sl,Tl-1,0,-1),T>=0){var P=kc(T);zr(P.End,ms.NEXT_BUTTON)||(T=-1)}lc=T}ja(e.Settings,"waitOtherWindow",!1)&&(Ml=!0);var N=new za.Balloon({element:s,forceEmbedBalloonInIframe:!1,positionHelper:k,dontShowIoBalloon:so(e),isFirstStep:lo(),stepSettings:e.Settings,text:{title:f,content:p,subText:co()},end:e.End,position:e.Position,buttons:{next:b,done:S,back:T>=0},data:{stepId:e.Id,tutorialId:e.TutorialId,type:e.Type},configuration:e.Configuration,logger:za.Logger,drawer:za.getBalloonDrawer(e.Configuration),siteConfig:za.getSiteConfig()});N.onDestroy(function(){Eo(s,C)}),N.setReleaseEvents(v),Dl.push(N),Uo(),Gu.auditStep(e,Hs.Shown,Wo().Steps.length),N.Show(!0,function(){bo("NewStepShown",e),yo("NewStepShown",{Element:s}),So("NewStepShown"),N.SetTimeoutOn(),d&&(li(),za.executeTutorialNextStep())})}else ea("Element not found."),bo("ElementNotFound",e),Il==Us.WAITING_FOR_STICKY_ELEMENT?(ea("Step was sticky. Keep looking for the element."),bo("StickyStepWaiting",e),Il=Us.WAITING_FOR_STICKY_ELEMENT,Wi(function(){_makeTutorial.executeCurrentStep()},500),Uo()):e.IsSkippable||ja(e.Settings,"skipNotExists",!1)?(go(e)?(ea("Action step isn't valid. Skipping to next step."),Gu.auditStep(e,Hs.NonValidActionStep,Wo().Steps.length)):(ea("Skippable step. Skip to next step."),Gu.auditStep(e,Hs.SkippedNotFound,Wo().Steps.length)),bo("StepWasSkipped",e),za.executeTutorialNextStep()):(ea("Keep looking for the element."),bo("LookingForElement",e),Il=Us.WAITING_FOR_ELEMENT,Wi(function(){_makeTutorial.executeCurrentStep()},500),Uo())};_walkmeInternals.bind=function(e,t){wmjQuery(_walkmeInternals).bind(e,t)},_walkmeInternals.unbind=function(e,t){wmjQuery(_walkmeInternals).unbind(e,t)};var Dc=function(e){for(var t=-1,n=0;n<Tu.length;n++)if(Tu[n].TutorialId==e){t=n;break}return t},Ec=function(e,t){var n=xo(e,t);return n?n.StepIndex:-1},Pc=function(e,t){for(var n=t.Steps,r=0;r<n.length;r++)if(n[r].Id==e)return n[r];return null};this.resumeSplit=function(){try{var e,t,n=1e3;t=1==Cl.length?Cl[0]:Kr(Cl),t?(e=Dc(t),Wi(function(){var t={type:$s.BRANCHING,objectId:kc(Tl).Id};Dr(e,0,!1,void 0,t)},n),Uo()):(ea("Try again in "+n+"ms."),Wi(function(){_makeTutorial.resumeSplit()},n))}catch(r){za.Logger.error(r)}};var Nc=function(e,t,n){Il=Us.WAITING_FOR_ELEMENT_EVENT,Eo(e,t);for(var r=function(){ea("Clicked the branched walk-thru."),Eo(e,t),Do(n)},o=jc(r),i=jc(function(){Eo(e,t)}),a=0;a<t.length;a++)Jc(e,t[a]+".mt",function(e){o(e)});return function(){return i()}},jc=function(e){function t(t,r){var o;return n||(o=e(t,r),n=!0),o}var n=!1;return t},Ac=function(e,t,n,r,o){Il=Us.WAITING_FOR_ELEMENT_EVENT;for(var i=function(t,i){ea("Step event triggered.");for(var a=!1,s=0;s<n.length;s++)e.unbind(n[s]+".mt"),"click"==n[s]&&(a=!0);return Po(r,o,a,t,i),!0},a=jc(i),s=0;s<n.length;s++)Jc(e,n[s]+".mt",function(e){a(e)});return function(e){return a(null,e)}};this.showStepForRecorder=function(e,t){var n=i(e);
ar(n,0,Pu.get());var r=za.findElement(n);if(ea("element:",5),ea(r,5),!r)return!1;var o=new za.Balloon({element:r,forceEmbedBalloonInIframe:t,positionHelper:k,stepSettings:n.Settings,text:{title:n.StepTitle,content:n.StepText,subText:""},position:n.Position,data:{stepId:n.Id,type:n.Type},configuration:n.Configuration,logger:za.Logger,drawer:za.getBalloonDrawer(n.Configuration),isViewStep:!0,siteConfig:za.getSiteConfig()});return Dl.push(o),o.Show(!0,function(){o.SetTimeoutOn()}),o},this.elementExistsForRecorder=function(e){try{var t=i(e);return this.elementExists(t)}catch(n){za.Logger.error(n)}return!1},this.elementExists=function(e){try{var t=za.findElement(e);if(t)return!0}catch(n){za.Logger.error(n)}return!1},this.showAllLaunchers=function(){if(za.isWalkMeVisible())try{if($u.isLoadingFrames())return void Ui(za.showAllLaunchers,200);for(var e=0;e<xu.length;e++){var t=xu[e],n=Lo(t);ea(l("willDrawLauncher={0} for launcher with id {1}",n,t.Id),1,as),jo(t,n)}}catch(r){za.Logger.error(r)}},this.updateLauncherOffset=function(e,t){if(xu&&1==xu.length){var n=xu[0];n.drawable.updateOffset(e,t)}},this.viewLauncherForRecorder=function(e,t,n){try{var r=i(e);xu.push(r);var o=za.findElement(r.IdentifySettings);if(!o)return void n();var a=new Y({element:o,settings:r.Settings,lib:za,position:r.Position,launcherId:r.Id,isCapturingMode:!1,positionHelper:k,cdnServer:Ou,clickAuditManager:dl});r.drawable=a,r.drawable.evaluator=r.evaluator;var s=function(){a.show(function(e){a.setTimeoutOn(),n&&n(!1,e)})};t?Qo(r,s):s()}catch(u){za.Logger.error(u)}},this.showCapturedLauncherForEditor=function(e){try{var t=i(e);xu.push(t);var n={score:-1},r=za.findElement(t.IdentifySettings,null,n);if(!r)return!1;var o=new Y({element:r,settings:t.Settings,html:t.html,lib:za,position:t.Position,launcherId:t.Id,isCapturingMode:!0,positionHelper:k,cdnServer:Ou,clickAuditManager:dl});t.drawable=o,o.show(function(e){var t=e[0].ownerDocument;window.top.document.CaptureLauncherHandler.postShowLauncher(r,t,n.score)})}catch(a){za.Logger.error(a)}},this.showCaptureBallonForEditor=function(e,t,n,r){function o(e){return null==s.getElementById("maketutorial_stepTitle")?void e():void setTimeout(function(){o(e)},20)}ar(e,0,Pu.get());var i={score:-1},a=za.findElement(e,null,i);if(!a)return!1;var s=_a(null,!0)[0].ownerDocument,u=wmjQuery.extend(e.Configuration,{BalloonBorderWidth:1,ShadowType:0,BalloonVersion:"v3"}),l=new za.Balloon({element:a,forceEmbedBalloonInIframe:!1,positionHelper:k,fixedSize:{width:t,height:n},innerHtml:e.innerHtml,outterHtml:e.outterHtml,stepSettings:e.Settings,position:e.Position,data:{stepId:e.Id},configuration:e.Configuration,isCaptureBalloon:!0,logger:za.Logger,drawer:za.getBalloonDrawer(u),siteConfig:za.getSiteConfig()});return Dl.push(l),o(function(){l.Show(!0,function(){window.top.document.CaptureBalloonHandler.postBallonShow(a,s,i.score,r)})}),!0},za.getState=function(){return Il},this.canShowTutorialForEditor=function(e){var t=i(e);return za.canShowTutorial(t)},this.canShowTutorial=function(e){if(0==e.IsVisible)return!1;for(var t=Ko(e,Js.URL),n=!1,r=0;r<t.length;r++)if(_c(e,t[r])){n=!0;break}if(t.length>0&&!n)return!1;var o=ja(e.Settings,"DOCTEnabled",0);if(1==o){var i=ja(e.Settings,"DOCT","");if(""!=i)try{var a=za.evaluateConditionTree(i);if(bo("WtConditionEvaluated",e),!a)return bo("CannotShowWt",e),!1}catch(s){}}return Zo(e)?0==e.Steps.length?!1:za.findElement(e.Steps[0]):(bo("CanShowWt",e),!0)},this.evaluateCondition=function(e){var t=new tt;return e=e.replace(/&quot;/gi,'"'),e=e.replace(/&apos;/gi,"'"),e=e.replace(/&#39;/gi,"'"),e=e.replace(/&amp;/gi,"&"),t.setExpression(e),t.evaluate()},this.evaluateConditionTree=function(e){var t=Uu.evaluate(e);return t};var _c=function(e,t){switch(t.Type){case Js.URL:return Rc(t.Content)?!0:!1;default:za.Logger.error(new Error("Invalid condition type: "+t.Type))}};this.runTutorialsActionConditions=function(){};var Rc=function(e){var t,n,r="regexp:";if(ma(e,r)){e=e.substr(r.length),n=vc();try{t=n.match(e)}catch(o){return!1}}else{e=e.replace(new RegExp("[*]","g"),".*"),e=e.replace(/[-[\]{}()+?,\\^$|#\s]/g,"\\$&"),n=Bc(vc()),e=Bc(e),n=n.toLowerCase(),e=e.toLowerCase();try{t=n.match(e)}catch(o){return!1}}return null==t?!1:t[0]==n},Lc=function(e){return 0==e.length?e:"/"==e.charAt(0)?window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+e:e},Bc=function(e){return e=e.replace("http://",""),e=e.replace("https://",""),e=e.replace("www.",""),"/"==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),e};this.checkShowOnlyInUrl=function(){var e=!0,t=Pu.get(),n=ja(t.Settings,Es,null);return n?(e=za.evaluateConditionTree(n),n.finalResult=e,bo("WidgetConditionEvaluated",Pu.get(),{isPassed:e})):null!=t.ShowInUrl&&0!=t.ShowInUrl.length&&(e=Rc(t.ShowInUrl)),e||ea("Display on URL condition failed. Not showing player."),e},this.FixConfiguration=function(e){return e.BalloonColor2=nd(e.BalloonColor2)?e.BalloonColor2:e.Color,e.ButtonBgColor2=nd(e.ButtonBgColor2)?e.ButtonBgColor2:e.ButtonBgColor,e.BalloonBorderWidth=nd(e.BalloonBorderWidth)?parseInt(e.BalloonBorderWidth):1,e.BalloonButtonRadius=nd(e.BalloonButtonRadius)?parseInt(e.BalloonButtonRadius):15,e.ButtonShadowWidth=nd(e.ButtonShadowWidth)?parseInt(e.ButtonShadowWidth):0,e.BalloonRadius=nd(e.BalloonRadius)?parseInt(e.BalloonRadius):15,e.FooterTextColor=nd(e.FooterTextColor)?e.FooterTextColor:e.HeaderColor,e};var Mc=function(e,t,n){try{var r=t.body,o=t.documentElement,i=r.scrollTop||o.scrollTop,a=r.scrollLeft||o.scrollLeft,s=Ci(r,n);return i-=s.top,a-=s.left,{top:Math.round(i),left:Math.round(a)}}catch(u){za.Logger.error(u)}};this.getBodyInheritedMargin=function(){var e={top:0,left:0};if(mc("ignoreBodyInheritedMargin"))return e;var t=!1,n=mtjQuery("body").find("div").filter(function(){if(t)return!1;var e=mtjQuery(this);if("relative"!=e.css("position"))return!1;var n=null,r=null,o=parseInt(e.css("margin-top")),i=0!=o&&parseInt((r=e.position()).top)==-1*parseInt((n=e.offset()).top),a=!1;if(!i){var s=parseInt(e.css("margin-left"));a=0!=s&&parseInt(null!=r?r.left:e.position().left)==-1*parseInt(null!=n?n.left:e.offset().left)}return t=(i||a)&&Ai(e)}).eq(0);return n.length>0&&(e={top:parseInt(n.css("margin-top")),left:parseInt(n.css("margin-left"))}),e};var Oc=function(e,t){var n=parseInt(ja(t,"leftOffset",0)),r=parseInt(ja(t,"topOffset",0));return e.top=e.top+r,e.left=e.left+n,e.right=e.right+n,e.bottom=e.bottom+r,e},Fc=function(e){var t=e.body.scrollTop?e.body.scrollTop:e.documentElement.scrollTop,n=e.body.scrollLeft?e.body.scrollLeft:e.documentElement.scrollLeft;return{Top:t,Left:n}};this.decideWhereToPopForCaptureBalloon=function(e,t,n,r,o){var i=wmjQuery(Pu.get().BalloonSettings,{BalloonVersion:o});return za.getBalloonDrawer(i).decideWhereToPopForCaptureBalloon(e,t,n,r)};var Gc=function(e){var t=document;try{if(e.data("iframe")){t=e.data("iframe")[0];var n=t.contentWindow?t.contentWindow.document:null;t=t.contentDocument||n}}catch(r){}return t},Qc=function(e,t){e.css("position","absolute"),e.css("z-index",t),e.addClass("SkipThisFixedPosition")},Wc=function(e,t){e.css("background-color","red"),Qc(e,t),e.css("display","inline")},Uc=function(e,t,n,r,o,i,a,s){return a>=n&&e>=o&&r>=s&&i>=t},Vc=function Ad(e,t){var n=e.data("iframe");return t||(t=[]),n&&(t.push(n),Ad(n,t)),t},Hc=function(e){var t;t=mtjQuery(e.data("iframe")?e.data("iframe"):window);var n=Gc(e);return t.left=function(){return Fc(n).Left},t.top=function(){return Fc(n).Top},t},zc=function(e){var t=new Array;return mtjQuery.each(e.split("/"),function(e,n){if(0==e);else{var r=n.indexOf("["),o=n.substring(0,r),i=n.substring(r+1,n.length-1);t[e-1]=new Array(2),t[e-1].tag=o,t[e-1].index=i}}),t},$c=function(e){var t,n=!1;return mtjQuery.each(e,function(r,o){return n=0==r?mtjQuery(document).children(o.tag).eq(o.index-1):mtjQuery(n).children(o.tag).eq(o.index-1),("iframe"==o.tag||"frame"==o.tag)&&e.length>r+1&&(n.length>0&&(t&&n.data("iframe",t),t=n),n=Aa(n)),0!=n.length&&n.get(0)?void 0:void(n=!1)}),n&&n.length>0&&t&&n.data("iframe",t),n},qc=function(e){for(var t="",n=0;n<e.length;n++)t=t+"/"+e[n].tag+"["+e[n].index+"]";return t};this.getElementText2=function _d(e,t,n){if(n[0]>0)if(!e||3!==e.nodeType&&4!==e.nodeType){if(e&&1===e.nodeType&&!e.tagName.match(/^(script|style)$/i))for(var r=e.childNodes,o=0,i=r.length;i>o;o++)_d(r[o],t,n)}else{var a=Xc(e.nodeValue);a=a.toLowerCase(),a=vl.escapeSurrogatePairs(a),a&&(t.push(a),n[0]--)}},this.getElementTextArray=function(e){var t=new Array;return this.getElementText2(e,t,[3]),t};var Xc=function(e){return e=e.replace(new RegExp(String.fromCharCode(160),"g")," "),e=e.replace(new RegExp(String.fromCharCode(10),"g"),""),e=e.replace(new RegExp(String.fromCharCode(13),"g"),""),e=e.replace(new RegExp(String.fromCharCode(9),"g"),""),e=e.replace(new RegExp(" ","g"),""),e=mtjQuery.trim(e),e=e.substring(0,Gs)};this.getElementText=function(e){var t=za.getElementTextArray(e[0]),n=t?t[0]:"";return n};var Jc=function(e,t,n){e.on(t,n),_l.push({element:e,eventName:t})};Gi.prototype.id=null,Gi.prototype.cleared=!1,Gi.prototype.clear=function(){this.cleared||(fc(this.id),this.cleared=!0,delete this.timeoutsDict[this.id],delete jl[Al+this.id])},Qi.prototype.id=null,Qi.prototype.cleared=!1,Qi.prototype.clear=function(){fc(this.id),this.cleared=!0,delete jl[Al+this.id],delete this.timeoutsDict[this.id]},za.releaseLibTimeouts=function(){Hi(El)},this.mt_log=function(e){ea(e,5)};var f=function(e){return"boolean"==typeof e?!1:!isNaN(e-0)},Yc=function(e){return e?e.replace(/\n/g,"<br/>"):""},Kc=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},Zc=function(){return Kc()+Kc()+"-"+Kc()+"-"+Kc()+"-"+Kc()+"-"+Kc()+Kc()+Kc()};Ja.register("GenerateGuidFunc").asInstance(Zc),Ja.register("ProfileLibFunctions").asInstance(function(e){za.startNewTutorial=e.profile("startNewTutorial",za.startNewTutorial),Cc=e.profile("executeTutorialStep",Cc),za.findElement=e.profile("findElement",za.findElement),za.getBodyInheritedMargin=e.profile("getBodyInheritedMargin",za.getBodyInheritedMargin),za.evaluateAsync=e.instrument("evaluateAsync",za.evaluateAsync)}),this.isQuirksMode=function(e){var t=e&&e.ownerDocument?e.ownerDocument:document;return"BackCompat"==t.compatMode&&mtjQuery.browser.msie?!0:!1},Ja.register("GetAuditSourceFunc").asInstance(aa),this.setAuditSource=function(e){var t=tu[e];cc=void 0!=t?t:parseInt(e)},this.generateNewPlayGuid=function(e){var t=Zc();return t=(new Date).getTime()+"-"+e+"-"+t},this.sendWidgetOpenLogToServer=function(){if(ra())return!0;var e=bi(),t=la(),n=da(),r=aa(),o=sa();wl.execute({url:Bu.get()+"/Statistics/AddWidgetOpen",data:{userId:e,fullUrl:o,source:r,browser:t,os:n,permutationId:za.getABPermutationId(),endUserGuid:za.getEndUserGuid()}})},this.sendSearchResultClickedToServer=function(e,t,n,r,o,i){if(!mc("noAudit")){var a=za.getPlayerServer(),s=wl.execute({url:a+"/Search/SearchResultClicked",dataType:"jsonp",data:{userGuid:e,searchGuid:t,resultSearchProvider:n,selectedItem:r,permutationId:za.getABPermutationId(),endUserGuid:za.getEndUserGuid(),source:aa()}});s.success(o),s.error(i)}},this.getSearchResultsFromServer=function(e,t,n,r,o){var i=za.getPlayerServer(),a=wl.execute({url:i+"/Search/Search",data:{userGuid:e,query:t,permutationId:za.getABPermutationId(),endUserGuid:za.getEndUserGuid(),source:aa(),saveSearch:!o},timeout:bu});return a.success(n),a.error(r),a},this.saveSearchToServer=function(e,t,n,r){if(!mc("noAudit")){var o=za.getPlayerServer(),i=wl.execute({url:o+"/Search/SaveSearch",dataType:"jsonp",data:{userGuid:e,query:t,permutationId:za.getABPermutationId(),endUserGuid:za.getEndUserGuid(),source:aa()},timeout:bu});i.success(n),i.error(r)}},this.sendResultClickedBeforeSearchToServer=function(e,t,n,r,o){var i=za.getPlayerServer(),a=wl.execute({url:i+"/Search/ResultClickedBeforeSearch",dataType:"jsonp",data:{userGuid:t,searchQuery:e,selectedItem:n,permutationId:za.getABPermutationId(),endUserGuid:za.getEndUserGuid(),source:aa()}});a.success(r),a.error(o)},za.getBrowser=function(){return la()},Ja.register("GetOsTypeFunc").asInstance(da);var ed=function(e,t){var n=null;if(e.length>0){var r=t(e[0]);n=e[0];for(var o=1;o<e.length;o++){var i=t(e[o]);i>r&&(r=i,n=e[o])}}return n},td=function(e,t){var n=null;if(e.length>0){var r=t(e[0]);n=e[0];for(var o=1;o<e.length;o++){var i=t(e[o]);r>i&&(r=i,n=e[o])}}return n};this.getElementStrength=function(e){var t={score:-1},n=i(e);ar(n,0,{BalloonSettings:{}});var r=za.findElement(n,null,t);return r?t.score:null},this.findElement=function(e,t,n){try{var r=vl.findElement(e,t,n);return r}catch(o){za.Logger.error(o)}};var nd=function(e){return null!=e&&void 0!=e},rd=function(e){var t=new va;return t.NumNodeRemove=e.NumNodeRemove,t.NumNodeDiff=e.NumNodeDiff,t.SumNodeDiff=e.SumNodeDiff,t},od=new va;od.NumNodeRemove=1e4;var id=function(e){return e.NumNodeRemove+e.NumNodeDiff/4+e.SumNodeDiff/10},ad=function(e,t){var n=wa(ud(e)),r=t.extended.xpathArrayToIframeNoBodyAndHtml,o=sd(new va,n,n.length-1,r,r.length-1);return o},sd=function Rd(e,t,n,r,o){if(Math.abs(n-o)>Qs)return od;if(e.NumNodeRemove>Qs)return od;if(0>n)return e.NumNodeRemove+=o+1,e.NumNodeRemove>Qs?od:e;if(0>o)return e.NumNodeRemove+=n+1,e.NumNodeRemove>Qs?od:e;var i=t[n].tag,a=t[n].index,s=r[o].tag,u=r[o].index,l=i==s,c=a==u;if(l&&c)return Rd(e,t,n-1,r,o-1);var d=rd(e);d.NumNodeRemove++;var f,p=Rd(d,t,n-1,r,o-0),g=Rd(d,t,n-0,r,o-1);if(l){var m=Math.abs(a-u),h=rd(e);m>0&&(h.NumNodeDiff++,h.SumNodeDiff+=m),f=Rd(h,t,n-1,r,o-1)}else f=od;var v=td([p,g,f],id);return v},ud=function(e){for(var t=new Array,n=0;e&&1==e.nodeType;e=e.parentNode){var r=1;if("HTML"!=Ua(e)){for(var o=e.parentNode.childNodes,i=0;i<o.length&&o[i]!=e;i++)o[i].tagName==e.tagName&&r++;i==o.length&&za.Logger.error(!1,"calculateElementXPathArray - not supposed to get here!")}t[n]={tag:e.tagName.toLowerCase(),index:r},n++}return ya(t),t},ld=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t},cd=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r]));return n},dd=function(e,t){return null!=fd(e,t)},fd=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null},pd=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},gd=function(e,t){for(var n=new Array,r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},md=function(e){za.redirectPopupOK(e)};this.redirectPopupOK=function(e){Uo(),Ui(function(){window.location=e},200),Ca()},this.redirectPopupCancel=function(){Ca()};var hd=void 0,vd=void 0;this.getMarginAutoStyles=function(){return void 0==hd&&(hd=[],pd(document.styleSheets,kd)),hd};var wd=function(){return void 0==vd&&(vd=[],pd(document.styleSheets,yd)),vd},yd=function Ld(e){try{for(var t=e.cssRules||e.rules,n=0;n<t.length;n++){var r=t[n];r.type&&r.type==window.CSSRule.IMPORT_RULE?Ld(r.styleSheet):bd(r.style)&&vd.push(r.selectorText)}}catch(o){}},bd=function(e){var t=e.width;if(t){for(var n="",r=0;r<t.length;r++)isNaN(t[r])||(n+=t[r]);if(n&&parseInt(n)>700&&(-1!=t.indexOf("p")||-1!=t.indexOf("e")||-1!=t.indexOf("m")||-1!=t.indexOf("i")))return!0}return!1},kd=function Bd(e){try{for(var t=e.cssRules||e.rules,n=0;n<t.length;n++){var r=t[n];r.type&&r.type==window.CSSRule.IMPORT_RULE?Bd(r.styleSheet):Sd(r.style)&&hd.push(r.selectorText)}}catch(o){}},Sd=function(e){if(e){var t=mtjQuery.trim(e.margin),n=mtjQuery.trim(e.marginLeft),r=mtjQuery.trim(e.marginRight),o=ma(t,"0")&&ga(t,"auto"),i="auto"==n&&"auto"==r;if(o||i)return!0}return!1},Td=function(e){var t=mtjQuery(e),n=t.data("mt_isElementFixedWidth");if(1==n)return!0;if(0==n)return!1;var r=Cd(e);return t.data("mt_isElementFixedWidth",r),r},Id=function(e){var t=mtjQuery(e),n=t.data("mt_isElementMarginAuto");if(1==n)return!0;if(0==n)return!1;var r=Dd(e);return t.data("mt_isElementMarginAuto",r),r},xd=function(e,t){for(var n=!1,r=0;r<t.length;r++){var o=t[r];if(n=mtjQuery(e).is(mtjQuery(o)))return n}return n},Cd=function(e){if(bd(e.style))return!0;var t=xd(e,wd());return t},Dd=function(e){if(Sd(e.style))return!0;var t=xd(e,za.getMarginAutoStyles());return t},Ed=function(e){var t=za.getCenteredElement(e),n=t?t.offset().left:0,r=mtjQuery(e).offset().left-n;return 0>r&&ea("can't be negative broder was right "+mtjQuery(e).offset().left+"-"+n+"="+r,5),r};this.getCenteredElement=function(e){for(var t=mtjQuery(e).parents(),n=null,r=t.length-1;r>=0;r--)try{var o=Td(t[r]);if(o){var i=mtjQuery(t[r]),a=mtjQuery(window).width(),s=i.width(),u=i.offset().left,l=a-s;if(l>0&&l/2==u){n=i;break}if(0>l&&l==u){n=i;break}if(Id(i)){n=mtjQuery(i);break}}}catch(c){ea("error-----------------------------------",5),za.Logger.error(c)}return n},za.injectCustomCSS=function(e,t){ka(e,t)};var Pd;Ea.prototype.Generate=function(e){var t=mtjQuery(e.createElement("div"));return t.css("display","block"),t.css("width","0"),t.css("height","0"),t.css("border",this.width+"px solid transparent"),t.css("border-"+au[this.point_direction]+"-color",this.color),t.css("line-height","0"),t.css("border-"+au[(this.point_direction+2)%4],"0px"),3==this.point_direction||1==this.point_direction?t.css("border-style","outset solid solid solid"):t.css("border-style","solid outset solid solid"),t},this.parseBBCode=function(e){return Ms.parse(e)},this.shouldHandlePageAsFramesets=function(){return!dc&&$u.isFramesetsPage()},this.isFramesetsPage=function(){return za.shouldHandlePageAsFramesets()};var Nd=null;this.getBiggestFrame=function(){var e=!1;try{e=!Nd||!$u.isFrameActive(Nd)||mtjQuery("frameset",Nd.contentWindow.document).length>0}catch(t){e=!0}return e&&(Nd=$u.findBiggestFrame()),Nd},this.centerElementInPage=function(e,t,n,r){var o=window;if(za.shouldHandlePageAsFramesets()&&(o=za.getBiggestFrame().contentWindow),Ma())return Fa(e,t);var i={top:0,left:0};n&&(i.top+=n.top,i.left+=n.left);var a=Ci(e.parent()[0],o);return i.top-=a.top,i.left-=a.left,Oa(e,t,mtjQuery(o).scrollLeft(),mtjQuery(o).scrollTop(),mtjQuery(o).width(),mtjQuery(o).height(),i,r)};var jd=function(e,t){for(var n,r={"&amp;":"&","&apos;":"'","&#39;":"'","&quot;":'"',"&lt;":"<","&gt;":">"},o=[],i=0,a=0,s=0;i<e.length;){if(n=!1,"&"==e.charAt(i)){var u=e.substring(i,i+6).toLowerCase(),l=r[u];s=l?6:s;var c=e.substring(i,i+5).toLowerCase(),d=r[c];s=d?5:s;var f=e.substring(i,i+4).toLowerCase(),p=r[f];s=p?4:s;var g=p||d||l,m=-1!=ba(g,t);if(g&&m){var h=e.substring(a,i);o.push(h),o.push(g),i+=s,a=i,n=!0}}n||i++}var v=e.substring(a,i);o.push(v);var w=o.join("");return w};Ja.register("ConditionTreeEvaluator").asCtor(Wa).dependencies("ConditionFunctions"),Ja.register("AbTestingManager").asCtor(Va).dependencies("StorageManager,SiteConfigManager,Lib,Logger,RecorderServerManager"),this.shouldShowWidgetAccordingToAbTesting=function(){return za.isWalkMeVisible()},this.isWalkMeVisible=function(){return 0!==Pu.get().ShowWalkMe&&(!ll||ll.shouldShowWidget())},this.completeGoalById=function(e){return js.completeGoalById(e)},this.getCompletedGoals=function(e,t){return Vu.getCompletedGoals(e,t)},this.setDeployablesJson=function(e,t){try{var n=i(t);wmjQuery.each(n,function(e,t){t.userGuid=al}),za.getDeployablesManager(e).setDeployables(n)}catch(r){za.Logger.error(r)}},za.getAbtestingGoalsManager=function(){return gl},Dn.apply(null,arguments)}function ClassWalkMeAPI(){function e(e,t){for(var r=[],o=0;o<e.length;o++)for(var i=e[o].LinkedTutorials,a=0;a<i.length;a++)r.push(i[a]);for(var s=[],o=0;o<t.length;o++)n(t[o].Id,r)||s.push(t[o]);return s}function t(e,t,r){for(var o=[],i=0;i<e.length;i++)if(n(e[i].Id,t)){var a=mtjQuery.extend(!0,{},e[i]);a.labelId=r,o.push(a)}return o}function n(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function r(e){for(var t=_makeTutorial.getTutorials(),n=0;n<t.length;n++)if(t[n].TutorialId==e)return n;return-1}this.LocalSVNRevision="$Rev: 4403 $";var o=this,i=5,a=100,s=_makeTutorial.getPlayInitiatorEnum();this.getPlayInitiatorEnum=function(){return s},this.getWalkthrus=function(e){for(var t=_makeTutorial.getTutorials(),n=new Array,r=0;r<t.length;r++){var o=t[r].CustomField1;o&&(o=o.replace(/&quot;/gi,'"'),o=o.replace(/&apos;/gi,"'"),o=o.replace(/&#39;/gi,"'"),o=o.replace(/&amp;/gi,"&"));var i={Index:r,Name:t[r].Name,Id:t[r].TutorialId,Visible:t[r].IsVisible,CustomField1:o,Description:t[r].Description};e&&(i.ConditionsPassed=_makeTutorial.canShowTutorial(t[r]),i.isPackageHidden=_makeTutorial.isTutorialPackageHidden(t[r]),i.Keywords=void 0==t[r].Keywords?[]:t[r].Keywords),n.push(i)}return n},this.getWalkthrusLabels=function(n){var r=_makeTutorial.getWalkthrusLabels();if(null==r)return null;for(var o=this.getWalkthrus(n),i=e(r,o),a=_makeTutorial.getSiteConfig(),s=[],u=0;u<r.length;u++){var l={Name:r[u].Name,Id:r[u].Id,Walkthrus:t(o,r[u].LinkedTutorials,r[u].Id)};s.push(l)}return{unlabeledWalkthrus:i,labels:s,unlabeledFirst:a.Settings.labels&&1==a.Settings.labels.unlabeldOnTop}},this.startContentById=function(e){return 0>e?!1:_makeTutorial.startContentById(e)},this.startWalkthruById=function(e,t){"object"!=typeof e&&(e={id:e,fromStep:t});var n=e.id,i=e.fromStep,a=e.playInitiator;if(0>n||"number"!=typeof n)return!1;var u=r(n);return 0>u?!1:(a||(a={type:s.API}),o.startWalkthruByIndex({index:u,fromStep:i,playInitiator:a}))},this.startWalkthruByIndex=function(e,t){if(!_makeTutorial.isWalkMeVisible)return!1;"object"!=typeof e&&(e={index:e,fromStep:t});var n=e.index,r=e.fromStep,o=e.playInitiator;return 0>n||"number"!=typeof n?!1:(o||(o={type:s.API}),_makeTutorial.startNewTutorial(n,r,!1,o))},this.canStartWalkthru=function(e,t){if(!_makeTutorial.isWalkMeVisible)return!1;if(0>e||"number"!=typeof e)return!1;var n=r(e);return 0>n?!1:_makeTutorial.startNewTutorial(n,t,!0)},this.setWalkthruVisibility=function(e,t){var n=_makeTutorial.getTutorials(),o=r(e);return 0>o?!1:(n[o].IsVisible=t,!0)},this.stopWalkthru=function(){_makeTutorial.stopTutorial()},this.setAnalyticsCustomField=function(e,t){return e>i||1>e||t.length>a?!1:_makeTutorial.setAnalyticsCustomFields(e-1,t)},this.enableLogs=function(e){return void 0==e&&(e=!0),this.log.enable(e)},this.loadTasks=function(e,t){return _makeTutorial.loadTasks(e,t)},this.getTasks=function(e){return _makeTutorial.getApiTasks(e)},this.getWidgetMode=function(){return"Walkthrus"},this.setWidgetMode=function(){return"Deprecated"},this.getWidgetInitialState=function(){return"Closed"},this.changeLanguage=function(e,t){return _makeTutorial.changeLanguage(e,t)},this.getSupportedLanguages=function(){return _makeTutorial.getSupportedLanguages()},this.getCurrentLanguage=function(){return _makeTutorial.getCurrentLanguage()},this.getTree=function(){return _makeTutorial.getUiDataProvider().uiObjectsTree()},o.log=_makeTutorial.Logger.getAPI()}var wmjQuery=mtjQuery;if(mtjQuery)mtjQuery.expr&&mtjQuery.expr.filters&&(mtjQuery.expr.filters.mt_hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!mtjQuery.support.reliableHiddenOffsets&&"none"===(e.style.display||mtjQuery.css(e,"display"))||"hidden"===mtjQuery.css(e,"visibility")},mtjQuery.expr.filters.mt_visible=function(e){return!mtjQuery.expr.filters.mt_hidden(e)}),mtjQuery.trim=function(e){var t=/^\s+/,n=/\s+$/;return null==e?"":e.toString().replace(t,"").replace(n,"")};else try{console.log("mtjQuery undefined")}catch(e){}!function(e){e.extend({safeEach:function(t,n){return e.each(t,function(e,r){t.hasOwnProperty(e)&&n(e,r)})}}),e.fn.safeEach=function(t){return e.safeEach(this,t)},e.fn.important=function(t,n){var r=this;return"object"==typeof t?(e.safeEach(t,function(e,t){r.important(e,t)}),r):r.safeEach(function(r,o){e(o).css(t,"").attr("style",function(e,r){var o=new RegExp("(^|;)\\s*"+t+"\\s*:[^;]*(;|$)","gi");return(r||"").replace(o,"$1").replace(/;$/gi,"")+";"+(void 0!=n?t+": "+n+" !important;":"")})})},e.fn.exist=function(){return!!this.length},e.fn.or=function(t,n){return this.length?this:e(t,n)},e.extend(e.expr[":"],{textEquals:function(t,n,r){return e(t).text()==r[3]}})}(wmjQuery),function(e){"use strict";function t(t,n){e.extend(this,n),this.$select=t,e.extend(this,this.markup(t)),this.bindEvents()}function n(r){return"string"!=typeof r&&(r=e.extend({},n.options,r)),this.filter("select").each(function(){var n=e(this),o=n.data(r.baseName);"string"==typeof r?o[r].apply(n,[].slice.call(arguments,1)):o||n.data(r.baseName,new t(n,r))}),this}t.prototype={getValue:function(e){return"function"==typeof this[e]?this[e]():this[e]},onFocusBlur:function(e){this.$el.toggleClass(this.generateClassName("focus",!0),e&&("focus"===e.type||"focusin"===e.type)||this.$select.is(":focus"))},updateTitle:function(){var e=this.$select.find(":selected"),t=this.formatter(e.text(),this.$select.val(),e,this.$select);this.allowHtmlInTitle?this.$title.html(t):this.$title.text(t)},bindEvents:function(){this.$el.on("focusin."+this.baseName+" focusout."+this.baseName,e.proxy(this.onFocusBlur,this)),this.onFocusBlur(),this.$select.on("change."+this.baseName,e.proxy(this.updateTitle,this)),this.$select.on("keyup."+this.baseName,e.proxy(this.updateTitle,this)),this.updateTitle()},destroy:function(){this.$el.off("."+this.baseName),this.$select.off("."+this.baseName),this.$select.removeClass(this.generateClassName("select")).insertBefore(this.$el),this.$el.remove()}},n.klass=t,n.formatter=function(e){return e},n.markup=function(t){var n=t.addClass(this.generateClassName("select")).wrap('<span class="'+this.generateClassName()+'"/>').parent();return e('<span class="'+this.generateClassName("arrow")+'"/>').prependTo(n),{$el:n,$title:e('<span class="'+this.generateClassName("title")+'"/>').prependTo(n)}},n.generateClassName=function(e){return this.getValue("baseName")+(e?"-"+e:"")},n.options={baseName:"brute-select",generateClassName:n.generateClassName,markup:n.markup,formatter:n.formatter,allowHtmlInTitle:!1},e.fn.bruteSelect=n}(mtjQuery),function(e){e.fn.fixedPosition=function(){}}(mtjQuery),function(e){e.extend({highlight:function(t,n,r,o){if(3===t.nodeType){var i=t.data.match(n);if(i){var a=document.createElement(r||"span");a.className=o||"walkme-highlight";var s=t.splitText(i.index);s.splitText(i[0].length);var u=s.cloneNode(!0);return a.appendChild(u),s.parentNode.replaceChild(a,s),1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&(t.tagName!==r.toUpperCase()||t.className!==o))for(var l=0;l<t.childNodes.length;l++)l+=e.highlight(t.childNodes[l],n,r,o);return 0}}),e.fn.unhighlight=function(t){var n={className:"walkme-highlight",element:"span"};return e.extend(n,t),this.find(n.element+"."+n.className).each(function(){var t=this.parentNode;t&&(t.replaceChild(this.firstChild,this),e(t).text(e(t).text()))}).end()},e.fn.highlight=function(t,n){var r={className:"walkme-highlight",element:"span",caseSensitive:!1,wordsOnly:!1};if(e.extend(r,n),t.constructor===String&&(t=[t]),t=e.grep(t,function(e){return""!=e}),t=e.map(t,function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),0==t.length)return this;var o=r.caseSensitive?"":"i",i="("+t.join("|")+")";r.wordsOnly&&(i="\\b"+i+"\\b");var a=new RegExp(i,o);return this.each(function(){e.highlight(this,a,r.element,r.className)})}}(mtjQuery),function(e,t,n){e.fn.jScrollPane=function(r){function o(r,o){function i(t){var o,u,c,f,p,g,v=!1,w=!1;if(W=t,U===n)p=r.scrollTop(),g=r.scrollLeft(),r.important({overflow:"hidden",padding:0}),V=r.innerWidth()+bt,H=r.innerHeight(),r.width(V),U=e('<div class="walkme-jspPane" />').css("padding",yt).append(r.children()),z=e('<div class="walkme-jspContainer" />').css({width:V+"px",height:H+"px"}).append(U).appendTo(r),a(r);else{if(r.css("width",""),v=W.stickToBottom&&P(),w=W.stickToRight&&N(),f=r.innerWidth()+bt!=V||r.outerHeight()!=H,f&&(V=r.innerWidth()+bt,H=r.innerHeight(),z.css({width:V+"px",height:H+"px"})),!f&&kt==$&&U.outerHeight()==q)return void r.width(V);kt=$,U.css("width",""),r.width(V),z.find(">.walkme-jspVerticalBar,>.walkme-jspHorizontalBar").remove().end()}U.css("overflow","auto"),$=t.contentWidth?t.contentWidth:U[0].scrollWidth,q=U[0].scrollHeight,U.css("overflow",""),X=V>$?1:$/V,J=H>q?1:q/H,Y=J>1||W.alwaysScrollVertical,K=X>1||W.alwaysScrollHorizontal,K||Y?(r.addClass("walkme-jspScrollable"),o=W.maintainPosition&&(tt||ot),o&&(u=D(),c=E()),s(),l(),d(),o&&(x(w?$-V:u,!1),I(v?q-H:c,!1)),R(),j(),G(),W.enableKeyboardNavigation&&B(),W.clickOnTrack&&m(),O(),W.hijackInternalLinks&&F()):(r.removeClass("walkme-jspScrollable"),U.css({top:0,left:0,right:0,width:z.width()-bt}),A(),L(),M(),h()),W.autoReinitialise&&!wt?wt=setInterval(function(){i(W)},W.autoReinitialiseDelay):!W.autoReinitialise&&wt&&clearInterval(wt),p&&r.scrollTop(0)&&I(p,!1),g&&r.scrollLeft(0)&&x(g,!1),r.trigger("walkme-jsp-initialised",[K||Y])}function a(t){var n=e(t).find('div[class*="walkme-jsp"]').add(t);n.each(function(t,n){var r="class",o=e(n),i=o.attr(r);o.attr(r,"").attr(r,i)})}function s(){Y&&(z.append(e('<div class="walkme-jspVerticalBar" />').append(e('<div class="walkme-jspCap walkme-jspCapTop" />'),e('<div class="walkme-jspTrack" />').append(e('<div class="walkme-jspDrag" />').append(e('<div class="walkme-jspDragTop" />'),e('<div class="walkme-jspDragBottom" />'))),e('<div class="walkme-jspCap walkme-jspCapBottom" />'))),a(z),it=z.find(">.walkme-jspVerticalBar"),at=it.find(">.walkme-jspTrack"),Z=at.find(">.walkme-jspDrag"),W.showArrows&&(ct=e('<a class="walkme-jspArrow walkme-jspArrowUp" />').bind("mousedown.walkme-jsp",p(0,-1)).bind("click.walkme-jsp",_),dt=e('<a class="walkme-jspArrow walkme-jspArrowDown" />').bind("mousedown.walkme-jsp",p(0,1)).bind("click.walkme-jsp",_),W.arrowScrollOnHover&&(ct.bind("mouseover.walkme-jsp",p(0,-1,ct)),dt.bind("mouseover.walkme-jsp",p(0,1,dt))),f(at,W.verticalArrowPositions,ct,dt)),ut=H,z.find(">.walkme-jspVerticalBar>.walkme-jspCap:visible,>.walkme-jspVerticalBar>.walkme-jspArrow").each(function(){ut-=e(this).outerHeight()}),Z.hover(function(){Z.addClass("walkme-jspHover")},function(){Z.removeClass("walkme-jspHover")}).bind("mousedown.walkme-jsp",function(t){e(W.containerDoc).find("html").bind("dragstart.walkme-jsp selectstart.walkme-jsp",_),Z.addClass("walkme-jspActive");var n=t.pageY-Z.position().top;return e(W.containerDoc).find("html").bind("mousemove.walkme-jsp",function(e){w(e.pageY-n,!1)}).bind("mouseup.walkme-jsp mouseleave.walkme-jsp",v),!1}),u())}function u(){at.height(ut+"px"),tt=0,st=W.verticalGutter+at.outerWidth(),U.width(V-st-bt);try{0===it.position().left&&U.css("margin-left",st+"px")}catch(e){}}function l(){K&&(z.append(e('<div class="walkme-jspHorizontalBar" />').append(e('<div class="walkme-jspCap walkme-jspCapLeft" />'),e('<div class="walkme-jspTrack" />').append(e('<div class="walkme-jspDrag" />').append(e('<div class="walkme-jspDragLeft" />'),e('<div class="walkme-jspDragRight" />'))),e('<div class="walkme-jspCap walkme-jspCapRight" />'))),a(z),ft=z.find(">.walkme-jspHorizontalBar"),pt=ft.find(">.walkme-jspTrack"),nt=pt.find(">.walkme-jspDrag"),W.showArrows&&(ht=e('<a class="walkme-jspArrow walkme-jspArrowLeft" />').bind("mousedown.walkme-jsp",p(-1,0)).bind("click.walkme-jsp",_),vt=e('<a class="walkme-jspArrow walkme-jspArrowRight" />').bind("mousedown.walkme-jsp",p(1,0)).bind("click.walkme-jsp",_),W.arrowScrollOnHover&&(ht.bind("mouseover.walkme-jsp",p(-1,0,ht)),vt.bind("mouseover.walkme-jsp",p(1,0,vt))),f(pt,W.horizontalArrowPositions,ht,vt)),nt.hover(function(){nt.addClass("walkme-jspHover")},function(){nt.removeClass("walkme-jspHover")}).bind("mousedown.walkme-jsp",function(t){e(W.containerDoc).find("html").bind("dragstart.walkme-jsp selectstart.walkme-jsp",_),nt.addClass("walkme-jspActive");var n=t.pageX-nt.position().left;return e(W.containerDoc).find("html").bind("mousemove.walkme-jsp",function(e){b(e.pageX-n,!1)}).bind("mouseup.walkme-jsp mouseleave.walkme-jsp",v),!1}),gt=z.innerWidth(),c())}function c(){z.find(">.walkme-jspHorizontalBar>.walkme-jspCap:visible,>.walkme-jspHorizontalBar>.walkme-jspArrow").each(function(){gt-=e(this).outerWidth()}),pt.width(gt+"px"),ot=0}function d(){if(K&&Y){var t=pt.outerHeight(),n=at.outerWidth();ut-=t,e(ft).find(">.walkme-jspCap:visible,>.walkme-jspArrow").each(function(){gt+=e(this).outerWidth()}),gt-=n,H-=n,V-=t,pt.parent().append(e('<div class="walkme-jspCorner" />').css("width",t+"px")),a(pt.parent()),u(),c()
}K&&U.width(z.outerWidth()-bt+"px"),q=U.outerHeight(),J=H>q?1:q/H,K&&(mt=Math.ceil(1/X*gt),mt>W.horizontalDragMaxWidth?mt=W.horizontalDragMaxWidth:mt<W.horizontalDragMinWidth&&(mt=W.horizontalDragMinWidth),nt.width(mt+"px"),rt=gt-mt,k(ot)),Y&&(lt=Math.ceil(1/J*ut),lt>W.verticalDragMaxHeight?lt=W.verticalDragMaxHeight:lt<W.verticalDragMinHeight&&(lt=W.verticalDragMinHeight),Z.height(lt+"px"),et=ut-lt+W.dragMaxYOffset,y(tt))}function f(e,t,n,r){var o,i="before",a="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==i?a=t:t==a&&(i=t,o=n,n=r,r=o),e[i](n)[a](r)}function p(e,t,n){return function(){return g(e,t,this,n),this.blur(),!1}}function g(t,n,r,o){r=e(r).addClass("walkme-jspActive");var i,a,s=!0,u=function(){0!==t&&St.scrollByX(t*W.arrowButtonSpeed),0!==n&&St.scrollByY(n*W.arrowButtonSpeed),a=setTimeout(u,s?W.initialDelay:W.arrowRepeatFreq),s=!1};u(),i=o?"mouseout.walkme-jsp":"mouseup.walkme-jsp",o=o||e(W.containerDoc).find("html"),o.bind(i,function(){r.removeClass("walkme-jspActive"),a&&clearTimeout(a),a=null,o.unbind(i)})}function m(){h(),Y&&at.bind("mousedown.walkme-jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var r,o=e(this),i=o.offset(),a=t.pageY-i.top-tt,s=!0,u=function(){var e=o.offset(),n=t.pageY-e.top-lt/2,i=H*W.scrollPagePercent,c=et*i/(q-H);if(0>a)tt-c>n?St.scrollByY(-i):w(n);else{if(!(a>0))return void l();n>tt+c?St.scrollByY(i):w(n)}r=setTimeout(u,s?W.initialDelay:W.trackClickRepeatFreq),s=!1},l=function(){r&&clearTimeout(r),r=null,e(W.containerDoc).unbind("mouseup.walkme-jsp",l)};return u(),e(W.containerDoc).bind("mouseup.walkme-jsp",l),!1}}),K&&pt.bind("mousedown.walkme-jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var r,o=e(this),i=o.offset(),a=t.pageX-i.left-ot,s=!0,u=function(){var e=o.offset(),n=t.pageX-e.left-mt/2,i=V*W.scrollPagePercent,c=rt*i/($-V);if(0>a)ot-c>n?St.scrollByX(-i):b(n);else{if(!(a>0))return void l();n>ot+c?St.scrollByX(i):b(n)}r=setTimeout(u,s?W.initialDelay:W.trackClickRepeatFreq),s=!1},l=function(){r&&clearTimeout(r),r=null,e(W.containerDoc).unbind("mouseup.walkme-jsp",l)};return u(),e(W.containerDoc).bind("mouseup.walkme-jsp",l),!1}})}function h(){pt&&pt.unbind("mousedown.walkme-jsp"),at&&at.unbind("mousedown.walkme-jsp")}function v(){e(W.containerDoc).find("html").unbind("dragstart.walkme-jsp selectstart.walkme-jsp mousemove.walkme-jsp mouseup.walkme-jsp mouseleave.walkme-jsp"),Z&&Z.removeClass("walkme-jspActive"),nt&&nt.removeClass("walkme-jspActive")}function w(e,t){Y&&(0>e?e=0:e>et&&(e=et),t===n&&(t=W.animateScroll),t?St.animate(Z,"top",e,y):(Z.css("top",e),y(e)))}function y(e){e===n&&(e=Z.position().top),z.scrollTop(0),tt=e;var t=0===tt,o=tt==et,i=e/et,a=-i*(q-H);(Tt!=t||xt!=o)&&(Tt=t,xt=o,r.trigger("walkme-jsp-arrow-change",[Tt,xt,It,Ct])),S(t,o),U.css("top",a);try{r.trigger("walkme-jsp-scroll-y",[-a,t,o]).trigger("scroll")}catch(s){}}function b(e,t){K&&(0>e?e=0:e>rt&&(e=rt),t===n&&(t=W.animateScroll),t?St.animate(nt,"left",e,k):(nt.css("left",e),k(e)))}function k(e){e===n&&(e=nt.position().left),z.scrollTop(0),ot=e;var t=0===ot,o=ot==rt,i=e/rt,a=-i*($-V);(It!=t||Ct!=o)&&(It=t,Ct=o,r.trigger("walkme-jsp-arrow-change",[Tt,xt,It,Ct])),T(t,o),U.css("left",a);try{r.trigger("walkme-jsp-scroll-x",[-a,t,o]).trigger("scroll")}catch(s){}}function S(e,t){W.showArrows&&(ct[e?"addClass":"removeClass"]("walkme-jspDisabled"),dt[t?"addClass":"removeClass"]("walkme-jspDisabled"))}function T(e,t){W.showArrows&&(ht[e?"addClass":"removeClass"]("walkme-jspDisabled"),vt[t?"addClass":"removeClass"]("walkme-jspDisabled"))}function I(e,t){var n=e/(q-H);w(n*et,t)}function x(e,t){var n=e/($-V);b(n*rt,t)}function C(t,n,r){var o,i,a,s,u,l,c,d,f,p=0,g=0;try{o=e(t)}catch(m){return}for(i=o.outerHeight(),a=o.outerWidth(),z.scrollTop(0),z.scrollLeft(0);!o.is(".walkme-jspPane");)if(p+=o.position().top,g+=o.position().left,o=o.offsetParent(),/^body|html$/i.test(o[0].nodeName))return;s=E(),l=s+H,s>p||n?d=p-W.verticalGutter:p+i>l&&(d=p-H+i+W.verticalGutter),isNaN(d)||I(d,r),u=D(),c=u+V,u>g||n?f=g-W.horizontalGutter:g+a>c&&(f=g-V+a+W.horizontalGutter),isNaN(f)||x(f,r)}function D(){return-U.position().left}function E(){return-U.position().top}function P(){var e=q-H;return e>20&&e-E()<10}function N(){var e=$-V;return e>20&&e-D()<10}function j(){z.unbind(Et).bind(Et,function(e,t,n,r){var o=ot,i=tt;return St.scrollBy(n*W.mouseWheelSpeed,-r*W.mouseWheelSpeed,!1),o==ot&&i==tt})}function A(){z.unbind(Et)}function _(){return!1}function R(){U.find(":input,a").unbind("focus.walkme-jsp").bind("focus.walkme-jsp",function(e){C(e.target,!1)})}function L(){U.find(":input,a").unbind("focus.walkme-jsp")}function B(){function t(){var e=ot,t=tt;switch(n){case 40:St.scrollByY(W.keyboardSpeed,!1);break;case 38:St.scrollByY(-W.keyboardSpeed,!1);break;case 34:case 32:St.scrollByY(H*W.scrollPagePercent,!1);break;case 33:St.scrollByY(-H*W.scrollPagePercent,!1);break;case 39:St.scrollByX(W.keyboardSpeed,!1);break;case 37:St.scrollByX(-W.keyboardSpeed,!1)}return o=e!=ot||t!=tt}var n,o,i=[];K&&i.push(ft[0]),Y&&i.push(it[0]),U.focus(function(){r.focus()}),W.setTabIndex&&r.attr("tabindex",0),r.unbind("keydown.walkme-jsp keypress.walkme-jsp").bind("keydown.walkme-jsp",function(r){if(r.target===this||i.length&&e(r.target).closest(i).length){var a=ot,s=tt;switch(r.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=r.keyCode,t();break;case 35:I(q-H),n=null;break;case 36:I(0),n=null}return o=r.keyCode==n&&a!=ot||s!=tt,!o}}).bind("keypress.walkme-jsp",function(e){return e.keyCode==n&&t(),!o}),W.hideFocus?(r.css("outline","none"),"hideFocus"in z[0]&&r.attr("hideFocus",!0)):(r.css("outline",""),"hideFocus"in z[0]&&r.attr("hideFocus",!1))}function M(){W.setTabIndex&&r.attr("tabindex","-1").removeAttr("tabindex"),r.unbind("keydown.walkme-jsp keypress.walkme-jsp")}function O(){if(location.hash&&location.hash.length>1){var t,n,r=escape(location.hash.substr(1));try{t=e("#"+r+', a[name="'+r+'"]')}catch(o){return}t.length&&U.find(r)&&(0===z.scrollTop()?n=setInterval(function(){z.scrollTop()>0&&(C(t,!0),e(W.containerDoc).scrollTop(z.position().top),clearInterval(n))},50):(C(t,!0),e(W.containerDoc).scrollTop(z.position().top)))}}function F(){e(W.containerDoc.body).data("walkme-jspHijack")||(e(W.containerDoc.body).data("walkme-jspHijack",!0),e(W.containerDoc.body).delegate("a[href*=#]","click",function(n){var r,o,i,a,s,u,l=this.href.substr(0,this.href.indexOf("#")),c=location.href;if(-1!==location.href.indexOf("#")&&(c=location.href.substr(0,location.href.indexOf("#"))),l===c){r=escape(this.href.substr(this.href.indexOf("#")+1));try{o=e("#"+r+', a[name="'+r+'"]')}catch(d){return}o.length&&(i=o.closest(".walkme-jspScrollable"),a=i.data("walkme-jsp"),a.scrollToElement(o,!0),i[0].scrollIntoView&&(s=e(t).scrollTop(),u=o.offset().top,(s>u||u>s+e(t).height())&&i[0].scrollIntoView()),n.preventDefault())}}))}function G(){var e,t,n,r,o,i=!1;z.unbind("touchstart.walkme-jsp touchmove.walkme-jsp touchend.walkme-jsp click.walkme-jsp-touchclick").bind("touchstart.walkme-jsp",function(a){var s=a.originalEvent.touches[0];e=D(),t=E(),n=s.pageX,r=s.pageY,o=!1,i=!0}).bind("touchmove.walkme-jsp",function(a){if(i){var s=a.originalEvent.touches[0],u=ot,l=tt;return St.scrollTo(e+n-s.pageX,t+r-s.pageY),o=o||Math.abs(n-s.pageX)>5||Math.abs(r-s.pageY)>5,u==ot&&l==tt}}).bind("touchend.walkme-jsp",function(){i=!1}).bind("click.walkme-jsp-touchclick",function(){return o?(o=!1,!1):void 0})}function Q(){var e=E(),t=D();r.removeClass("walkme-jspScrollable").unbind(".walkme-jsp"),r.replaceWith(Dt.append(U.children())),Dt.scrollTop(e),Dt.scrollLeft(t),wt&&clearInterval(wt)}var W,U,V,H,z,$,q,X,J,Y,K,Z,et,tt,nt,rt,ot,it,at,st,ut,lt,ct,dt,ft,pt,gt,mt,ht,vt,wt,yt,bt,kt,St=this,Tt=!0,It=!0,xt=!1,Ct=!1,Dt=r.clone(!1,!1).empty(),Et=e.fn.mwheelIntent?"mwheelIntent.walkme-jsp":"mousewheel.walkme-jsp";"border-box"===r.css("box-sizing")?(yt=0,bt=0):(yt=r.css("paddingTop")+" "+r.css("paddingRight")+" "+r.css("paddingBottom")+" "+r.css("paddingLeft"),bt=(parseInt(r.css("paddingLeft"),10)||0)+(parseInt(r.css("paddingRight"),10)||0)),e.extend(St,{reinitialise:function(t){t=e.extend({},W,t),i(t)},scrollToElement:function(e,t,n){C(e,t,n)},scrollTo:function(e,t,n){x(e,n),I(t,n)},scrollToX:function(e,t){x(e,t)},scrollToY:function(e,t){I(e,t)},scrollToPercentX:function(e,t){x(e*($-V),t)},scrollToPercentY:function(e,t){I(e*(q-H),t)},scrollBy:function(e,t,n){St.scrollByX(e,n),St.scrollByY(t,n)},scrollByX:function(e,t){var n=D()+Math[0>e?"floor":"ceil"](e),r=n/($-V);b(r*rt,t)},scrollByY:function(e,t){var n=E()+Math[0>e?"floor":"ceil"](e),r=n/(q-H);w(r*et,t)},positionDragX:function(e,t){b(e,t)},positionDragY:function(e,t){w(e,t)},animate:function(e,t,n,r){var o={};o[t]=n,e.animate(o,{duration:W.animateDuration,easing:W.animateEase,queue:!1,step:r})},getContentPositionX:function(){return D()},getContentPositionY:function(){return E()},getContentWidth:function(){return $},getContentHeight:function(){return q},getPercentScrolledX:function(){return D()/($-V)},getPercentScrolledY:function(){return E()/(q-H)},getIsScrollableH:function(){return K},getIsScrollableV:function(){return Y},getContentPane:function(){return U},scrollToBottom:function(e){w(et,e)},hijackInternalLinks:e.noop,destroy:function(){Q()}}),i(o)}return r=e.extend({},e.fn.jScrollPane.defaults,r),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){r[this]=r[this]||r.speed}),this.each(function(){var t=e(this),n=t.data("walkme-jsp");n?n.reinitialise(r):(e("script",t).filter('[type="text/javascript"],:not([type])').remove(),n=new o(t,r),t.data("walkme-jsp",n))})},e.fn.jScrollPane.defaults={containerDoc:document,setTabIndex:!0,alwaysScrollVertical:!1,alwaysScrollHorizontal:!1,dragMaxYOffset:0,showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:n,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(wmjQuery,this),function(e){function t(t){var o,i=t||window.event,a=[].slice.call(arguments,1),s=0,u=0,l=0,c=0,d=0;return t=e.event.fix(i),t.type="mousewheel",i.wheelDelta&&(s=i.wheelDelta),i.detail&&(s=-1*i.detail),i.deltaY&&(l=-1*i.deltaY,s=l),i.deltaX&&(u=i.deltaX,s=-1*u),void 0!==i.wheelDeltaY&&(l=i.wheelDeltaY),void 0!==i.wheelDeltaX&&(u=-1*i.wheelDeltaX),c=Math.abs(s),(!n||n>c)&&(n=c),d=Math.max(Math.abs(l),Math.abs(u)),(!r||r>d)&&(r=d),o=s>0?"floor":"ceil",s=Math[o](s/n),u=Math[o](u/r),l=Math[o](l/r),a.unshift(t,s,u,l),(e.event.dispatch||e.event.handle).apply(this,a)}var n,r,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(e.event.fixHooks)for(var a=o.length;a;)e.event.fixHooks[o[--a]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(wmjQuery),function(e){var t,n={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},r={duration:"fast",direction:"both"},o=function(t,n){n=n||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle);var r=document.defaultView&&document.defaultView.getComputedStyle?!0:!1,o={top:parseFloat(r?n.borderTopWidth:e.css(t,"borderTopWidth"))||0,left:parseFloat(r?n.borderLeftWidth:e.css(t,"borderLeftWidth"))||0,bottom:parseFloat(r?n.borderBottomWidth:e.css(t,"borderBottomWidth"))||0,right:parseFloat(r?n.borderRightWidth:e.css(t,"borderRightWidth"))||0};return{top:o.top,left:o.left,bottom:o.bottom,right:o.right,vertical:o.top+o.bottom,horizontal:o.left+o.right}},i=function(n){var r=e(window),i=t.test(n[0].nodeName);return{border:i?{top:0,left:0,bottom:0,right:0}:o(n[0]),scroll:{top:(i?r:n).scrollTop(),left:(i?r:n).scrollLeft()},scrollbar:{right:i?0:n.innerWidth()-n[0].clientWidth,bottom:i?0:n.innerHeight()-n[0].clientHeight},rect:function(){var e=n[0].getBoundingClientRect();return{top:i?0:e.top,left:i?0:e.left,bottom:i?n[0].clientHeight:e.bottom,right:i?n[0].clientWidth:e.right}}()}};e.fn.extend({scrollintoview:function(o){o=e.extend({},r,o),o.direction=n["string"==typeof o.direction&&o.direction.toLowerCase()]||n.both;var a="";o.direction.x===!0&&(a="horizontal"),o.direction.y===!0&&(a=a?"both":"vertical"),t="html"==o.rootElement?/^(?:html)$/i:/^(?:body)$/i;var s=this.eq(0),u=o.elementToFindScrollableFor.parent().closest(":scrollable("+a+")");if(!(u.length>0))return!1;"html"==o.rootElement&&u[0].tagName&&u[0].tagName.toUpperCase&&"BODY"==u[0].tagName.toUpperCase()&&(u=u.parent()),u=u.eq(0);var l={e:i(s),s:i(u)};if(o.heightLimit&&u.height()<200)return!1;var c={top:l.e.rect.top-(l.s.rect.top+l.s.border.top),bottom:l.s.rect.bottom-l.s.border.bottom-l.s.scrollbar.bottom-l.e.rect.bottom,left:l.e.rect.left-(l.s.rect.left+l.s.border.left),right:l.s.rect.right-l.s.border.right-l.s.scrollbar.right-l.e.rect.right},d=0,f={top:c.top,bottom:c.bottom};if(o.endScroll){var p=o.endScroll.scrollOptions;d="px"==p.unit?p.distance:(l.s.rect.bottom-o.endScroll.balloonHeight)*parseFloat(p.distance)/100,c.top>0&&c.bottom<0&&(d+=o.endScroll.totalDrawnHeight-l.s.rect.bottom),p.force&&(f.top-=d)}else c.top-=50,c.bottom-=50;var g={};return o.direction.y===!0&&(f.top<0?g.scrollTop=l.s.scroll.top+c.top-d:f.top>0&&f.bottom<0&&(g.scrollTop=l.s.scroll.top+Math.min(c.top,-c.bottom)-d)),o.direction.x===!0&&(c.left<0?g.scrollLeft=l.s.scroll.left+c.left:c.left>0&&c.right<0&&(g.scrollLeft=l.s.scroll.left+Math.min(c.left,-c.right))),g.scrollTop||g.scrollLeft?(t.test(u[0].nodeName)&&(u=e("html,body")),u.animate(g,o.duration).eq(0).queue(function(t){e.isFunction(o.complete)&&o.complete.call(u[0]),t()}),!0):!1}});var a={auto:!0,scroll:!0,visible:!1,hidden:!1};e.extend(e.expr[":"],{scrollable:function(e,r,o){var i=n["string"==typeof o[3]&&o[3].toLowerCase()]||n.both,s=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle,u={x:a[s.overflowX.toLowerCase()]||!1,y:a[s.overflowY.toLowerCase()]||!1,isRoot:t.test(e.nodeName)};if(!u.x&&!u.y&&!u.isRoot||"hidden"==s.overflowY.toLowerCase())return!1;var l={height:{scroll:e.scrollHeight,client:e.clientHeight},width:{scroll:e.scrollWidth,client:e.clientWidth},scrollableX:function(){return(u.x||u.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(u.y||u.isRoot)&&this.height.scroll>this.height.client}};return i.y&&l.scrollableY()||i.x&&l.scrollableX()}})}(mtjQuery);var _makeTutorialEv={Ev:function(src){return eval(src)}};if(void 0==window._makeTutorial){var _makeTutorial=new ClassMakeTutorial;_makeTutorial.initFailed&&(_makeTutorial=void 0)}if(window._makeTutorial&&void 0==window.WalkMeAPI)var WalkMeAPI=new ClassWalkMeAPI;